{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/lib/reports/generator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\n\n// Types\nexport interface ReportMetrics {\n  totalSpend: number;\n  totalRevenue: number;\n  totalConversions: number;\n  totalClicks: number;\n  totalImpressions: number;\n  averageROAS: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n}\n\nexport interface CustomerData {\n  customer_name: string;\n  customer_id: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\nexport interface PerformanceData {\n  date: string;\n  spend: number;\n  revenue: number;\n  clicks: number;\n  conversions: number;\n}\n\nexport interface CampaignData {\n  id: string;\n  name: string;\n  status: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\n// Utility functions\nconst formatCurrency = (num: number) => `$${num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\nconst formatNumber = (num: number) => num.toLocaleString(undefined, { maximumFractionDigits: 0 });\nconst formatPercent = (num: number) => `${num.toFixed(2)}%`;\nconst formatROAS = (num: number) => `${num.toFixed(2)}x`;\n\n// PDF Color Theme\nconst COLORS = {\n  primary: [99, 102, 241] as [number, number, number], // Purple\n  secondary: [16, 185, 129] as [number, number, number], // Emerald\n  warning: [245, 158, 11] as [number, number, number], // Amber\n  danger: [239, 68, 68] as [number, number, number], // Red\n  dark: [15, 23, 42] as [number, number, number], // Slate\n  light: [241, 245, 249] as [number, number, number], // Gray\n};\n\n// Generate PDF Report for Dashboard\nexport function generateDashboardPDF(\n  metrics: ReportMetrics,\n  customers: CustomerData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string },\n  title: string = 'Marketing Analytics Report'\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 40, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(24);\n  doc.setFont('helvetica', 'bold');\n  doc.text(title, 14, 25);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`Report Period: ${dateRange.start} - ${dateRange.end}`, 14, 35);\n  doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - 60, 35);\n\n  y = 55;\n\n  // Executive Summary\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(16);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Executive Summary', 14, y);\n  y += 10;\n\n  // Key Metrics Grid (2x3)\n  const metricsGrid = [\n    [\n      { label: 'Total Spend', value: formatCurrency(metrics.totalSpend), color: COLORS.primary },\n      { label: 'Total Revenue', value: formatCurrency(metrics.totalRevenue), color: COLORS.secondary },\n      { label: 'ROAS', value: formatROAS(metrics.averageROAS), color: COLORS.primary },\n    ],\n    [\n      { label: 'Conversions', value: formatNumber(metrics.totalConversions), color: COLORS.warning },\n      { label: 'CTR', value: formatPercent(metrics.ctr), color: COLORS.primary },\n      { label: 'Avg CPC', value: formatCurrency(metrics.cpc), color: COLORS.danger },\n    ],\n  ];\n\n  const cardWidth = 58;\n  const cardHeight = 25;\n  const cardSpacing = 4;\n\n  metricsGrid.forEach((row, rowIndex) => {\n    row.forEach((metric, colIndex) => {\n      const x = 14 + (cardWidth + cardSpacing) * colIndex;\n      const cardY = y + (cardHeight + cardSpacing) * rowIndex;\n      \n      // Card background\n      doc.setFillColor(245, 245, 250);\n      doc.roundedRect(x, cardY, cardWidth, cardHeight, 3, 3, 'F');\n      \n      // Card accent\n      doc.setFillColor(...metric.color);\n      doc.rect(x, cardY, 3, cardHeight, 'F');\n      \n      // Label\n      doc.setTextColor(100, 100, 100);\n      doc.setFontSize(8);\n      doc.setFont('helvetica', 'normal');\n      doc.text(metric.label, x + 8, cardY + 8);\n      \n      // Value\n      doc.setTextColor(...COLORS.dark);\n      doc.setFontSize(14);\n      doc.setFont('helvetica', 'bold');\n      doc.text(metric.value, x + 8, cardY + 18);\n    });\n  });\n\n  y += (cardHeight + cardSpacing) * 2 + 15;\n\n  // Client Performance Table\n  if (customers.length > 0) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(16);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Client Performance', 14, y);\n    y += 5;\n\n    const tableData = customers.slice(0, 15).map((c, i) => [\n      (i + 1).toString(),\n      c.customer_name,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n      formatNumber(c.conversions),\n      formatPercent(c.ctr),\n    ]);\n\n    autoTable(doc, {\n      startY: y,\n      head: [['#', 'Client', 'Spend', 'Revenue', 'ROAS', 'Conv.', 'CTR']],\n      body: tableData,\n      theme: 'striped',\n      headStyles: {\n        fillColor: COLORS.primary,\n        textColor: [255, 255, 255],\n        fontStyle: 'bold',\n        fontSize: 9,\n      },\n      bodyStyles: {\n        fontSize: 8,\n        textColor: COLORS.dark,\n      },\n      alternateRowStyles: {\n        fillColor: [248, 250, 252],\n      },\n      columnStyles: {\n        0: { cellWidth: 10 },\n        1: { cellWidth: 45 },\n        2: { cellWidth: 25, halign: 'right' },\n        3: { cellWidth: 25, halign: 'right' },\n        4: { cellWidth: 20, halign: 'right' },\n        5: { cellWidth: 20, halign: 'right' },\n        6: { cellWidth: 20, halign: 'right' },\n      },\n      margin: { left: 14, right: 14 },\n    });\n\n    y = (doc as any).lastAutoTable.finalY + 15;\n  }\n\n  // Top Performers section\n  const topPerformers = customers.filter(c => c.roas >= metrics.averageROAS).slice(0, 5);\n  if (topPerformers.length > 0 && y < 240) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(14);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Top Performers (Above Average ROAS)', 14, y);\n    y += 8;\n\n    topPerformers.forEach((c, i) => {\n      doc.setFillColor(...COLORS.secondary);\n      doc.setTextColor(255, 255, 255);\n      doc.roundedRect(14, y, 180, 12, 2, 2, 'F');\n      doc.setFontSize(9);\n      doc.text(`${i + 1}. ${c.customer_name} - ${formatROAS(c.roas)} ROAS | ${formatCurrency(c.revenue)} revenue`, 18, y + 8);\n      y += 15;\n    });\n  }\n\n  // Footer\n  const pageCount = doc.getNumberOfPages();\n  for (let i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n    doc.setFontSize(8);\n    doc.setTextColor(150, 150, 150);\n    doc.text(\n      `Page ${i} of ${pageCount} | Marketing Analytics Report | Confidential`,\n      pageWidth / 2,\n      doc.internal.pageSize.height - 10,\n      { align: 'center' }\n    );\n  }\n\n  return doc;\n}\n\n// Generate PDF for Client Detail\nexport function generateClientPDF(\n  clientName: string,\n  metrics: ReportMetrics,\n  campaigns: CampaignData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 45, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Client Performance Report', 14, 22);\n  \n  doc.setFontSize(16);\n  doc.text(clientName, 14, 35);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`${dateRange.start} - ${dateRange.end}`, pageWidth - 60, 35);\n\n  y = 60;\n\n  // Performance Summary\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Performance Summary', 14, y);\n  y += 10;\n\n  // Metrics cards\n  const summaryMetrics = [\n    { label: 'Total Spend', value: formatCurrency(metrics.totalSpend) },\n    { label: 'Revenue', value: formatCurrency(metrics.totalRevenue) },\n    { label: 'ROAS', value: formatROAS(metrics.averageROAS) },\n    { label: 'Conversions', value: formatNumber(metrics.totalConversions) },\n    { label: 'CTR', value: formatPercent(metrics.ctr) },\n    { label: 'CPC', value: formatCurrency(metrics.cpc) },\n  ];\n\n  const cols = 3;\n  const metricCardWidth = 55;\n  const metricCardHeight = 22;\n\n  summaryMetrics.forEach((metric, i) => {\n    const col = i % cols;\n    const row = Math.floor(i / cols);\n    const x = 14 + col * (metricCardWidth + 8);\n    const cardY = y + row * (metricCardHeight + 5);\n\n    doc.setFillColor(245, 245, 250);\n    doc.roundedRect(x, cardY, metricCardWidth, metricCardHeight, 2, 2, 'F');\n    \n    doc.setTextColor(100, 100, 100);\n    doc.setFontSize(8);\n    doc.text(metric.label, x + 5, cardY + 8);\n    \n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(12);\n    doc.setFont('helvetica', 'bold');\n    doc.text(metric.value, x + 5, cardY + 17);\n    doc.setFont('helvetica', 'normal');\n  });\n\n  y += Math.ceil(summaryMetrics.length / cols) * (metricCardHeight + 5) + 15;\n\n  // Campaign Performance Table\n  if (campaigns.length > 0) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(14);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Campaign Performance', 14, y);\n    y += 5;\n\n    const tableData = campaigns.map((c, i) => [\n      (i + 1).toString(),\n      c.name.substring(0, 30) + (c.name.length > 30 ? '...' : ''),\n      c.status,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n      formatNumber(c.conversions),\n    ]);\n\n    autoTable(doc, {\n      startY: y,\n      head: [['#', 'Campaign', 'Status', 'Spend', 'Revenue', 'ROAS', 'Conv.']],\n      body: tableData,\n      theme: 'striped',\n      headStyles: {\n        fillColor: COLORS.primary,\n        textColor: [255, 255, 255],\n        fontStyle: 'bold',\n        fontSize: 8,\n      },\n      bodyStyles: {\n        fontSize: 7,\n        textColor: COLORS.dark,\n      },\n      columnStyles: {\n        0: { cellWidth: 8 },\n        1: { cellWidth: 55 },\n        2: { cellWidth: 20 },\n        3: { cellWidth: 22, halign: 'right' },\n        4: { cellWidth: 22, halign: 'right' },\n        5: { cellWidth: 18, halign: 'right' },\n        6: { cellWidth: 18, halign: 'right' },\n      },\n      margin: { left: 14, right: 14 },\n    });\n  }\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(150, 150, 150);\n  doc.text(\n    `Generated: ${new Date().toLocaleString()} | Marketing Analytics | Confidential`,\n    pageWidth / 2,\n    doc.internal.pageSize.height - 10,\n    { align: 'center' }\n  );\n\n  return doc;\n}\n\n// Generate PDF for Metric Analysis\nexport function generateMetricPDF(\n  metricName: string,\n  metricDescription: string,\n  totalValue: string,\n  customers: CustomerData[],\n  dateRange: { start: string; end: string },\n  sortKey: keyof CustomerData\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 40, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(22);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${metricName} Analysis`, 14, 25);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`${dateRange.start} - ${dateRange.end}`, pageWidth - 60, 25);\n  doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - 60, 35);\n\n  y = 55;\n\n  // Total metric value\n  doc.setFillColor(245, 245, 250);\n  doc.roundedRect(14, y, pageWidth - 28, 30, 3, 3, 'F');\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(14, y, 4, 30, 'F');\n  \n  doc.setTextColor(100, 100, 100);\n  doc.setFontSize(10);\n  doc.text(`Total ${metricName}`, 24, y + 10);\n  \n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text(totalValue, 24, y + 24);\n  doc.setFont('helvetica', 'normal');\n\n  y += 45;\n\n  // Client Ranking Table\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`Client Ranking by ${metricName}`, 14, y);\n  y += 5;\n\n  const sortedCustomers = [...customers].sort((a, b) => {\n    const aVal = a[sortKey] as number;\n    const bVal = b[sortKey] as number;\n    return sortKey === 'cpc' ? aVal - bVal : bVal - aVal;\n  });\n\n  const tableData = sortedCustomers.map((c, i) => {\n    let metricValue: string;\n    switch (sortKey) {\n      case 'spend':\n      case 'revenue':\n      case 'cpc':\n        metricValue = formatCurrency(c[sortKey] as number);\n        break;\n      case 'roas':\n        metricValue = formatROAS(c[sortKey]);\n        break;\n      case 'ctr':\n      case 'convRate':\n        metricValue = formatPercent(c[sortKey] as number);\n        break;\n      default:\n        metricValue = formatNumber(c[sortKey] as number);\n    }\n    return [\n      (i + 1).toString(),\n      c.customer_name,\n      metricValue,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n    ];\n  });\n\n  autoTable(doc, {\n    startY: y,\n    head: [['Rank', 'Client', metricName, 'Spend', 'Revenue', 'ROAS']],\n    body: tableData,\n    theme: 'striped',\n    headStyles: {\n      fillColor: COLORS.primary,\n      textColor: [255, 255, 255],\n      fontStyle: 'bold',\n      fontSize: 9,\n    },\n    bodyStyles: {\n      fontSize: 8,\n      textColor: COLORS.dark,\n    },\n    columnStyles: {\n      0: { cellWidth: 15 },\n      1: { cellWidth: 55 },\n      2: { cellWidth: 30, halign: 'right', fontStyle: 'bold' },\n      3: { cellWidth: 28, halign: 'right' },\n      4: { cellWidth: 28, halign: 'right' },\n      5: { cellWidth: 22, halign: 'right' },\n    },\n    margin: { left: 14, right: 14 },\n  });\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(150, 150, 150);\n  doc.text(\n    `Marketing Analytics | ${metricName} Report | Confidential`,\n    pageWidth / 2,\n    doc.internal.pageSize.height - 10,\n    { align: 'center' }\n  );\n\n  return doc;\n}\n\n// Generate Excel for Dashboard\nexport function generateDashboardExcel(\n  metrics: ReportMetrics,\n  customers: CustomerData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const wb = XLSX.utils.book_new();\n\n  // Summary Sheet\n  const summaryData = [\n    ['Marketing Analytics Report'],\n    [`Report Period: ${dateRange.start} - ${dateRange.end}`],\n    [`Generated: ${new Date().toLocaleString()}`],\n    [],\n    ['Key Metrics'],\n    ['Metric', 'Value'],\n    ['Total Spend', metrics.totalSpend],\n    ['Total Revenue', metrics.totalRevenue],\n    ['Average ROAS', metrics.averageROAS],\n    ['Total Conversions', metrics.totalConversions],\n    ['Total Clicks', metrics.totalClicks],\n    ['Total Impressions', metrics.totalImpressions],\n    ['CTR (%)', metrics.ctr],\n    ['CPC', metrics.cpc],\n    ['Conversion Rate (%)', metrics.convRate],\n  ];\n  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n\n  // Client Performance Sheet\n  const clientHeaders = ['Client Name', 'Client ID', 'Spend', 'Revenue', 'ROAS', 'Conversions', 'Clicks', 'Impressions', 'CTR (%)', 'CPC', 'Conv Rate (%)'];\n  const clientData = customers.map(c => [\n    c.customer_name,\n    c.customer_id,\n    c.spend,\n    c.revenue,\n    c.roas,\n    c.conversions,\n    c.clicks,\n    c.impressions,\n    c.ctr,\n    c.cpc,\n    c.convRate,\n  ]);\n  const clientSheet = XLSX.utils.aoa_to_sheet([clientHeaders, ...clientData]);\n  XLSX.utils.book_append_sheet(wb, clientSheet, 'Client Performance');\n\n  // Daily Performance Sheet\n  const dailyHeaders = ['Date', 'Spend', 'Revenue', 'Clicks', 'Conversions'];\n  const dailyData = performanceData.map(d => [d.date, d.spend, d.revenue, d.clicks, d.conversions]);\n  const dailySheet = XLSX.utils.aoa_to_sheet([dailyHeaders, ...dailyData]);\n  XLSX.utils.book_append_sheet(wb, dailySheet, 'Daily Performance');\n\n  return wb;\n}\n\n// Generate Excel for Client\nexport function generateClientExcel(\n  clientName: string,\n  metrics: ReportMetrics,\n  campaigns: CampaignData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const wb = XLSX.utils.book_new();\n\n  // Summary Sheet\n  const summaryData = [\n    [`Client Report: ${clientName}`],\n    [`Report Period: ${dateRange.start} - ${dateRange.end}`],\n    [`Generated: ${new Date().toLocaleString()}`],\n    [],\n    ['Performance Summary'],\n    ['Metric', 'Value'],\n    ['Total Spend', metrics.totalSpend],\n    ['Total Revenue', metrics.totalRevenue],\n    ['ROAS', metrics.averageROAS],\n    ['Conversions', metrics.totalConversions],\n    ['Clicks', metrics.totalClicks],\n    ['Impressions', metrics.totalImpressions],\n    ['CTR (%)', metrics.ctr],\n    ['CPC', metrics.cpc],\n    ['Conversion Rate (%)', metrics.convRate],\n  ];\n  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n\n  // Campaigns Sheet\n  const campaignHeaders = ['Campaign Name', 'Status', 'Spend', 'Revenue', 'ROAS', 'Conversions', 'Clicks', 'Impressions', 'CTR (%)', 'CPC', 'Conv Rate (%)'];\n  const campaignData = campaigns.map(c => [\n    c.name,\n    c.status,\n    c.spend,\n    c.revenue,\n    c.roas,\n    c.conversions,\n    c.clicks,\n    c.impressions,\n    c.ctr,\n    c.cpc,\n    c.convRate,\n  ]);\n  const campaignSheet = XLSX.utils.aoa_to_sheet([campaignHeaders, ...campaignData]);\n  XLSX.utils.book_append_sheet(wb, campaignSheet, 'Campaigns');\n\n  // Daily Performance Sheet\n  const dailyHeaders = ['Date', 'Spend', 'Revenue', 'Clicks', 'Conversions'];\n  const dailyData = performanceData.map(d => [d.date, d.spend, d.revenue, d.clicks, d.conversions]);\n  const dailySheet = XLSX.utils.aoa_to_sheet([dailyHeaders, ...dailyData]);\n  XLSX.utils.book_append_sheet(wb, dailySheet, 'Daily Performance');\n\n  return wb;\n}\n\n// Download helpers\nexport function downloadPDF(doc: jsPDF, filename: string) {\n  doc.save(`${filename}.pdf`);\n}\n\nexport function downloadExcel(wb: XLSX.WorkBook, filename: string) {\n  const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n  const blob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n  saveAs(blob, `${filename}.xlsx`);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 829, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/app/dashboard/metrics/%5Bmetric%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { \n  ArrowLeft,\n  DollarSign,\n  TrendingUp,\n  TrendingDown,\n  Target,\n  MousePointerClick,\n  Percent,\n  Calendar,\n  ChevronDown,\n  Building2,\n  Check,\n  ArrowUpRight,\n  ArrowDownRight,\n  Award,\n  AlertCircle,\n  BarChart3,\n  Eye,\n  FileDown,\n  FileSpreadsheet\n} from 'lucide-react';\nimport { ExportDropdown } from '@/components/ExportButtons';\nimport {\n  generateMetricPDF,\n  downloadPDF,\n  downloadExcel,\n  type CustomerData,\n} from '@/lib/reports/generator';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  Area,\n  AreaChart,\n  ComposedChart,\n  Cell,\n} from 'recharts';\n\n// Date range types and presets\ntype DatePreset = 'last7' | 'last30' | 'lastQuarter' | 'thisQuarter' | 'ytd' | 'lastYear' | 'custom';\n\ninterface DateRange {\n  startDate: string;\n  endDate: string;\n}\n\nconst DATE_PRESETS: { id: DatePreset; label: string }[] = [\n  { id: 'last7', label: 'Last 7 Days' },\n  { id: 'last30', label: 'Last 30 Days' },\n  { id: 'thisQuarter', label: 'This Quarter' },\n  { id: 'lastQuarter', label: 'Last Quarter' },\n  { id: 'ytd', label: 'Year to Date' },\n  { id: 'lastYear', label: 'Last Year' },\n  { id: 'custom', label: 'Custom Range' },\n];\n\nfunction getDateRangeFromPreset(preset: DatePreset): DateRange {\n  const today = new Date();\n  const endDate = today.toISOString().split('T')[0];\n  \n  switch (preset) {\n    case 'last7': {\n      const start = new Date(today);\n      start.setDate(today.getDate() - 7);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'last30': {\n      const start = new Date(today);\n      start.setDate(today.getDate() - 30);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'thisQuarter': {\n      const quarter = Math.floor(today.getMonth() / 3);\n      const start = new Date(today.getFullYear(), quarter * 3, 1);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'lastQuarter': {\n      const quarter = Math.floor(today.getMonth() / 3);\n      const startMonth = (quarter - 1) * 3;\n      const year = startMonth < 0 ? today.getFullYear() - 1 : today.getFullYear();\n      const adjustedStartMonth = startMonth < 0 ? 9 : startMonth;\n      const start = new Date(year, adjustedStartMonth, 1);\n      const end = new Date(year, adjustedStartMonth + 3, 0);\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\n    }\n    case 'ytd': {\n      const start = new Date(today.getFullYear(), 0, 1);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'lastYear': {\n      const start = new Date(today.getFullYear() - 1, 0, 1);\n      const end = new Date(today.getFullYear() - 1, 11, 31);\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\n    }\n    default:\n      return { startDate: endDate, endDate };\n  }\n}\n\ninterface CustomerOption {\n  id: string;\n  name: string;\n  platform: string;\n}\n\ninterface CustomerMetrics {\n  customer_name: string;\n  customer_id: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\ninterface MetricData {\n  metrics: {\n    totalSpend: number;\n    totalConversions: number;\n    averageROAS: number;\n    totalImpressions: number;\n    totalClicks: number;\n    totalRevenue: number;\n    ctr: number;\n    cpc: number;\n    convRate: number;\n  };\n  performanceData: Array<{\n    date: string;\n    spend: number;\n    revenue: number;\n    clicks: number;\n    conversions: number;\n  }>;\n  customerMetrics: CustomerMetrics[];\n  availableCustomers: CustomerOption[];\n}\n\nconst METRIC_CONFIG: Record<string, {\n  title: string;\n  description: string;\n  icon: any;\n  color: string;\n  dataKey: string;\n  format: (value: number) => string;\n  sortKey: keyof CustomerMetrics;\n  compareKey?: keyof CustomerMetrics;\n  benchmark?: { good: number; excellent: number };\n}> = {\n  spend: {\n    title: 'Total Spend Analysis',\n    description: 'Detailed breakdown of advertising spend across all clients',\n    icon: DollarSign,\n    color: 'blue',\n    dataKey: 'spend',\n    format: (v) => `$${v.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\n    sortKey: 'spend',\n    compareKey: 'revenue',\n  },\n  revenue: {\n    title: 'Revenue Analysis',\n    description: 'Revenue generated from advertising campaigns',\n    icon: TrendingUp,\n    color: 'emerald',\n    dataKey: 'revenue',\n    format: (v) => `$${v.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\n    sortKey: 'revenue',\n    compareKey: 'spend',\n  },\n  roas: {\n    title: 'ROAS Analysis',\n    description: 'Return on Ad Spend performance by client',\n    icon: Target,\n    color: 'purple',\n    dataKey: 'roas',\n    format: (v) => `${v.toFixed(2)}x`,\n    sortKey: 'roas',\n    benchmark: { good: 2, excellent: 4 },\n  },\n  conversions: {\n    title: 'Conversions Analysis',\n    description: 'Conversion performance and trends across campaigns',\n    icon: MousePointerClick,\n    color: 'amber',\n    dataKey: 'conversions',\n    format: (v) => v.toLocaleString(),\n    sortKey: 'conversions',\n  },\n  ctr: {\n    title: 'Click-Through Rate Analysis',\n    description: 'CTR performance and engagement metrics',\n    icon: Percent,\n    color: 'cyan',\n    dataKey: 'clicks',\n    format: (v) => `${v.toFixed(2)}%`,\n    sortKey: 'ctr',\n    benchmark: { good: 2, excellent: 5 },\n  },\n  cpc: {\n    title: 'Cost Per Click Analysis',\n    description: 'CPC efficiency across clients and campaigns',\n    icon: DollarSign,\n    color: 'pink',\n    dataKey: 'spend',\n    format: (v) => `$${v.toFixed(2)}`,\n    sortKey: 'cpc',\n  },\n};\n\nconst COLORS = ['#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16', '#f97316'];\n\nexport default function MetricDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const metricSlug = params.metric as string;\n  \n  const [data, setData] = useState<MetricData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  \n  // Filter states - load from sessionStorage\n  const [datePreset, setDatePreset] = useState<DatePreset>('last30');\n  const [customDateRange, setCustomDateRange] = useState<DateRange>(() => getDateRangeFromPreset('last30'));\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [showCustomDates, setShowCustomDates] = useState(false);\n  \n  const [availableCustomers, setAvailableCustomers] = useState<CustomerOption[]>([]);\n  const [selectedCustomers, setSelectedCustomers] = useState<string[]>([]);\n  const [showCustomerPicker, setShowCustomerPicker] = useState(false);\n  \n  const datePickerRef = useRef<HTMLDivElement>(null);\n  const customerPickerRef = useRef<HTMLDivElement>(null);\n\n  // Load filter state from sessionStorage on mount\n  useEffect(() => {\n    const saved = sessionStorage.getItem('dashboardFilters');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        if (parsed.datePreset) setDatePreset(parsed.datePreset);\n        if (parsed.customDateRange) setCustomDateRange(parsed.customDateRange);\n        if (parsed.selectedCustomers) setSelectedCustomers(parsed.selectedCustomers);\n      } catch (e) {\n        console.error('Failed to parse saved filters:', e);\n      }\n    }\n  }, []);\n\n  // Save filter state to sessionStorage\n  useEffect(() => {\n    sessionStorage.setItem('dashboardFilters', JSON.stringify({\n      datePreset,\n      customDateRange,\n      selectedCustomers,\n    }));\n  }, [datePreset, customDateRange, selectedCustomers]);\n\n  // Close dropdowns when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (datePickerRef.current && !datePickerRef.current.contains(event.target as Node)) {\n        setShowDatePicker(false);\n      }\n      if (customerPickerRef.current && !customerPickerRef.current.contains(event.target as Node)) {\n        setShowCustomerPicker(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const demoModeEnabled = localStorage.getItem('demo_mode') === 'true';\n      setIsDemoMode(demoModeEnabled);\n      \n      if (demoModeEnabled) {\n        // Demo data\n        setData({\n          metrics: {\n            totalSpend: 41340,\n            totalConversions: 694,\n            averageROAS: 3.7,\n            totalImpressions: 2850000,\n            totalClicks: 48500,\n            totalRevenue: 152958,\n            ctr: 1.7,\n            cpc: 0.85,\n            convRate: 1.43,\n          },\n          performanceData: [\n            { date: '10/15', spend: 2800, revenue: 8400, clicks: 3200, conversions: 45 },\n            { date: '10/17', spend: 3200, revenue: 9600, clicks: 3800, conversions: 52 },\n            { date: '10/19', spend: 2900, revenue: 10200, clicks: 3400, conversions: 58 },\n            { date: '10/21', spend: 3100, revenue: 11500, clicks: 3600, conversions: 61 },\n            { date: '10/23', spend: 3400, revenue: 12100, clicks: 4000, conversions: 68 },\n            { date: '10/25', spend: 3000, revenue: 11800, clicks: 3500, conversions: 64 },\n            { date: '10/27', spend: 3500, revenue: 12500, clicks: 4100, conversions: 72 },\n            { date: '10/29', spend: 2800, revenue: 10800, clicks: 3300, conversions: 55 },\n          ],\n          customerMetrics: [\n            { customer_name: 'Demo Client A', customer_id: '1', spend: 15000, revenue: 60000, conversions: 250, clicks: 12000, impressions: 400000, ctr: 3.0, cpc: 1.25, convRate: 2.08, roas: 4.0 },\n            { customer_name: 'Demo Client B', customer_id: '2', spend: 12000, revenue: 42000, conversions: 180, clicks: 10000, impressions: 350000, ctr: 2.86, cpc: 1.20, convRate: 1.80, roas: 3.5 },\n            { customer_name: 'Demo Client C', customer_id: '3', spend: 8000, revenue: 28000, conversions: 120, clicks: 8000, impressions: 280000, ctr: 2.86, cpc: 1.00, convRate: 1.50, roas: 3.5 },\n          ],\n          availableCustomers: [],\n        });\n        setLoading(false);\n        return;\n      }\n\n      const params = new URLSearchParams();\n      const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n      params.set('startDate', range.startDate);\n      params.set('endDate', range.endDate);\n      if (selectedCustomers.length > 0) {\n        params.set('customers', selectedCustomers.join(','));\n      }\n      \n      const response = await fetch(`/api/data?${params.toString()}`);\n      if (response.ok) {\n        const result = await response.json();\n        \n        if (result.availableCustomers?.length > 0) {\n          setAvailableCustomers(result.availableCustomers);\n        }\n        \n        setData({\n          metrics: {\n            totalSpend: result.metrics?.totalSpend || 0,\n            totalConversions: result.metrics?.totalConversions || 0,\n            averageROAS: result.metrics?.averageROAS || 0,\n            totalImpressions: result.metrics?.totalImpressions || 0,\n            totalClicks: result.metrics?.totalClicks || 0,\n            totalRevenue: result.metrics?.totalRevenue || 0,\n            ctr: result.metrics?.totalImpressions > 0 \n              ? (result.metrics.totalClicks / result.metrics.totalImpressions) * 100 \n              : 0,\n            cpc: result.metrics?.totalClicks > 0 \n              ? result.metrics.totalSpend / result.metrics.totalClicks \n              : 0,\n            convRate: result.metrics?.totalClicks > 0 \n              ? (result.metrics.totalConversions / result.metrics.totalClicks) * 100 \n              : 0,\n          },\n          performanceData: result.performanceData || [],\n          customerMetrics: result.customerMetrics || [],\n          availableCustomers: result.availableCustomers || [],\n        });\n      }\n    } catch (error) {\n      console.error('Failed to fetch data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [datePreset, customDateRange, selectedCustomers]);\n\n  const config = METRIC_CONFIG[metricSlug];\n  \n  if (!config) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full\">\n        <p className=\"text-xl text-gray-400\">Metric not found</p>\n        <Link href=\"/dashboard\" className=\"mt-4 text-purple-400 hover:text-purple-300\">\n          ← Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"></div>\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full\">\n        <p className=\"text-xl text-gray-400\">No data available</p>\n        <Link href=\"/dashboard\" className=\"mt-4 text-purple-400 hover:text-purple-300\">\n          ← Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  const { metrics, performanceData, customerMetrics } = data;\n  const Icon = config.icon;\n\n  // Sort customers by the metric's sort key\n  const sortedCustomers = [...customerMetrics].sort((a, b) => {\n    const aVal = a[config.sortKey] as number;\n    const bVal = b[config.sortKey] as number;\n    // For CPC, lower is better\n    if (config.sortKey === 'cpc') return aVal - bVal;\n    return bVal - aVal;\n  });\n\n  // Export handlers\n  const handleExportPDF = () => {\n    const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n    const totalValue = (() => {\n      switch (metricSlug) {\n        case 'spend': return `$${metrics.totalSpend.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        case 'revenue': return `$${metrics.totalRevenue.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        case 'roas': return `${metrics.averageROAS.toFixed(2)}x`;\n        case 'conversions': return metrics.totalConversions.toLocaleString();\n        case 'ctr': return `${metrics.ctr.toFixed(2)}%`;\n        case 'cpc': return `$${metrics.cpc.toFixed(2)}`;\n        default: return '0';\n      }\n    })();\n    \n    const doc = generateMetricPDF(\n      config.title,\n      config.description,\n      totalValue,\n      sortedCustomers as CustomerData[],\n      { start: range.startDate, end: range.endDate },\n      config.sortKey as keyof CustomerData\n    );\n    downloadPDF(doc, `${metricSlug}-analysis-${range.startDate}-to-${range.endDate}`);\n  };\n\n  const handleExportExcel = () => {\n    const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n    const wb = XLSX.utils.book_new();\n    \n    // Summary sheet\n    const summaryData = [\n      [`${config.title}`],\n      [`Report Period: ${range.startDate} - ${range.endDate}`],\n      [`Generated: ${new Date().toLocaleString()}`],\n      [],\n      ['Summary Metrics'],\n      ['Metric', 'Value'],\n      ['Total Spend', metrics.totalSpend],\n      ['Total Revenue', metrics.totalRevenue],\n      ['ROAS', metrics.averageROAS],\n      ['Conversions', metrics.totalConversions],\n      ['CTR (%)', metrics.ctr],\n      ['CPC', metrics.cpc],\n    ];\n    const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n    XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n    \n    // Client rankings sheet\n    const headers = ['Rank', 'Client', config.title, 'Spend', 'Revenue', 'ROAS', 'Conversions', 'CTR (%)', 'CPC'];\n    const clientData = sortedCustomers.map((c, i) => [\n      i + 1,\n      c.customer_name,\n      c[config.sortKey],\n      c.spend,\n      c.revenue,\n      c.roas,\n      c.conversions,\n      c.ctr,\n      c.cpc,\n    ]);\n    const clientSheet = XLSX.utils.aoa_to_sheet([headers, ...clientData]);\n    XLSX.utils.book_append_sheet(wb, clientSheet, 'Client Rankings');\n    \n    const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n    const blob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n    saveAs(blob, `${metricSlug}-analysis-${range.startDate}-to-${range.endDate}.xlsx`);\n  };\n\n  // Calculate metric-specific totals\n  const getMetricValue = () => {\n    switch (metricSlug) {\n      case 'spend': return metrics.totalSpend;\n      case 'revenue': return metrics.totalRevenue;\n      case 'roas': return metrics.averageROAS;\n      case 'conversions': return metrics.totalConversions;\n      case 'ctr': return metrics.ctr;\n      case 'cpc': return metrics.cpc;\n      default: return 0;\n    }\n  };\n\n  const getClientMetricValue = (customer: CustomerMetrics) => {\n    switch (metricSlug) {\n      case 'spend': return customer.spend;\n      case 'revenue': return customer.revenue;\n      case 'roas': return customer.roas;\n      case 'conversions': return customer.conversions;\n      case 'ctr': return customer.ctr;\n      case 'cpc': return customer.cpc;\n      default: return 0;\n    }\n  };\n\n  const handleDatePresetChange = (preset: DatePreset) => {\n    setDatePreset(preset);\n    if (preset === 'custom') {\n      setShowCustomDates(true);\n    } else {\n      setShowCustomDates(false);\n      const range = getDateRangeFromPreset(preset);\n      setCustomDateRange(range);\n      setShowDatePicker(false);\n    }\n  };\n\n  const handleCustomDateApply = () => {\n    setShowDatePicker(false);\n  };\n\n  const handleCustomerToggle = (customerId: string) => {\n    setSelectedCustomers(prev => \n      prev.includes(customerId) ? prev.filter(id => id !== customerId) : [...prev, customerId]\n    );\n  };\n\n  const getDatePresetLabel = () => {\n    if (datePreset === 'custom') {\n      return `${customDateRange.startDate} - ${customDateRange.endDate}`;\n    }\n    return DATE_PRESETS.find(p => p.id === datePreset)?.label || 'Last 30 Days';\n  };\n\n  const getCustomerFilterLabel = () => {\n    if (selectedCustomers.length === 0) return 'All Customers';\n    if (selectedCustomers.length === 1) {\n      const customer = availableCustomers.find(c => c.id === selectedCustomers[0]);\n      return customer?.name || '1 Customer';\n    }\n    return `${selectedCustomers.length} Customers`;\n  };\n\n  const customersByPlatform = availableCustomers.reduce((acc, customer) => {\n    if (!acc[customer.platform]) acc[customer.platform] = [];\n    acc[customer.platform].push(customer);\n    return acc;\n  }, {} as Record<string, CustomerOption[]>);\n\n  const colorClasses: Record<string, string> = {\n    blue: 'from-blue-500/20 to-blue-600/5 border-blue-500/20 text-blue-400',\n    emerald: 'from-emerald-500/20 to-emerald-600/5 border-emerald-500/20 text-emerald-400',\n    purple: 'from-purple-500/20 to-purple-600/5 border-purple-500/20 text-purple-400',\n    amber: 'from-amber-500/20 to-amber-600/5 border-amber-500/20 text-amber-400',\n    cyan: 'from-cyan-500/20 to-cyan-600/5 border-cyan-500/20 text-cyan-400',\n    pink: 'from-pink-500/20 to-pink-600/5 border-pink-500/20 text-pink-400',\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Demo Mode Banner */}\n      {isDemoMode && (\n        <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Eye className=\"w-5 h-5 text-emerald-400\" />\n            <div>\n              <p className=\"font-medium text-emerald-400\">Demo Mode Active</p>\n              <p className=\"text-sm text-gray-400\">Viewing sample data</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n        <div className=\"flex items-center gap-4\">\n          <button \n            onClick={() => router.push('/dashboard')}\n            className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </button>\n          <div className={`p-3 rounded-xl bg-gradient-to-br ${colorClasses[config.color]}`}>\n            <Icon className=\"w-6 h-6\" />\n          </div>\n          <div>\n            <h1 className=\"text-2xl font-bold\">{config.title}</h1>\n            <p className=\"text-gray-400 text-sm\">{config.description}</p>\n          </div>\n        </div>\n        \n        {/* Filters */}\n        <div className=\"flex flex-wrap items-center gap-2\">\n          {/* Date Filter */}\n          <div className=\"relative\" ref={datePickerRef}>\n            <button\n              onClick={() => setShowDatePicker(!showDatePicker)}\n              className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm\"\n            >\n              <Calendar className=\"w-4 h-4 text-gray-400\" />\n              <span>{getDatePresetLabel()}</span>\n              <ChevronDown className=\"w-4 h-4 text-gray-400\" />\n            </button>\n            \n            {showDatePicker && (\n              <div className=\"absolute top-full right-0 mt-2 w-64 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n                <div className=\"space-y-1 mb-3\">\n                  {DATE_PRESETS.map(preset => (\n                    <button\n                      key={preset.id}\n                      onClick={() => handleDatePresetChange(preset.id)}\n                      className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${\n                        datePreset === preset.id ? 'bg-purple-600 text-white' : 'hover:bg-white/10 text-gray-300'\n                      }`}\n                    >\n                      {preset.label}\n                    </button>\n                  ))}\n                </div>\n                {showCustomDates && (\n                  <div className=\"pt-3 border-t border-white/10 space-y-3\">\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">Start Date</label>\n                      <input\n                        type=\"date\"\n                        value={customDateRange.startDate}\n                        onChange={(e) => setCustomDateRange(prev => ({ ...prev, startDate: e.target.value }))}\n                        className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\n                      />\n                    </div>\n                    <div>\n                      <label className=\"block text-xs text-gray-400 mb-1\">End Date</label>\n                      <input\n                        type=\"date\"\n                        value={customDateRange.endDate}\n                        onChange={(e) => setCustomDateRange(prev => ({ ...prev, endDate: e.target.value }))}\n                        className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\n                      />\n                    </div>\n                    <button onClick={handleCustomDateApply} className=\"w-full py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium\">\n                      Apply\n                    </button>\n                  </div>\n                )}\n              </div>\n            )}\n          </div>\n\n          {/* Customer Filter */}\n          {!isDemoMode && availableCustomers.length > 0 && (\n            <div className=\"relative\" ref={customerPickerRef}>\n              <button\n                onClick={() => setShowCustomerPicker(!showCustomerPicker)}\n                className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm\"\n              >\n                <Building2 className=\"w-4 h-4 text-gray-400\" />\n                <span>{getCustomerFilterLabel()}</span>\n                <ChevronDown className=\"w-4 h-4 text-gray-400\" />\n              </button>\n              \n              {showCustomerPicker && (\n                <div className=\"absolute top-full right-0 mt-2 w-80 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n                  <div className=\"flex items-center justify-between mb-3\">\n                    <span className=\"text-sm font-medium\">Filter by Client</span>\n                    {selectedCustomers.length > 0 && (\n                      <button onClick={() => setSelectedCustomers([])} className=\"text-xs text-purple-400 hover:text-purple-300\">Clear</button>\n                    )}\n                  </div>\n                  <div className=\"max-h-64 overflow-y-auto space-y-2\">\n                    {Object.entries(customersByPlatform).map(([platform, customers]) => (\n                      <div key={platform}>\n                        <div className=\"text-xs text-gray-500 font-medium uppercase tracking-wider mb-1 px-1\">{platform}</div>\n                        {customers.map(customer => (\n                          <label key={customer.id} className=\"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer\">\n                            <input\n                              type=\"checkbox\"\n                              checked={selectedCustomers.includes(customer.id)}\n                              onChange={() => handleCustomerToggle(customer.id)}\n                              className=\"w-4 h-4 rounded border-white/20 bg-white/5 text-purple-600\"\n                            />\n                            <span className=\"text-sm truncate\">{customer.name}</span>\n                          </label>\n                        ))}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Total Metric Value */}\n      <div className={`p-6 rounded-xl bg-gradient-to-br ${colorClasses[config.color]} border`}>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-sm opacity-80 mb-1\">Total {config.title.replace(' Analysis', '')}</p>\n            <p className=\"text-4xl font-bold\">{config.format(getMetricValue())}</p>\n          </div>\n          <Icon className=\"w-12 h-12 opacity-50\" />\n        </div>\n      </div>\n\n      {/* Trend Chart */}\n      <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n        <h3 className=\"text-lg font-semibold mb-4\">{config.title.replace(' Analysis', '')} Over Time</h3>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <AreaChart data={performanceData}>\n            <defs>\n              <linearGradient id={`gradient-${metricSlug}`} x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                <stop offset=\"5%\" stopColor={COLORS[0]} stopOpacity={0.3}/>\n                <stop offset=\"95%\" stopColor={COLORS[0]} stopOpacity={0}/>\n              </linearGradient>\n            </defs>\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n            <XAxis dataKey=\"date\" stroke=\"#9ca3af\" fontSize={11} />\n            <YAxis stroke=\"#9ca3af\" fontSize={11} tickFormatter={(v) => \n              metricSlug === 'spend' || metricSlug === 'revenue' ? `$${(v/1000).toFixed(0)}k` : v.toLocaleString()\n            } />\n            <Tooltip\n              contentStyle={{ backgroundColor: '#1f2937', border: '1px solid #374151', borderRadius: '8px' }}\n              formatter={(value: number) => [config.format(value), config.title.replace(' Analysis', '')]}\n            />\n            <Area \n              type=\"monotone\" \n              dataKey={config.dataKey} \n              stroke={COLORS[0]} \n              strokeWidth={2}\n              fill={`url(#gradient-${metricSlug})`}\n            />\n          </AreaChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Client Breakdown */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Top Performers */}\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Award className=\"w-5 h-5 text-emerald-400\" />\n            <h3 className=\"font-semibold\">Top Performers</h3>\n          </div>\n          <div className=\"space-y-3\">\n            {sortedCustomers.slice(0, 5).map((customer, i) => (\n              <Link\n                key={customer.customer_id}\n                href={`/dashboard/clients/${customer.customer_id}`}\n                className=\"flex items-center justify-between p-3 rounded-lg bg-black/20 hover:bg-black/30 transition-colors\"\n              >\n                <div className=\"flex items-center gap-3\">\n                  <span className={`text-lg font-bold ${i < 3 ? 'text-emerald-400' : 'text-gray-400'}`}>#{i + 1}</span>\n                  <div>\n                    <p className=\"font-medium\">{customer.customer_name}</p>\n                    <p className=\"text-sm text-gray-400\">${customer.spend.toLocaleString()} spend</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <p className=\"text-lg font-bold\">{config.format(getClientMetricValue(customer))}</p>\n                </div>\n              </Link>\n            ))}\n          </div>\n        </div>\n\n        {/* Bar Chart Comparison */}\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n          <h3 className=\"font-semibold mb-4\">{config.title.replace(' Analysis', '')} by Client</h3>\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <BarChart data={sortedCustomers.slice(0, 8)} layout=\"vertical\">\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n              <XAxis type=\"number\" stroke=\"#9ca3af\" fontSize={11} tickFormatter={(v) => \n                metricSlug === 'spend' || metricSlug === 'revenue' ? `$${(v/1000).toFixed(0)}k` : v.toString()\n              } />\n              <YAxis type=\"category\" dataKey=\"customer_name\" stroke=\"#9ca3af\" fontSize={10} width={100} tick={{ width: 90 }} />\n              <Tooltip\n                contentStyle={{ backgroundColor: '#1f2937', border: '1px solid #374151', borderRadius: '8px' }}\n                formatter={(value: number) => [config.format(value), config.title.replace(' Analysis', '')]}\n              />\n              <Bar dataKey={config.sortKey} radius={[0, 4, 4, 0]}>\n                {sortedCustomers.slice(0, 8).map((_, index) => (\n                  <Cell key={index} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Bar>\n            </BarChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Full Client Table */}\n      <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">All Clients - {config.title.replace(' Analysis', '')}</h3>\n          <span className=\"text-sm text-gray-400\">{sortedCustomers.length} clients</span>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"text-left text-xs text-gray-400 border-b border-white/10\">\n                <th className=\"pb-3 pr-4\">Rank</th>\n                <th className=\"pb-3 pr-4\">Client</th>\n                <th className=\"pb-3 px-4 text-right\">{config.title.replace(' Analysis', '')}</th>\n                <th className=\"pb-3 px-4 text-right\">Spend</th>\n                <th className=\"pb-3 px-4 text-right\">Revenue</th>\n                <th className=\"pb-3 px-4 text-right\">ROAS</th>\n                <th className=\"pb-3 px-4 text-right\">Conversions</th>\n                <th className=\"pb-3 pl-4 text-right\">CTR</th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedCustomers.map((customer, i) => (\n                <tr key={customer.customer_id} className=\"border-b border-white/5 hover:bg-white/5\">\n                  <td className=\"py-3 pr-4\">\n                    <span className={`font-bold ${i < 3 ? 'text-emerald-400' : 'text-gray-500'}`}>#{i + 1}</span>\n                  </td>\n                  <td className=\"py-3 pr-4\">\n                    <Link \n                      href={`/dashboard/clients/${customer.customer_id}`}\n                      className=\"font-medium hover:text-purple-400 transition-colors\"\n                    >\n                      {customer.customer_name}\n                    </Link>\n                  </td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm font-bold\">{config.format(getClientMetricValue(customer))}</td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">${customer.spend.toLocaleString(undefined, { minimumFractionDigits: 2 })}</td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">${customer.revenue.toLocaleString(undefined, { minimumFractionDigits: 2 })}</td>\n                  <td className=\"py-3 px-4 text-right\">\n                    <span className={`font-mono text-sm ${customer.roas >= 3 ? 'text-emerald-400' : customer.roas >= 2 ? 'text-amber-400' : 'text-red-400'}`}>\n                      {customer.roas.toFixed(1)}x\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{customer.conversions.toLocaleString()}</td>\n                  <td className=\"py-3 pl-4 text-right font-mono text-sm\">{customer.ctr.toFixed(2)}%</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Insights for this Metric */}\n      {config.benchmark && (\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n          <h3 className=\"text-lg font-semibold mb-4\">Performance Benchmarks</h3>\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <div className=\"p-4 rounded-lg bg-red-500/10 border border-red-500/20\">\n              <p className=\"text-sm text-red-400 mb-1\">Below Average</p>\n              <p className=\"text-xl font-bold\">\n                {sortedCustomers.filter(c => getClientMetricValue(c) < config.benchmark!.good).length} clients\n              </p>\n              <p className=\"text-xs text-gray-400 mt-1\">&lt; {config.format(config.benchmark.good)}</p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20\">\n              <p className=\"text-sm text-amber-400 mb-1\">Good</p>\n              <p className=\"text-xl font-bold\">\n                {sortedCustomers.filter(c => getClientMetricValue(c) >= config.benchmark!.good && getClientMetricValue(c) < config.benchmark!.excellent).length} clients\n              </p>\n              <p className=\"text-xs text-gray-400 mt-1\">{config.format(config.benchmark.good)} - {config.format(config.benchmark.excellent)}</p>\n            </div>\n            <div className=\"p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/20\">\n              <p className=\"text-sm text-emerald-400 mb-1\">Excellent</p>\n              <p className=\"text-xl font-bold\">\n                {sortedCustomers.filter(c => getClientMetricValue(c) >= config.benchmark!.excellent).length} clients\n              </p>\n              <p className=\"text-xs text-gray-400 mt-1\">≥ {config.format(config.benchmark.excellent)}</p>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}