{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/components/ExportButtons.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { FileDown, FileSpreadsheet, Loader2 } from 'lucide-react';\n\ninterface ExportButtonsProps {\n  onExportPDF: () => void;\n  onExportExcel: () => void;\n  disabled?: boolean;\n  className?: string;\n}\n\nexport function ExportButtons({ onExportPDF, onExportExcel, disabled = false, className = '' }: ExportButtonsProps) {\n  const [exportingPDF, setExportingPDF] = useState(false);\n  const [exportingExcel, setExportingExcel] = useState(false);\n\n  const handlePDFExport = async () => {\n    setExportingPDF(true);\n    try {\n      await onExportPDF();\n    } finally {\n      setTimeout(() => setExportingPDF(false), 500);\n    }\n  };\n\n  const handleExcelExport = async () => {\n    setExportingExcel(true);\n    try {\n      await onExportExcel();\n    } finally {\n      setTimeout(() => setExportingExcel(false), 500);\n    }\n  };\n\n  return (\n    <div className={`flex items-center gap-2 ${className}`}>\n      <button\n        onClick={handlePDFExport}\n        disabled={disabled || exportingPDF}\n        className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-red-500/20 border border-red-500/30 text-red-400 hover:bg-red-500/30 transition-colors disabled:opacity-50 text-sm\"\n        title=\"Export PDF Report\"\n      >\n        {exportingPDF ? (\n          <Loader2 className=\"w-4 h-4 animate-spin\" />\n        ) : (\n          <FileDown className=\"w-4 h-4\" />\n        )}\n        <span className=\"hidden sm:inline\">PDF</span>\n      </button>\n      \n      <button\n        onClick={handleExcelExport}\n        disabled={disabled || exportingExcel}\n        className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-emerald-500/20 border border-emerald-500/30 text-emerald-400 hover:bg-emerald-500/30 transition-colors disabled:opacity-50 text-sm\"\n        title=\"Export Excel Data\"\n      >\n        {exportingExcel ? (\n          <Loader2 className=\"w-4 h-4 animate-spin\" />\n        ) : (\n          <FileSpreadsheet className=\"w-4 h-4\" />\n        )}\n        <span className=\"hidden sm:inline\">Excel</span>\n      </button>\n    </div>\n  );\n}\n\n// Dropdown version for more compact UI\nexport function ExportDropdown({ onExportPDF, onExportExcel, disabled = false }: ExportButtonsProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [exporting, setExporting] = useState<string | null>(null);\n\n  const handleExport = async (type: 'pdf' | 'excel') => {\n    setExporting(type);\n    try {\n      if (type === 'pdf') {\n        await onExportPDF();\n      } else {\n        await onExportExcel();\n      }\n    } finally {\n      setTimeout(() => {\n        setExporting(null);\n        setIsOpen(false);\n      }, 500);\n    }\n  };\n\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        disabled={disabled}\n        className=\"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors disabled:opacity-50 text-sm\"\n      >\n        <FileDown className=\"w-4 h-4\" />\n        Export\n      </button>\n\n      {isOpen && (\n        <>\n          <div \n            className=\"fixed inset-0 z-40\" \n            onClick={() => setIsOpen(false)}\n          />\n          <div className=\"absolute right-0 top-full mt-2 w-48 p-2 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n            <button\n              onClick={() => handleExport('pdf')}\n              disabled={exporting !== null}\n              className=\"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left hover:bg-white/10 transition-colors disabled:opacity-50\"\n            >\n              {exporting === 'pdf' ? (\n                <Loader2 className=\"w-4 h-4 animate-spin text-red-400\" />\n              ) : (\n                <FileDown className=\"w-4 h-4 text-red-400\" />\n              )}\n              <div>\n                <p className=\"font-medium text-sm\">PDF Report</p>\n                <p className=\"text-xs text-gray-400\">Beautiful formatted report</p>\n              </div>\n            </button>\n            \n            <button\n              onClick={() => handleExport('excel')}\n              disabled={exporting !== null}\n              className=\"w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left hover:bg-white/10 transition-colors disabled:opacity-50\"\n            >\n              {exporting === 'excel' ? (\n                <Loader2 className=\"w-4 h-4 animate-spin text-emerald-400\" />\n              ) : (\n                <FileSpreadsheet className=\"w-4 h-4 text-emerald-400\" />\n              )}\n              <div>\n                <p className=\"font-medium text-sm\">Excel Export</p>\n                <p className=\"text-xs text-gray-400\">Raw data for analysis</p>\n              </div>\n            </button>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAAA;;;AAHA;;;AAYO,SAAS,cAAc,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,KAAK,EAAE,YAAY,EAAE,EAAsB;;IAChH,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IACjD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAErD,MAAM,kBAAkB;QACtB,gBAAgB;QAChB,IAAI;YACF,MAAM;QACR,SAAU;YACR,WAAW,IAAM,gBAAgB,QAAQ;QAC3C;IACF;IAEA,MAAM,oBAAoB;QACxB,kBAAkB;QAClB,IAAI;YACF,MAAM;QACR,SAAU;YACR,WAAW,IAAM,kBAAkB,QAAQ;QAC7C;IACF;IAEA,qBACE,6LAAC;QAAI,WAAW,CAAC,wBAAwB,EAAE,WAAW;;0BACpD,6LAAC;gBACC,SAAS;gBACT,UAAU,YAAY;gBACtB,WAAU;gBACV,OAAM;;oBAEL,6BACC,6LAAC,+NAAO;wBAAC,WAAU;;;;;6CAEnB,6LAAC,6NAAQ;wBAAC,WAAU;;;;;;kCAEtB,6LAAC;wBAAK,WAAU;kCAAmB;;;;;;;;;;;;0BAGrC,6LAAC;gBACC,SAAS;gBACT,UAAU,YAAY;gBACtB,WAAU;gBACV,OAAM;;oBAEL,+BACC,6LAAC,+NAAO;wBAAC,WAAU;;;;;6CAEnB,6LAAC,kPAAe;wBAAC,WAAU;;;;;;kCAE7B,6LAAC;wBAAK,WAAU;kCAAmB;;;;;;;;;;;;;;;;;;AAI3C;GArDgB;KAAA;AAwDT,SAAS,eAAe,EAAE,WAAW,EAAE,aAAa,EAAE,WAAW,KAAK,EAAsB;;IACjG,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAC;IACrC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAE1D,MAAM,eAAe,OAAO;QAC1B,aAAa;QACb,IAAI;YACF,IAAI,SAAS,OAAO;gBAClB,MAAM;YACR,OAAO;gBACL,MAAM;YACR;QACF,SAAU;YACR,WAAW;gBACT,aAAa;gBACb,UAAU;YACZ,GAAG;QACL;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,UAAU;gBACV,WAAU;;kCAEV,6LAAC,6NAAQ;wBAAC,WAAU;;;;;;oBAAY;;;;;;;YAIjC,wBACC;;kCACE,6LAAC;wBACC,WAAU;wBACV,SAAS,IAAM,UAAU;;;;;;kCAE3B,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,UAAU,cAAc;gCACxB,WAAU;;oCAET,cAAc,sBACb,6LAAC,+NAAO;wCAAC,WAAU;;;;;6DAEnB,6LAAC,6NAAQ;wCAAC,WAAU;;;;;;kDAEtB,6LAAC;;0DACC,6LAAC;gDAAE,WAAU;0DAAsB;;;;;;0DACnC,6LAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;0CAIzC,6LAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,UAAU,cAAc;gCACxB,WAAU;;oCAET,cAAc,wBACb,6LAAC,+NAAO;wCAAC,WAAU;;;;;6DAEnB,6LAAC,kPAAe;wCAAC,WAAU;;;;;;kDAE7B,6LAAC;;0DACC,6LAAC;gDAAE,WAAU;0DAAsB;;;;;;0DACnC,6LAAC;gDAAE,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQrD;IA1EgB;MAAA"}},
    {"offset": {"line": 295, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/lib/reports/generator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\n\n// Types\nexport interface ReportMetrics {\n  totalSpend: number;\n  totalRevenue: number;\n  totalConversions: number;\n  totalClicks: number;\n  totalImpressions: number;\n  averageROAS: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n}\n\nexport interface CustomerData {\n  customer_name: string;\n  customer_id: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\nexport interface PerformanceData {\n  date: string;\n  spend: number;\n  revenue: number;\n  clicks: number;\n  conversions: number;\n}\n\nexport interface CampaignData {\n  id: string;\n  name: string;\n  status: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\n// Utility functions\nconst formatCurrency = (num: number) => `$${num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\nconst formatNumber = (num: number) => num.toLocaleString(undefined, { maximumFractionDigits: 0 });\nconst formatPercent = (num: number) => `${num.toFixed(2)}%`;\nconst formatROAS = (num: number) => `${num.toFixed(2)}x`;\n\n// PDF Color Theme\nconst COLORS = {\n  primary: [99, 102, 241] as [number, number, number], // Purple\n  secondary: [16, 185, 129] as [number, number, number], // Emerald\n  warning: [245, 158, 11] as [number, number, number], // Amber\n  danger: [239, 68, 68] as [number, number, number], // Red\n  dark: [15, 23, 42] as [number, number, number], // Slate\n  light: [241, 245, 249] as [number, number, number], // Gray\n};\n\n// Generate PDF Report for Dashboard\nexport function generateDashboardPDF(\n  metrics: ReportMetrics,\n  customers: CustomerData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string },\n  title: string = 'Marketing Analytics Report'\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 40, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(24);\n  doc.setFont('helvetica', 'bold');\n  doc.text(title, 14, 25);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`Report Period: ${dateRange.start} - ${dateRange.end}`, 14, 35);\n  doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - 60, 35);\n\n  y = 55;\n\n  // Executive Summary\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(16);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Executive Summary', 14, y);\n  y += 10;\n\n  // Key Metrics Grid (2x3)\n  const metricsGrid = [\n    [\n      { label: 'Total Spend', value: formatCurrency(metrics.totalSpend), color: COLORS.primary },\n      { label: 'Total Revenue', value: formatCurrency(metrics.totalRevenue), color: COLORS.secondary },\n      { label: 'ROAS', value: formatROAS(metrics.averageROAS), color: COLORS.primary },\n    ],\n    [\n      { label: 'Conversions', value: formatNumber(metrics.totalConversions), color: COLORS.warning },\n      { label: 'CTR', value: formatPercent(metrics.ctr), color: COLORS.primary },\n      { label: 'Avg CPC', value: formatCurrency(metrics.cpc), color: COLORS.danger },\n    ],\n  ];\n\n  const cardWidth = 58;\n  const cardHeight = 25;\n  const cardSpacing = 4;\n\n  metricsGrid.forEach((row, rowIndex) => {\n    row.forEach((metric, colIndex) => {\n      const x = 14 + (cardWidth + cardSpacing) * colIndex;\n      const cardY = y + (cardHeight + cardSpacing) * rowIndex;\n      \n      // Card background\n      doc.setFillColor(245, 245, 250);\n      doc.roundedRect(x, cardY, cardWidth, cardHeight, 3, 3, 'F');\n      \n      // Card accent\n      doc.setFillColor(...metric.color);\n      doc.rect(x, cardY, 3, cardHeight, 'F');\n      \n      // Label\n      doc.setTextColor(100, 100, 100);\n      doc.setFontSize(8);\n      doc.setFont('helvetica', 'normal');\n      doc.text(metric.label, x + 8, cardY + 8);\n      \n      // Value\n      doc.setTextColor(...COLORS.dark);\n      doc.setFontSize(14);\n      doc.setFont('helvetica', 'bold');\n      doc.text(metric.value, x + 8, cardY + 18);\n    });\n  });\n\n  y += (cardHeight + cardSpacing) * 2 + 15;\n\n  // Client Performance Table\n  if (customers.length > 0) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(16);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Client Performance', 14, y);\n    y += 5;\n\n    const tableData = customers.slice(0, 15).map((c, i) => [\n      (i + 1).toString(),\n      c.customer_name,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n      formatNumber(c.conversions),\n      formatPercent(c.ctr),\n    ]);\n\n    autoTable(doc, {\n      startY: y,\n      head: [['#', 'Client', 'Spend', 'Revenue', 'ROAS', 'Conv.', 'CTR']],\n      body: tableData,\n      theme: 'striped',\n      headStyles: {\n        fillColor: COLORS.primary,\n        textColor: [255, 255, 255],\n        fontStyle: 'bold',\n        fontSize: 9,\n      },\n      bodyStyles: {\n        fontSize: 8,\n        textColor: COLORS.dark,\n      },\n      alternateRowStyles: {\n        fillColor: [248, 250, 252],\n      },\n      columnStyles: {\n        0: { cellWidth: 10 },\n        1: { cellWidth: 45 },\n        2: { cellWidth: 25, halign: 'right' },\n        3: { cellWidth: 25, halign: 'right' },\n        4: { cellWidth: 20, halign: 'right' },\n        5: { cellWidth: 20, halign: 'right' },\n        6: { cellWidth: 20, halign: 'right' },\n      },\n      margin: { left: 14, right: 14 },\n    });\n\n    y = (doc as any).lastAutoTable.finalY + 15;\n  }\n\n  // Top Performers section\n  const topPerformers = customers.filter(c => c.roas >= metrics.averageROAS).slice(0, 5);\n  if (topPerformers.length > 0 && y < 240) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(14);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Top Performers (Above Average ROAS)', 14, y);\n    y += 8;\n\n    topPerformers.forEach((c, i) => {\n      doc.setFillColor(...COLORS.secondary);\n      doc.setTextColor(255, 255, 255);\n      doc.roundedRect(14, y, 180, 12, 2, 2, 'F');\n      doc.setFontSize(9);\n      doc.text(`${i + 1}. ${c.customer_name} - ${formatROAS(c.roas)} ROAS | ${formatCurrency(c.revenue)} revenue`, 18, y + 8);\n      y += 15;\n    });\n  }\n\n  // Footer\n  const pageCount = doc.getNumberOfPages();\n  for (let i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n    doc.setFontSize(8);\n    doc.setTextColor(150, 150, 150);\n    doc.text(\n      `Page ${i} of ${pageCount} | Marketing Analytics Report | Confidential`,\n      pageWidth / 2,\n      doc.internal.pageSize.height - 10,\n      { align: 'center' }\n    );\n  }\n\n  return doc;\n}\n\n// Generate PDF for Client Detail\nexport function generateClientPDF(\n  clientName: string,\n  metrics: ReportMetrics,\n  campaigns: CampaignData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 45, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Client Performance Report', 14, 22);\n  \n  doc.setFontSize(16);\n  doc.text(clientName, 14, 35);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`${dateRange.start} - ${dateRange.end}`, pageWidth - 60, 35);\n\n  y = 60;\n\n  // Performance Summary\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Performance Summary', 14, y);\n  y += 10;\n\n  // Metrics cards\n  const summaryMetrics = [\n    { label: 'Total Spend', value: formatCurrency(metrics.totalSpend) },\n    { label: 'Revenue', value: formatCurrency(metrics.totalRevenue) },\n    { label: 'ROAS', value: formatROAS(metrics.averageROAS) },\n    { label: 'Conversions', value: formatNumber(metrics.totalConversions) },\n    { label: 'CTR', value: formatPercent(metrics.ctr) },\n    { label: 'CPC', value: formatCurrency(metrics.cpc) },\n  ];\n\n  const cols = 3;\n  const metricCardWidth = 55;\n  const metricCardHeight = 22;\n\n  summaryMetrics.forEach((metric, i) => {\n    const col = i % cols;\n    const row = Math.floor(i / cols);\n    const x = 14 + col * (metricCardWidth + 8);\n    const cardY = y + row * (metricCardHeight + 5);\n\n    doc.setFillColor(245, 245, 250);\n    doc.roundedRect(x, cardY, metricCardWidth, metricCardHeight, 2, 2, 'F');\n    \n    doc.setTextColor(100, 100, 100);\n    doc.setFontSize(8);\n    doc.text(metric.label, x + 5, cardY + 8);\n    \n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(12);\n    doc.setFont('helvetica', 'bold');\n    doc.text(metric.value, x + 5, cardY + 17);\n    doc.setFont('helvetica', 'normal');\n  });\n\n  y += Math.ceil(summaryMetrics.length / cols) * (metricCardHeight + 5) + 15;\n\n  // Campaign Performance Table\n  if (campaigns.length > 0) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(14);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Campaign Performance', 14, y);\n    y += 5;\n\n    const tableData = campaigns.map((c, i) => [\n      (i + 1).toString(),\n      c.name.substring(0, 30) + (c.name.length > 30 ? '...' : ''),\n      c.status,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n      formatNumber(c.conversions),\n    ]);\n\n    autoTable(doc, {\n      startY: y,\n      head: [['#', 'Campaign', 'Status', 'Spend', 'Revenue', 'ROAS', 'Conv.']],\n      body: tableData,\n      theme: 'striped',\n      headStyles: {\n        fillColor: COLORS.primary,\n        textColor: [255, 255, 255],\n        fontStyle: 'bold',\n        fontSize: 8,\n      },\n      bodyStyles: {\n        fontSize: 7,\n        textColor: COLORS.dark,\n      },\n      columnStyles: {\n        0: { cellWidth: 8 },\n        1: { cellWidth: 55 },\n        2: { cellWidth: 20 },\n        3: { cellWidth: 22, halign: 'right' },\n        4: { cellWidth: 22, halign: 'right' },\n        5: { cellWidth: 18, halign: 'right' },\n        6: { cellWidth: 18, halign: 'right' },\n      },\n      margin: { left: 14, right: 14 },\n    });\n  }\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(150, 150, 150);\n  doc.text(\n    `Generated: ${new Date().toLocaleString()} | Marketing Analytics | Confidential`,\n    pageWidth / 2,\n    doc.internal.pageSize.height - 10,\n    { align: 'center' }\n  );\n\n  return doc;\n}\n\n// Generate PDF for Metric Analysis\nexport function generateMetricPDF(\n  metricName: string,\n  metricDescription: string,\n  totalValue: string,\n  customers: CustomerData[],\n  dateRange: { start: string; end: string },\n  sortKey: keyof CustomerData\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 40, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(22);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${metricName} Analysis`, 14, 25);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`${dateRange.start} - ${dateRange.end}`, pageWidth - 60, 25);\n  doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - 60, 35);\n\n  y = 55;\n\n  // Total metric value\n  doc.setFillColor(245, 245, 250);\n  doc.roundedRect(14, y, pageWidth - 28, 30, 3, 3, 'F');\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(14, y, 4, 30, 'F');\n  \n  doc.setTextColor(100, 100, 100);\n  doc.setFontSize(10);\n  doc.text(`Total ${metricName}`, 24, y + 10);\n  \n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text(totalValue, 24, y + 24);\n  doc.setFont('helvetica', 'normal');\n\n  y += 45;\n\n  // Client Ranking Table\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`Client Ranking by ${metricName}`, 14, y);\n  y += 5;\n\n  const sortedCustomers = [...customers].sort((a, b) => {\n    const aVal = a[sortKey] as number;\n    const bVal = b[sortKey] as number;\n    return sortKey === 'cpc' ? aVal - bVal : bVal - aVal;\n  });\n\n  const tableData = sortedCustomers.map((c, i) => {\n    let metricValue: string;\n    switch (sortKey) {\n      case 'spend':\n      case 'revenue':\n      case 'cpc':\n        metricValue = formatCurrency(c[sortKey] as number);\n        break;\n      case 'roas':\n        metricValue = formatROAS(c[sortKey]);\n        break;\n      case 'ctr':\n      case 'convRate':\n        metricValue = formatPercent(c[sortKey] as number);\n        break;\n      default:\n        metricValue = formatNumber(c[sortKey] as number);\n    }\n    return [\n      (i + 1).toString(),\n      c.customer_name,\n      metricValue,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n    ];\n  });\n\n  autoTable(doc, {\n    startY: y,\n    head: [['Rank', 'Client', metricName, 'Spend', 'Revenue', 'ROAS']],\n    body: tableData,\n    theme: 'striped',\n    headStyles: {\n      fillColor: COLORS.primary,\n      textColor: [255, 255, 255],\n      fontStyle: 'bold',\n      fontSize: 9,\n    },\n    bodyStyles: {\n      fontSize: 8,\n      textColor: COLORS.dark,\n    },\n    columnStyles: {\n      0: { cellWidth: 15 },\n      1: { cellWidth: 55 },\n      2: { cellWidth: 30, halign: 'right', fontStyle: 'bold' },\n      3: { cellWidth: 28, halign: 'right' },\n      4: { cellWidth: 28, halign: 'right' },\n      5: { cellWidth: 22, halign: 'right' },\n    },\n    margin: { left: 14, right: 14 },\n  });\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(150, 150, 150);\n  doc.text(\n    `Marketing Analytics | ${metricName} Report | Confidential`,\n    pageWidth / 2,\n    doc.internal.pageSize.height - 10,\n    { align: 'center' }\n  );\n\n  return doc;\n}\n\n// Generate Excel for Dashboard\nexport function generateDashboardExcel(\n  metrics: ReportMetrics,\n  customers: CustomerData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const wb = XLSX.utils.book_new();\n\n  // Summary Sheet\n  const summaryData = [\n    ['Marketing Analytics Report'],\n    [`Report Period: ${dateRange.start} - ${dateRange.end}`],\n    [`Generated: ${new Date().toLocaleString()}`],\n    [],\n    ['Key Metrics'],\n    ['Metric', 'Value'],\n    ['Total Spend', metrics.totalSpend],\n    ['Total Revenue', metrics.totalRevenue],\n    ['Average ROAS', metrics.averageROAS],\n    ['Total Conversions', metrics.totalConversions],\n    ['Total Clicks', metrics.totalClicks],\n    ['Total Impressions', metrics.totalImpressions],\n    ['CTR (%)', metrics.ctr],\n    ['CPC', metrics.cpc],\n    ['Conversion Rate (%)', metrics.convRate],\n  ];\n  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n\n  // Client Performance Sheet\n  const clientHeaders = ['Client Name', 'Client ID', 'Spend', 'Revenue', 'ROAS', 'Conversions', 'Clicks', 'Impressions', 'CTR (%)', 'CPC', 'Conv Rate (%)'];\n  const clientData = customers.map(c => [\n    c.customer_name,\n    c.customer_id,\n    c.spend,\n    c.revenue,\n    c.roas,\n    c.conversions,\n    c.clicks,\n    c.impressions,\n    c.ctr,\n    c.cpc,\n    c.convRate,\n  ]);\n  const clientSheet = XLSX.utils.aoa_to_sheet([clientHeaders, ...clientData]);\n  XLSX.utils.book_append_sheet(wb, clientSheet, 'Client Performance');\n\n  // Daily Performance Sheet\n  const dailyHeaders = ['Date', 'Spend', 'Revenue', 'Clicks', 'Conversions'];\n  const dailyData = performanceData.map(d => [d.date, d.spend, d.revenue, d.clicks, d.conversions]);\n  const dailySheet = XLSX.utils.aoa_to_sheet([dailyHeaders, ...dailyData]);\n  XLSX.utils.book_append_sheet(wb, dailySheet, 'Daily Performance');\n\n  return wb;\n}\n\n// Generate Excel for Client\nexport function generateClientExcel(\n  clientName: string,\n  metrics: ReportMetrics,\n  campaigns: CampaignData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const wb = XLSX.utils.book_new();\n\n  // Summary Sheet\n  const summaryData = [\n    [`Client Report: ${clientName}`],\n    [`Report Period: ${dateRange.start} - ${dateRange.end}`],\n    [`Generated: ${new Date().toLocaleString()}`],\n    [],\n    ['Performance Summary'],\n    ['Metric', 'Value'],\n    ['Total Spend', metrics.totalSpend],\n    ['Total Revenue', metrics.totalRevenue],\n    ['ROAS', metrics.averageROAS],\n    ['Conversions', metrics.totalConversions],\n    ['Clicks', metrics.totalClicks],\n    ['Impressions', metrics.totalImpressions],\n    ['CTR (%)', metrics.ctr],\n    ['CPC', metrics.cpc],\n    ['Conversion Rate (%)', metrics.convRate],\n  ];\n  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n\n  // Campaigns Sheet\n  const campaignHeaders = ['Campaign Name', 'Status', 'Spend', 'Revenue', 'ROAS', 'Conversions', 'Clicks', 'Impressions', 'CTR (%)', 'CPC', 'Conv Rate (%)'];\n  const campaignData = campaigns.map(c => [\n    c.name,\n    c.status,\n    c.spend,\n    c.revenue,\n    c.roas,\n    c.conversions,\n    c.clicks,\n    c.impressions,\n    c.ctr,\n    c.cpc,\n    c.convRate,\n  ]);\n  const campaignSheet = XLSX.utils.aoa_to_sheet([campaignHeaders, ...campaignData]);\n  XLSX.utils.book_append_sheet(wb, campaignSheet, 'Campaigns');\n\n  // Daily Performance Sheet\n  const dailyHeaders = ['Date', 'Spend', 'Revenue', 'Clicks', 'Conversions'];\n  const dailyData = performanceData.map(d => [d.date, d.spend, d.revenue, d.clicks, d.conversions]);\n  const dailySheet = XLSX.utils.aoa_to_sheet([dailyHeaders, ...dailyData]);\n  XLSX.utils.book_append_sheet(wb, dailySheet, 'Daily Performance');\n\n  return wb;\n}\n\n// Download helpers\nexport function downloadPDF(doc: jsPDF, filename: string) {\n  doc.save(`${filename}.pdf`);\n}\n\nexport function downloadExcel(wb: XLSX.WorkBook, filename: string) {\n  const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n  const blob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n  saveAs(blob, `${filename}.xlsx`);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAoDA,oBAAoB;AACpB,MAAM,iBAAiB,CAAC,MAAgB,CAAC,CAAC,EAAE,IAAI,cAAc,CAAC,WAAW;QAAE,uBAAuB;QAAG,uBAAuB;IAAE,IAAI;AACnI,MAAM,eAAe,CAAC,MAAgB,IAAI,cAAc,CAAC,WAAW;QAAE,uBAAuB;IAAE;AAC/F,MAAM,gBAAgB,CAAC,MAAgB,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;AAC3D,MAAM,aAAa,CAAC,MAAgB,GAAG,IAAI,OAAO,CAAC,GAAG,CAAC,CAAC;AAExD,kBAAkB;AAClB,MAAM,SAAS;IACb,SAAS;QAAC;QAAI;QAAK;KAAI;IACvB,WAAW;QAAC;QAAI;QAAK;KAAI;IACzB,SAAS;QAAC;QAAK;QAAK;KAAG;IACvB,QAAQ;QAAC;QAAK;QAAI;KAAG;IACrB,MAAM;QAAC;QAAI;QAAI;KAAG;IAClB,OAAO;QAAC;QAAK;QAAK;KAAI;AACxB;AAGO,SAAS,qBACd,OAAsB,EACtB,SAAyB,EACzB,eAAkC,EAClC,SAAyC,EACzC,QAAgB,4BAA4B;IAE5C,MAAM,MAAM,IAAI,iKAAK;IACrB,MAAM,YAAY,IAAI,QAAQ,CAAC,QAAQ,CAAC,KAAK;IAC7C,IAAI,IAAI;IAER,SAAS;IACT,IAAI,YAAY,IAAI,OAAO,OAAO;IAClC,IAAI,IAAI,CAAC,GAAG,GAAG,WAAW,IAAI;IAE9B,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,OAAO,IAAI;IAEpB,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,CAAC,eAAe,EAAE,UAAU,KAAK,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,EAAE,IAAI;IACrE,IAAI,IAAI,CAAC,CAAC,WAAW,EAAE,IAAI,OAAO,kBAAkB,IAAI,EAAE,YAAY,IAAI;IAE1E,IAAI;IAEJ,oBAAoB;IACpB,IAAI,YAAY,IAAI,OAAO,IAAI;IAC/B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,qBAAqB,IAAI;IAClC,KAAK;IAEL,yBAAyB;IACzB,MAAM,cAAc;QAClB;YACE;gBAAE,OAAO;gBAAe,OAAO,eAAe,QAAQ,UAAU;gBAAG,OAAO,OAAO,OAAO;YAAC;YACzF;gBAAE,OAAO;gBAAiB,OAAO,eAAe,QAAQ,YAAY;gBAAG,OAAO,OAAO,SAAS;YAAC;YAC/F;gBAAE,OAAO;gBAAQ,OAAO,WAAW,QAAQ,WAAW;gBAAG,OAAO,OAAO,OAAO;YAAC;SAChF;QACD;YACE;gBAAE,OAAO;gBAAe,OAAO,aAAa,QAAQ,gBAAgB;gBAAG,OAAO,OAAO,OAAO;YAAC;YAC7F;gBAAE,OAAO;gBAAO,OAAO,cAAc,QAAQ,GAAG;gBAAG,OAAO,OAAO,OAAO;YAAC;YACzE;gBAAE,OAAO;gBAAW,OAAO,eAAe,QAAQ,GAAG;gBAAG,OAAO,OAAO,MAAM;YAAC;SAC9E;KACF;IAED,MAAM,YAAY;IAClB,MAAM,aAAa;IACnB,MAAM,cAAc;IAEpB,YAAY,OAAO,CAAC,CAAC,KAAK;QACxB,IAAI,OAAO,CAAC,CAAC,QAAQ;YACnB,MAAM,IAAI,KAAK,CAAC,YAAY,WAAW,IAAI;YAC3C,MAAM,QAAQ,IAAI,CAAC,aAAa,WAAW,IAAI;YAE/C,kBAAkB;YAClB,IAAI,YAAY,CAAC,KAAK,KAAK;YAC3B,IAAI,WAAW,CAAC,GAAG,OAAO,WAAW,YAAY,GAAG,GAAG;YAEvD,cAAc;YACd,IAAI,YAAY,IAAI,OAAO,KAAK;YAChC,IAAI,IAAI,CAAC,GAAG,OAAO,GAAG,YAAY;YAElC,QAAQ;YACR,IAAI,YAAY,CAAC,KAAK,KAAK;YAC3B,IAAI,WAAW,CAAC;YAChB,IAAI,OAAO,CAAC,aAAa;YACzB,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,QAAQ;YAEtC,QAAQ;YACR,IAAI,YAAY,IAAI,OAAO,IAAI;YAC/B,IAAI,WAAW,CAAC;YAChB,IAAI,OAAO,CAAC,aAAa;YACzB,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,QAAQ;QACxC;IACF;IAEA,KAAK,CAAC,aAAa,WAAW,IAAI,IAAI;IAEtC,2BAA2B;IAC3B,IAAI,UAAU,MAAM,GAAG,GAAG;QACxB,IAAI,YAAY,IAAI,OAAO,IAAI;QAC/B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,IAAI,CAAC,sBAAsB,IAAI;QACnC,KAAK;QAEL,MAAM,YAAY,UAAU,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,GAAG,IAAM;gBACrD,CAAC,IAAI,CAAC,EAAE,QAAQ;gBAChB,EAAE,aAAa;gBACf,eAAe,EAAE,KAAK;gBACtB,eAAe,EAAE,OAAO;gBACxB,WAAW,EAAE,IAAI;gBACjB,aAAa,EAAE,WAAW;gBAC1B,cAAc,EAAE,GAAG;aACpB;QAED,IAAA,yLAAS,EAAC,KAAK;YACb,QAAQ;YACR,MAAM;gBAAC;oBAAC;oBAAK;oBAAU;oBAAS;oBAAW;oBAAQ;oBAAS;iBAAM;aAAC;YACnE,MAAM;YACN,OAAO;YACP,YAAY;gBACV,WAAW,OAAO,OAAO;gBACzB,WAAW;oBAAC;oBAAK;oBAAK;iBAAI;gBAC1B,WAAW;gBACX,UAAU;YACZ;YACA,YAAY;gBACV,UAAU;gBACV,WAAW,OAAO,IAAI;YACxB;YACA,oBAAoB;gBAClB,WAAW;oBAAC;oBAAK;oBAAK;iBAAI;YAC5B;YACA,cAAc;gBACZ,GAAG;oBAAE,WAAW;gBAAG;gBACnB,GAAG;oBAAE,WAAW;gBAAG;gBACnB,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;YACtC;YACA,QAAQ;gBAAE,MAAM;gBAAI,OAAO;YAAG;QAChC;QAEA,IAAI,AAAC,IAAY,aAAa,CAAC,MAAM,GAAG;IAC1C;IAEA,yBAAyB;IACzB,MAAM,gBAAgB,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,IAAI,QAAQ,WAAW,EAAE,KAAK,CAAC,GAAG;IACpF,IAAI,cAAc,MAAM,GAAG,KAAK,IAAI,KAAK;QACvC,IAAI,YAAY,IAAI,OAAO,IAAI;QAC/B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,IAAI,CAAC,uCAAuC,IAAI;QACpD,KAAK;QAEL,cAAc,OAAO,CAAC,CAAC,GAAG;YACxB,IAAI,YAAY,IAAI,OAAO,SAAS;YACpC,IAAI,YAAY,CAAC,KAAK,KAAK;YAC3B,IAAI,WAAW,CAAC,IAAI,GAAG,KAAK,IAAI,GAAG,GAAG;YACtC,IAAI,WAAW,CAAC;YAChB,IAAI,IAAI,CAAC,GAAG,IAAI,EAAE,EAAE,EAAE,EAAE,aAAa,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,QAAQ,EAAE,eAAe,EAAE,OAAO,EAAE,QAAQ,CAAC,EAAE,IAAI,IAAI;YACrH,KAAK;QACP;IACF;IAEA,SAAS;IACT,MAAM,YAAY,IAAI,gBAAgB;IACtC,IAAK,IAAI,IAAI,GAAG,KAAK,WAAW,IAAK;QACnC,IAAI,OAAO,CAAC;QACZ,IAAI,WAAW,CAAC;QAChB,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,IAAI,CACN,CAAC,KAAK,EAAE,EAAE,IAAI,EAAE,UAAU,4CAA4C,CAAC,EACvE,YAAY,GACZ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,IAC/B;YAAE,OAAO;QAAS;IAEtB;IAEA,OAAO;AACT;AAGO,SAAS,kBACd,UAAkB,EAClB,OAAsB,EACtB,SAAyB,EACzB,eAAkC,EAClC,SAAyC;IAEzC,MAAM,MAAM,IAAI,iKAAK;IACrB,MAAM,YAAY,IAAI,QAAQ,CAAC,QAAQ,CAAC,KAAK;IAC7C,IAAI,IAAI;IAER,SAAS;IACT,IAAI,YAAY,IAAI,OAAO,OAAO;IAClC,IAAI,IAAI,CAAC,GAAG,GAAG,WAAW,IAAI;IAE9B,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,6BAA6B,IAAI;IAE1C,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,YAAY,IAAI;IAEzB,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,GAAG,UAAU,KAAK,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,EAAE,YAAY,IAAI;IAElE,IAAI;IAEJ,sBAAsB;IACtB,IAAI,YAAY,IAAI,OAAO,IAAI;IAC/B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,uBAAuB,IAAI;IACpC,KAAK;IAEL,gBAAgB;IAChB,MAAM,iBAAiB;QACrB;YAAE,OAAO;YAAe,OAAO,eAAe,QAAQ,UAAU;QAAE;QAClE;YAAE,OAAO;YAAW,OAAO,eAAe,QAAQ,YAAY;QAAE;QAChE;YAAE,OAAO;YAAQ,OAAO,WAAW,QAAQ,WAAW;QAAE;QACxD;YAAE,OAAO;YAAe,OAAO,aAAa,QAAQ,gBAAgB;QAAE;QACtE;YAAE,OAAO;YAAO,OAAO,cAAc,QAAQ,GAAG;QAAE;QAClD;YAAE,OAAO;YAAO,OAAO,eAAe,QAAQ,GAAG;QAAE;KACpD;IAED,MAAM,OAAO;IACb,MAAM,kBAAkB;IACxB,MAAM,mBAAmB;IAEzB,eAAe,OAAO,CAAC,CAAC,QAAQ;QAC9B,MAAM,MAAM,IAAI;QAChB,MAAM,MAAM,KAAK,KAAK,CAAC,IAAI;QAC3B,MAAM,IAAI,KAAK,MAAM,CAAC,kBAAkB,CAAC;QACzC,MAAM,QAAQ,IAAI,MAAM,CAAC,mBAAmB,CAAC;QAE7C,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,WAAW,CAAC,GAAG,OAAO,iBAAiB,kBAAkB,GAAG,GAAG;QAEnE,IAAI,YAAY,CAAC,KAAK,KAAK;QAC3B,IAAI,WAAW,CAAC;QAChB,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,QAAQ;QAEtC,IAAI,YAAY,IAAI,OAAO,IAAI;QAC/B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,IAAI,CAAC,OAAO,KAAK,EAAE,IAAI,GAAG,QAAQ;QACtC,IAAI,OAAO,CAAC,aAAa;IAC3B;IAEA,KAAK,KAAK,IAAI,CAAC,eAAe,MAAM,GAAG,QAAQ,CAAC,mBAAmB,CAAC,IAAI;IAExE,6BAA6B;IAC7B,IAAI,UAAU,MAAM,GAAG,GAAG;QACxB,IAAI,YAAY,IAAI,OAAO,IAAI;QAC/B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,CAAC,aAAa;QACzB,IAAI,IAAI,CAAC,wBAAwB,IAAI;QACrC,KAAK;QAEL,MAAM,YAAY,UAAU,GAAG,CAAC,CAAC,GAAG,IAAM;gBACxC,CAAC,IAAI,CAAC,EAAE,QAAQ;gBAChB,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,KAAK,QAAQ,EAAE;gBAC1D,EAAE,MAAM;gBACR,eAAe,EAAE,KAAK;gBACtB,eAAe,EAAE,OAAO;gBACxB,WAAW,EAAE,IAAI;gBACjB,aAAa,EAAE,WAAW;aAC3B;QAED,IAAA,yLAAS,EAAC,KAAK;YACb,QAAQ;YACR,MAAM;gBAAC;oBAAC;oBAAK;oBAAY;oBAAU;oBAAS;oBAAW;oBAAQ;iBAAQ;aAAC;YACxE,MAAM;YACN,OAAO;YACP,YAAY;gBACV,WAAW,OAAO,OAAO;gBACzB,WAAW;oBAAC;oBAAK;oBAAK;iBAAI;gBAC1B,WAAW;gBACX,UAAU;YACZ;YACA,YAAY;gBACV,UAAU;gBACV,WAAW,OAAO,IAAI;YACxB;YACA,cAAc;gBACZ,GAAG;oBAAE,WAAW;gBAAE;gBAClB,GAAG;oBAAE,WAAW;gBAAG;gBACnB,GAAG;oBAAE,WAAW;gBAAG;gBACnB,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;gBACpC,GAAG;oBAAE,WAAW;oBAAI,QAAQ;gBAAQ;YACtC;YACA,QAAQ;gBAAE,MAAM;gBAAI,OAAO;YAAG;QAChC;IACF;IAEA,SAAS;IACT,IAAI,WAAW,CAAC;IAChB,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,IAAI,CACN,CAAC,WAAW,EAAE,IAAI,OAAO,cAAc,GAAG,qCAAqC,CAAC,EAChF,YAAY,GACZ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,IAC/B;QAAE,OAAO;IAAS;IAGpB,OAAO;AACT;AAGO,SAAS,kBACd,UAAkB,EAClB,iBAAyB,EACzB,UAAkB,EAClB,SAAyB,EACzB,SAAyC,EACzC,OAA2B;IAE3B,MAAM,MAAM,IAAI,iKAAK;IACrB,MAAM,YAAY,IAAI,QAAQ,CAAC,QAAQ,CAAC,KAAK;IAC7C,IAAI,IAAI;IAER,SAAS;IACT,IAAI,YAAY,IAAI,OAAO,OAAO;IAClC,IAAI,IAAI,CAAC,GAAG,GAAG,WAAW,IAAI;IAE9B,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,GAAG,WAAW,SAAS,CAAC,EAAE,IAAI;IAEvC,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,GAAG,UAAU,KAAK,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,EAAE,YAAY,IAAI;IAClE,IAAI,IAAI,CAAC,CAAC,WAAW,EAAE,IAAI,OAAO,kBAAkB,IAAI,EAAE,YAAY,IAAI;IAE1E,IAAI;IAEJ,qBAAqB;IACrB,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,WAAW,CAAC,IAAI,GAAG,YAAY,IAAI,IAAI,GAAG,GAAG;IACjD,IAAI,YAAY,IAAI,OAAO,OAAO;IAClC,IAAI,IAAI,CAAC,IAAI,GAAG,GAAG,IAAI;IAEvB,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,WAAW,CAAC;IAChB,IAAI,IAAI,CAAC,CAAC,MAAM,EAAE,YAAY,EAAE,IAAI,IAAI;IAExC,IAAI,YAAY,IAAI,OAAO,IAAI;IAC/B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI;IAC7B,IAAI,OAAO,CAAC,aAAa;IAEzB,KAAK;IAEL,uBAAuB;IACvB,IAAI,YAAY,IAAI,OAAO,IAAI;IAC/B,IAAI,WAAW,CAAC;IAChB,IAAI,OAAO,CAAC,aAAa;IACzB,IAAI,IAAI,CAAC,CAAC,kBAAkB,EAAE,YAAY,EAAE,IAAI;IAChD,KAAK;IAEL,MAAM,kBAAkB;WAAI;KAAU,CAAC,IAAI,CAAC,CAAC,GAAG;QAC9C,MAAM,OAAO,CAAC,CAAC,QAAQ;QACvB,MAAM,OAAO,CAAC,CAAC,QAAQ;QACvB,OAAO,YAAY,QAAQ,OAAO,OAAO,OAAO;IAClD;IAEA,MAAM,YAAY,gBAAgB,GAAG,CAAC,CAAC,GAAG;QACxC,IAAI;QACJ,OAAQ;YACN,KAAK;YACL,KAAK;YACL,KAAK;gBACH,cAAc,eAAe,CAAC,CAAC,QAAQ;gBACvC;YACF,KAAK;gBACH,cAAc,WAAW,CAAC,CAAC,QAAQ;gBACnC;YACF,KAAK;YACL,KAAK;gBACH,cAAc,cAAc,CAAC,CAAC,QAAQ;gBACtC;YACF;gBACE,cAAc,aAAa,CAAC,CAAC,QAAQ;QACzC;QACA,OAAO;YACL,CAAC,IAAI,CAAC,EAAE,QAAQ;YAChB,EAAE,aAAa;YACf;YACA,eAAe,EAAE,KAAK;YACtB,eAAe,EAAE,OAAO;YACxB,WAAW,EAAE,IAAI;SAClB;IACH;IAEA,IAAA,yLAAS,EAAC,KAAK;QACb,QAAQ;QACR,MAAM;YAAC;gBAAC;gBAAQ;gBAAU;gBAAY;gBAAS;gBAAW;aAAO;SAAC;QAClE,MAAM;QACN,OAAO;QACP,YAAY;YACV,WAAW,OAAO,OAAO;YACzB,WAAW;gBAAC;gBAAK;gBAAK;aAAI;YAC1B,WAAW;YACX,UAAU;QACZ;QACA,YAAY;YACV,UAAU;YACV,WAAW,OAAO,IAAI;QACxB;QACA,cAAc;YACZ,GAAG;gBAAE,WAAW;YAAG;YACnB,GAAG;gBAAE,WAAW;YAAG;YACnB,GAAG;gBAAE,WAAW;gBAAI,QAAQ;gBAAS,WAAW;YAAO;YACvD,GAAG;gBAAE,WAAW;gBAAI,QAAQ;YAAQ;YACpC,GAAG;gBAAE,WAAW;gBAAI,QAAQ;YAAQ;YACpC,GAAG;gBAAE,WAAW;gBAAI,QAAQ;YAAQ;QACtC;QACA,QAAQ;YAAE,MAAM;YAAI,OAAO;QAAG;IAChC;IAEA,SAAS;IACT,IAAI,WAAW,CAAC;IAChB,IAAI,YAAY,CAAC,KAAK,KAAK;IAC3B,IAAI,IAAI,CACN,CAAC,sBAAsB,EAAE,WAAW,sBAAsB,CAAC,EAC3D,YAAY,GACZ,IAAI,QAAQ,CAAC,QAAQ,CAAC,MAAM,GAAG,IAC/B;QAAE,OAAO;IAAS;IAGpB,OAAO;AACT;AAGO,SAAS,uBACd,OAAsB,EACtB,SAAyB,EACzB,eAAkC,EAClC,SAAyC;IAEzC,MAAM,KAAK,yIAAU,CAAC,QAAQ;IAE9B,gBAAgB;IAChB,MAAM,cAAc;QAClB;YAAC;SAA6B;QAC9B;YAAC,CAAC,eAAe,EAAE,UAAU,KAAK,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE;SAAC;QACxD;YAAC,CAAC,WAAW,EAAE,IAAI,OAAO,cAAc,IAAI;SAAC;QAC7C,EAAE;QACF;YAAC;SAAc;QACf;YAAC;YAAU;SAAQ;QACnB;YAAC;YAAe,QAAQ,UAAU;SAAC;QACnC;YAAC;YAAiB,QAAQ,YAAY;SAAC;QACvC;YAAC;YAAgB,QAAQ,WAAW;SAAC;QACrC;YAAC;YAAqB,QAAQ,gBAAgB;SAAC;QAC/C;YAAC;YAAgB,QAAQ,WAAW;SAAC;QACrC;YAAC;YAAqB,QAAQ,gBAAgB;SAAC;QAC/C;YAAC;YAAW,QAAQ,GAAG;SAAC;QACxB;YAAC;YAAO,QAAQ,GAAG;SAAC;QACpB;YAAC;YAAuB,QAAQ,QAAQ;SAAC;KAC1C;IACD,MAAM,eAAe,yIAAU,CAAC,YAAY,CAAC;IAC7C,yIAAU,CAAC,iBAAiB,CAAC,IAAI,cAAc;IAE/C,2BAA2B;IAC3B,MAAM,gBAAgB;QAAC;QAAe;QAAa;QAAS;QAAW;QAAQ;QAAe;QAAU;QAAe;QAAW;QAAO;KAAgB;IACzJ,MAAM,aAAa,UAAU,GAAG,CAAC,CAAA,IAAK;YACpC,EAAE,aAAa;YACf,EAAE,WAAW;YACb,EAAE,KAAK;YACP,EAAE,OAAO;YACT,EAAE,IAAI;YACN,EAAE,WAAW;YACb,EAAE,MAAM;YACR,EAAE,WAAW;YACb,EAAE,GAAG;YACL,EAAE,GAAG;YACL,EAAE,QAAQ;SACX;IACD,MAAM,cAAc,yIAAU,CAAC,YAAY,CAAC;QAAC;WAAkB;KAAW;IAC1E,yIAAU,CAAC,iBAAiB,CAAC,IAAI,aAAa;IAE9C,0BAA0B;IAC1B,MAAM,eAAe;QAAC;QAAQ;QAAS;QAAW;QAAU;KAAc;IAC1E,MAAM,YAAY,gBAAgB,GAAG,CAAC,CAAA,IAAK;YAAC,EAAE,IAAI;YAAE,EAAE,KAAK;YAAE,EAAE,OAAO;YAAE,EAAE,MAAM;YAAE,EAAE,WAAW;SAAC;IAChG,MAAM,aAAa,yIAAU,CAAC,YAAY,CAAC;QAAC;WAAiB;KAAU;IACvE,yIAAU,CAAC,iBAAiB,CAAC,IAAI,YAAY;IAE7C,OAAO;AACT;AAGO,SAAS,oBACd,UAAkB,EAClB,OAAsB,EACtB,SAAyB,EACzB,eAAkC,EAClC,SAAyC;IAEzC,MAAM,KAAK,yIAAU,CAAC,QAAQ;IAE9B,gBAAgB;IAChB,MAAM,cAAc;QAClB;YAAC,CAAC,eAAe,EAAE,YAAY;SAAC;QAChC;YAAC,CAAC,eAAe,EAAE,UAAU,KAAK,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE;SAAC;QACxD;YAAC,CAAC,WAAW,EAAE,IAAI,OAAO,cAAc,IAAI;SAAC;QAC7C,EAAE;QACF;YAAC;SAAsB;QACvB;YAAC;YAAU;SAAQ;QACnB;YAAC;YAAe,QAAQ,UAAU;SAAC;QACnC;YAAC;YAAiB,QAAQ,YAAY;SAAC;QACvC;YAAC;YAAQ,QAAQ,WAAW;SAAC;QAC7B;YAAC;YAAe,QAAQ,gBAAgB;SAAC;QACzC;YAAC;YAAU,QAAQ,WAAW;SAAC;QAC/B;YAAC;YAAe,QAAQ,gBAAgB;SAAC;QACzC;YAAC;YAAW,QAAQ,GAAG;SAAC;QACxB;YAAC;YAAO,QAAQ,GAAG;SAAC;QACpB;YAAC;YAAuB,QAAQ,QAAQ;SAAC;KAC1C;IACD,MAAM,eAAe,yIAAU,CAAC,YAAY,CAAC;IAC7C,yIAAU,CAAC,iBAAiB,CAAC,IAAI,cAAc;IAE/C,kBAAkB;IAClB,MAAM,kBAAkB;QAAC;QAAiB;QAAU;QAAS;QAAW;QAAQ;QAAe;QAAU;QAAe;QAAW;QAAO;KAAgB;IAC1J,MAAM,eAAe,UAAU,GAAG,CAAC,CAAA,IAAK;YACtC,EAAE,IAAI;YACN,EAAE,MAAM;YACR,EAAE,KAAK;YACP,EAAE,OAAO;YACT,EAAE,IAAI;YACN,EAAE,WAAW;YACb,EAAE,MAAM;YACR,EAAE,WAAW;YACb,EAAE,GAAG;YACL,EAAE,GAAG;YACL,EAAE,QAAQ;SACX;IACD,MAAM,gBAAgB,yIAAU,CAAC,YAAY,CAAC;QAAC;WAAoB;KAAa;IAChF,yIAAU,CAAC,iBAAiB,CAAC,IAAI,eAAe;IAEhD,0BAA0B;IAC1B,MAAM,eAAe;QAAC;QAAQ;QAAS;QAAW;QAAU;KAAc;IAC1E,MAAM,YAAY,gBAAgB,GAAG,CAAC,CAAA,IAAK;YAAC,EAAE,IAAI;YAAE,EAAE,KAAK;YAAE,EAAE,OAAO;YAAE,EAAE,MAAM;YAAE,EAAE,WAAW;SAAC;IAChG,MAAM,aAAa,yIAAU,CAAC,YAAY,CAAC;QAAC;WAAiB;KAAU;IACvE,yIAAU,CAAC,iBAAiB,CAAC,IAAI,YAAY;IAE7C,OAAO;AACT;AAGO,SAAS,YAAY,GAAU,EAAE,QAAgB;IACtD,IAAI,IAAI,CAAC,GAAG,SAAS,IAAI,CAAC;AAC5B;AAEO,SAAS,cAAc,EAAiB,EAAE,QAAgB;IAC/D,MAAM,cAAc,yIAAU,CAAC,IAAI;QAAE,UAAU;QAAQ,MAAM;IAAQ;IACrE,MAAM,OAAO,IAAI,KAAK;QAAC;KAAY,EAAE;QAAE,MAAM;IAAoE;IACjH,IAAA,sKAAM,EAAC,MAAM,GAAG,SAAS,KAAK,CAAC;AACjC"}},
    {"offset": {"line": 1105, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/app/dashboard/clients/%5BclientId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { \n  ArrowLeft,\n  DollarSign,\n  TrendingUp,\n  TrendingDown,\n  Target,\n  MousePointerClick,\n  Percent,\n  Calendar,\n  ChevronDown,\n  Building2,\n  Eye,\n  Users,\n  Award,\n  AlertCircle,\n  Zap,\n  BarChart3,\n  ArrowUpRight,\n  ArrowDownRight,\n  ChevronLeft,\n  ChevronRight,\n  FileDown,\n  FileSpreadsheet\n} from 'lucide-react';\nimport { ExportDropdown } from '@/components/ExportButtons';\nimport {\n  generateClientPDF,\n  generateClientExcel,\n  downloadPDF,\n  downloadExcel,\n  type ReportMetrics,\n  type CampaignData as ReportCampaignData,\n  type PerformanceData as ReportPerformanceData,\n} from '@/lib/reports/generator';\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  Area,\n  AreaChart,\n  ComposedChart,\n  PieChart,\n  Pie,\n  Cell,\n} from 'recharts';\n\n// Date range types and presets\ntype DatePreset = 'last7' | 'last30' | 'lastQuarter' | 'thisQuarter' | 'ytd' | 'lastYear' | 'custom';\n\ninterface DateRange {\n  startDate: string;\n  endDate: string;\n}\n\nconst DATE_PRESETS: { id: DatePreset; label: string }[] = [\n  { id: 'last7', label: 'Last 7 Days' },\n  { id: 'last30', label: 'Last 30 Days' },\n  { id: 'thisQuarter', label: 'This Quarter' },\n  { id: 'lastQuarter', label: 'Last Quarter' },\n  { id: 'ytd', label: 'Year to Date' },\n  { id: 'lastYear', label: 'Last Year' },\n  { id: 'custom', label: 'Custom Range' },\n];\n\nfunction getDateRangeFromPreset(preset: DatePreset): DateRange {\n  const today = new Date();\n  const endDate = today.toISOString().split('T')[0];\n  \n  switch (preset) {\n    case 'last7': {\n      const start = new Date(today);\n      start.setDate(today.getDate() - 7);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'last30': {\n      const start = new Date(today);\n      start.setDate(today.getDate() - 30);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'thisQuarter': {\n      const quarter = Math.floor(today.getMonth() / 3);\n      const start = new Date(today.getFullYear(), quarter * 3, 1);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'lastQuarter': {\n      const quarter = Math.floor(today.getMonth() / 3);\n      const startMonth = (quarter - 1) * 3;\n      const year = startMonth < 0 ? today.getFullYear() - 1 : today.getFullYear();\n      const adjustedStartMonth = startMonth < 0 ? 9 : startMonth;\n      const start = new Date(year, adjustedStartMonth, 1);\n      const end = new Date(year, adjustedStartMonth + 3, 0);\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\n    }\n    case 'ytd': {\n      const start = new Date(today.getFullYear(), 0, 1);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'lastYear': {\n      const start = new Date(today.getFullYear() - 1, 0, 1);\n      const end = new Date(today.getFullYear() - 1, 11, 31);\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\n    }\n    default:\n      return { startDate: endDate, endDate };\n  }\n}\n\ninterface CustomerOption {\n  id: string;\n  name: string;\n  platform: string;\n}\n\ninterface CampaignData {\n  id: string;\n  name: string;\n  status: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n  [key: string]: string | number; // Index signature for Recharts\n}\n\ninterface ClientData {\n  client: {\n    id: string;\n    name: string;\n    platform: string;\n  };\n  metrics: {\n    totalSpend: number;\n    totalConversions: number;\n    averageROAS: number;\n    totalImpressions: number;\n    totalClicks: number;\n    totalRevenue: number;\n    ctr: number;\n    cpc: number;\n    convRate: number;\n  };\n  performanceData: Array<{\n    date: string;\n    spend: number;\n    revenue: number;\n    clicks: number;\n    conversions: number;\n  }>;\n  campaigns: CampaignData[];\n  allClients: CustomerOption[];\n}\n\nconst COLORS = ['#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16', '#f97316'];\n\nexport default function ClientDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const clientId = params.clientId as string;\n  \n  const [data, setData] = useState<ClientData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  \n  // Filter states\n  const [datePreset, setDatePreset] = useState<DatePreset>('last30');\n  const [customDateRange, setCustomDateRange] = useState<DateRange>(() => getDateRangeFromPreset('last30'));\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [showCustomDates, setShowCustomDates] = useState(false);\n  const [showClientSwitcher, setShowClientSwitcher] = useState(false);\n  \n  const datePickerRef = useRef<HTMLDivElement>(null);\n  const clientSwitcherRef = useRef<HTMLDivElement>(null);\n\n  // Load filter state from sessionStorage\n  useEffect(() => {\n    const saved = sessionStorage.getItem('dashboardFilters');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        if (parsed.datePreset) setDatePreset(parsed.datePreset);\n        if (parsed.customDateRange) setCustomDateRange(parsed.customDateRange);\n      } catch (e) {\n        console.error('Failed to parse saved filters:', e);\n      }\n    }\n  }, []);\n\n  // Save filter state\n  useEffect(() => {\n    sessionStorage.setItem('dashboardFilters', JSON.stringify({\n      datePreset,\n      customDateRange,\n    }));\n  }, [datePreset, customDateRange]);\n\n  // Close dropdowns\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (datePickerRef.current && !datePickerRef.current.contains(event.target as Node)) {\n        setShowDatePicker(false);\n      }\n      if (clientSwitcherRef.current && !clientSwitcherRef.current.contains(event.target as Node)) {\n        setShowClientSwitcher(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const demoModeEnabled = localStorage.getItem('demo_mode') === 'true';\n      setIsDemoMode(demoModeEnabled);\n      \n      if (demoModeEnabled) {\n        // Demo data for a single client\n        setData({\n          client: {\n            id: clientId,\n            name: clientId === '1' ? 'Acme Corporation' : clientId === '2' ? 'TechStart Inc' : 'Global Retail Co',\n            platform: 'google_ads',\n          },\n          metrics: {\n            totalSpend: 15000 + Math.random() * 10000,\n            totalConversions: 250 + Math.floor(Math.random() * 100),\n            averageROAS: 3 + Math.random() * 2,\n            totalImpressions: 400000 + Math.floor(Math.random() * 100000),\n            totalClicks: 12000 + Math.floor(Math.random() * 5000),\n            totalRevenue: 60000 + Math.random() * 20000,\n            ctr: 2.5 + Math.random(),\n            cpc: 1 + Math.random() * 0.5,\n            convRate: 1.5 + Math.random(),\n          },\n          performanceData: Array.from({ length: 14 }, (_, i) => ({\n            date: `11/${(i + 1).toString().padStart(2, '0')}`,\n            spend: 800 + Math.random() * 400,\n            revenue: 3000 + Math.random() * 2000,\n            clicks: 700 + Math.floor(Math.random() * 300),\n            conversions: 15 + Math.floor(Math.random() * 10),\n          })),\n          campaigns: [\n            { id: '1', name: 'Brand Awareness Campaign', status: 'active', spend: 5000, revenue: 20000, conversions: 85, clicks: 4000, impressions: 150000, ctr: 2.67, cpc: 1.25, convRate: 2.13, roas: 4.0 },\n            { id: '2', name: 'Product Launch Q4', status: 'active', spend: 4500, revenue: 18000, conversions: 72, clicks: 3500, impressions: 120000, ctr: 2.92, cpc: 1.29, convRate: 2.06, roas: 4.0 },\n            { id: '3', name: 'Retargeting - Cart Abandoners', status: 'active', spend: 3000, revenue: 15000, conversions: 55, clicks: 2500, impressions: 80000, ctr: 3.13, cpc: 1.20, convRate: 2.20, roas: 5.0 },\n            { id: '4', name: 'Competitor Targeting', status: 'paused', spend: 2000, revenue: 6000, conversions: 25, clicks: 1800, impressions: 60000, ctr: 3.00, cpc: 1.11, convRate: 1.39, roas: 3.0 },\n            { id: '5', name: 'Holiday Special Promo', status: 'active', spend: 500, revenue: 1000, conversions: 13, clicks: 200, impressions: 10000, ctr: 2.00, cpc: 2.50, convRate: 6.50, roas: 2.0 },\n          ],\n          allClients: [\n            { id: '1', name: 'Acme Corporation', platform: 'google_ads' },\n            { id: '2', name: 'TechStart Inc', platform: 'google_ads' },\n            { id: '3', name: 'Global Retail Co', platform: 'google_ads' },\n            { id: '4', name: 'FinanceFirst LLC', platform: 'google_ads' },\n            { id: '5', name: 'HealthPlus Medical', platform: 'meta_ads' },\n          ],\n        });\n        setLoading(false);\n        return;\n      }\n\n      const params = new URLSearchParams();\n      const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n      params.set('startDate', range.startDate);\n      params.set('endDate', range.endDate);\n      params.set('clientId', clientId);\n      \n      const response = await fetch(`/api/data/client?${params.toString()}`);\n      if (response.ok) {\n        const result = await response.json();\n        setData(result);\n      }\n    } catch (error) {\n      console.error('Failed to fetch client data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [clientId, datePreset, customDateRange]);\n\n  const handleDatePresetChange = (preset: DatePreset) => {\n    setDatePreset(preset);\n    if (preset === 'custom') {\n      setShowCustomDates(true);\n    } else {\n      setShowCustomDates(false);\n      const range = getDateRangeFromPreset(preset);\n      setCustomDateRange(range);\n      setShowDatePicker(false);\n    }\n  };\n\n  const handleCustomDateApply = () => {\n    setShowDatePicker(false);\n  };\n\n  const switchToClient = (newClientId: string) => {\n    setShowClientSwitcher(false);\n    router.push(`/dashboard/clients/${newClientId}`);\n  };\n\n  const getDatePresetLabel = () => {\n    if (datePreset === 'custom') {\n      return `${customDateRange.startDate} - ${customDateRange.endDate}`;\n    }\n    return DATE_PRESETS.find(p => p.id === datePreset)?.label || 'Last 30 Days';\n  };\n\n  const formatCurrency = (num: number) => `$${num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  const formatNumber = (num: number, decimals: number = 0) => {\n    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\n    if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\n    return num.toLocaleString(undefined, { maximumFractionDigits: decimals });\n  };\n  const formatPercent = (num: number) => `${num.toFixed(2)}%`;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"></div>\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full\">\n        <p className=\"text-xl text-gray-400\">Client not found</p>\n        <Link href=\"/dashboard\" className=\"mt-4 text-purple-400 hover:text-purple-300\">\n           Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  const { client, metrics, performanceData, campaigns, allClients } = data;\n\n  // Find current client index for prev/next navigation\n  const currentIndex = allClients.findIndex(c => c.id === clientId);\n  const prevClient = currentIndex > 0 ? allClients[currentIndex - 1] : null;\n  const nextClient = currentIndex < allClients.length - 1 ? allClients[currentIndex + 1] : null;\n\n  // Sort campaigns by spend\n  const sortedCampaigns = [...campaigns].sort((a, b) => b.spend - a.spend);\n  const activeCampaigns = campaigns.filter(c => c.status === 'active').length;\n\n  // Export handlers\n  const handleExportPDF = () => {\n    const reportMetrics: ReportMetrics = {\n      totalSpend: metrics.totalSpend,\n      totalRevenue: metrics.totalRevenue,\n      totalConversions: metrics.totalConversions,\n      totalClicks: metrics.totalClicks,\n      totalImpressions: metrics.totalImpressions,\n      averageROAS: metrics.averageROAS,\n      ctr: metrics.ctr,\n      cpc: metrics.cpc,\n      convRate: metrics.convRate,\n    };\n    const campaignData: ReportCampaignData[] = sortedCampaigns.map(c => ({\n      id: c.id,\n      name: c.name,\n      status: c.status,\n      spend: c.spend,\n      revenue: c.revenue,\n      conversions: c.conversions,\n      clicks: c.clicks,\n      impressions: c.impressions,\n      ctr: c.ctr,\n      cpc: c.cpc,\n      convRate: c.convRate,\n      roas: c.roas,\n    }));\n    const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n    const doc = generateClientPDF(\n      client.name,\n      reportMetrics,\n      campaignData,\n      performanceData as ReportPerformanceData[],\n      { start: range.startDate, end: range.endDate }\n    );\n    downloadPDF(doc, `${client.name.replace(/\\s+/g, '-').toLowerCase()}-report-${range.startDate}-to-${range.endDate}`);\n  };\n\n  const handleExportExcel = () => {\n    const reportMetrics: ReportMetrics = {\n      totalSpend: metrics.totalSpend,\n      totalRevenue: metrics.totalRevenue,\n      totalConversions: metrics.totalConversions,\n      totalClicks: metrics.totalClicks,\n      totalImpressions: metrics.totalImpressions,\n      averageROAS: metrics.averageROAS,\n      ctr: metrics.ctr,\n      cpc: metrics.cpc,\n      convRate: metrics.convRate,\n    };\n    const campaignDataExcel: ReportCampaignData[] = sortedCampaigns.map(c => ({\n      id: c.id,\n      name: c.name,\n      status: c.status,\n      spend: c.spend,\n      revenue: c.revenue,\n      conversions: c.conversions,\n      clicks: c.clicks,\n      impressions: c.impressions,\n      ctr: c.ctr,\n      cpc: c.cpc,\n      convRate: c.convRate,\n      roas: c.roas,\n    }));\n    const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n    const wb = generateClientExcel(\n      client.name,\n      reportMetrics,\n      campaignDataExcel,\n      performanceData as ReportPerformanceData[],\n      { start: range.startDate, end: range.endDate }\n    );\n    downloadExcel(wb, `${client.name.replace(/\\s+/g, '-').toLowerCase()}-data-${range.startDate}-to-${range.endDate}`);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Demo Mode Banner */}\n      {isDemoMode && (\n        <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Eye className=\"w-5 h-5 text-emerald-400\" />\n            <div>\n              <p className=\"font-medium text-emerald-400\">Demo Mode Active</p>\n              <p className=\"text-sm text-gray-400\">Viewing sample client data</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n        <div className=\"flex items-center gap-4\">\n          <button \n            onClick={() => router.push('/dashboard')}\n            className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </button>\n          \n          {/* Client Switcher */}\n          <div className=\"relative\" ref={clientSwitcherRef}>\n            <button\n              onClick={() => setShowClientSwitcher(!showClientSwitcher)}\n              className=\"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors\"\n            >\n              <div className=\"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center\">\n                <Building2 className=\"w-5 h-5 text-purple-400\" />\n              </div>\n              <div className=\"text-left\">\n                <h1 className=\"text-xl font-bold\">{client.name}</h1>\n                <p className=\"text-sm text-gray-400\">{client.platform.replace('_', ' ')}</p>\n              </div>\n              <ChevronDown className=\"w-5 h-5 text-gray-400 ml-2\" />\n            </button>\n\n            {showClientSwitcher && (\n              <div className=\"absolute top-full left-0 mt-2 w-80 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n                <div className=\"text-sm font-medium text-gray-400 mb-2 px-2\">Switch Client</div>\n                <div className=\"max-h-64 overflow-y-auto space-y-1\">\n                  {allClients.map(c => (\n                    <button\n                      key={c.id}\n                      onClick={() => switchToClient(c.id)}\n                      className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${\n                        c.id === clientId ? 'bg-purple-600 text-white' : 'hover:bg-white/10 text-gray-300'\n                      }`}\n                    >\n                      <Building2 className=\"w-4 h-4\" />\n                      <div>\n                        <p className=\"font-medium\">{c.name}</p>\n                        <p className=\"text-xs opacity-70\">{c.platform.replace('_', ' ')}</p>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Prev/Next Navigation */}\n          <div className=\"flex items-center gap-1\">\n            <button\n              onClick={() => prevClient && switchToClient(prevClient.id)}\n              disabled={!prevClient}\n              className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors disabled:opacity-30 disabled:cursor-not-allowed\"\n              title={prevClient?.name || 'No previous client'}\n            >\n              <ChevronLeft className=\"w-4 h-4\" />\n            </button>\n            <button\n              onClick={() => nextClient && switchToClient(nextClient.id)}\n              disabled={!nextClient}\n              className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors disabled:opacity-30 disabled:cursor-not-allowed\"\n              title={nextClient?.name || 'No next client'}\n            >\n              <ChevronRight className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n        \n        {/* Export & Date Filter */}\n        <div className=\"flex items-center gap-2\">\n          <ExportDropdown\n            onExportPDF={handleExportPDF}\n            onExportExcel={handleExportExcel}\n            disabled={!data || sortedCampaigns.length === 0}\n          />\n          \n          {/* Date Filter */}\n          <div className=\"relative\" ref={datePickerRef}>\n            <button\n              onClick={() => setShowDatePicker(!showDatePicker)}\n              className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm\"\n            >\n              <Calendar className=\"w-4 h-4 text-gray-400\" />\n              <span>{getDatePresetLabel()}</span>\n              <ChevronDown className=\"w-4 h-4 text-gray-400\" />\n          </button>\n          \n          {showDatePicker && (\n            <div className=\"absolute top-full right-0 mt-2 w-64 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n              <div className=\"space-y-1 mb-3\">\n                {DATE_PRESETS.map(preset => (\n                  <button\n                    key={preset.id}\n                    onClick={() => handleDatePresetChange(preset.id)}\n                    className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${\n                      datePreset === preset.id ? 'bg-purple-600 text-white' : 'hover:bg-white/10 text-gray-300'\n                    }`}\n                  >\n                    {preset.label}\n                  </button>\n                ))}\n              </div>\n              {showCustomDates && (\n                <div className=\"pt-3 border-t border-white/10 space-y-3\">\n                  <div>\n                    <label className=\"block text-xs text-gray-400 mb-1\">Start Date</label>\n                    <input\n                      type=\"date\"\n                      value={customDateRange.startDate}\n                      onChange={(e) => setCustomDateRange(prev => ({ ...prev, startDate: e.target.value }))}\n                      className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs text-gray-400 mb-1\">End Date</label>\n                    <input\n                      type=\"date\"\n                      value={customDateRange.endDate}\n                      onChange={(e) => setCustomDateRange(prev => ({ ...prev, endDate: e.target.value }))}\n                      className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\n                    />\n                  </div>\n                  <button onClick={handleCustomDateApply} className=\"w-full py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium\">\n                    Apply\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n        </div>\n      </div>\n\n      {/* Key Metrics Grid - Clickable */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\n        <Link href=\"/dashboard/metrics/spend\" className=\"p-4 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-600/5 border border-blue-500/20 hover:border-blue-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Total Spend</span>\n            <DollarSign className=\"w-4 h-4 text-blue-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatCurrency(metrics.totalSpend)}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/revenue\" className=\"p-4 rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/5 border border-emerald-500/20 hover:border-emerald-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Revenue</span>\n            <TrendingUp className=\"w-4 h-4 text-emerald-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatCurrency(metrics.totalRevenue)}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/roas\" className=\"p-4 rounded-xl bg-gradient-to-br from-purple-500/20 to-purple-600/5 border border-purple-500/20 hover:border-purple-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">ROAS</span>\n            <Target className=\"w-4 h-4 text-purple-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{metrics.averageROAS.toFixed(1)}x</p>\n          <p className=\"text-xs text-gray-500 mt-1\">{metrics.averageROAS >= 3 ? 'Excellent' : metrics.averageROAS >= 2 ? 'Good' : 'Needs Work'}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/conversions\" className=\"p-4 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-600/5 border border-amber-500/20 hover:border-amber-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Conversions</span>\n            <MousePointerClick className=\"w-4 h-4 text-amber-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalConversions)}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/ctr\" className=\"p-4 rounded-xl bg-gradient-to-br from-cyan-500/20 to-cyan-600/5 border border-cyan-500/20 hover:border-cyan-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">CTR</span>\n            <Percent className=\"w-4 h-4 text-cyan-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatPercent(metrics.ctr)}</p>\n          <p className=\"text-xs text-gray-500 mt-1\">{metrics.ctr >= 2 ? 'Above Avg' : 'Below Avg'}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/cpc\" className=\"p-4 rounded-xl bg-gradient-to-br from-pink-500/20 to-pink-600/5 border border-pink-500/20 hover:border-pink-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Avg CPC</span>\n            <DollarSign className=\"w-4 h-4 text-pink-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatCurrency(metrics.cpc)}</p>\n        </Link>\n      </div>\n\n      {/* Secondary Metrics */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Impressions</span>\n            <Eye className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalImpressions)}</p>\n        </div>\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Total Clicks</span>\n            <MousePointerClick className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalClicks)}</p>\n        </div>\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Conv. Rate</span>\n            <Percent className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatPercent(metrics.convRate)}</p>\n        </div>\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Active Campaigns</span>\n            <BarChart3 className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{activeCampaigns}</p>\n        </div>\n      </div>\n\n      {/* Performance Chart */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2 p-6 rounded-xl bg-white/5 border border-white/10\">\n          <h3 className=\"text-lg font-semibold mb-4\">Performance Trend</h3>\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <ComposedChart data={performanceData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n              <XAxis dataKey=\"date\" stroke=\"#9ca3af\" fontSize={11} />\n              <YAxis yAxisId=\"left\" stroke=\"#9ca3af\" fontSize={11} tickFormatter={(v) => `$${(v/1000).toFixed(0)}k`} />\n              <YAxis yAxisId=\"right\" orientation=\"right\" stroke=\"#9ca3af\" fontSize={11} />\n              <Tooltip\n                contentStyle={{ backgroundColor: '#1f2937', border: '1px solid #374151', borderRadius: '8px' }}\n                formatter={(value: number, name: string) => [\n                  name === 'Revenue' || name === 'Spend' ? formatCurrency(value) : formatNumber(value),\n                  name\n                ]}\n              />\n              <Legend />\n              <Bar yAxisId=\"right\" dataKey=\"conversions\" fill=\"#8b5cf6\" opacity={0.7} name=\"Conversions\" radius={[2, 2, 0, 0]} />\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"spend\" stroke=\"#ef4444\" strokeWidth={2} strokeDasharray=\"5 5\" dot={false} name=\"Spend\" />\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"revenue\" stroke=\"#10b981\" strokeWidth={3} dot={{ fill: '#10b981', strokeWidth: 2, r: 4 }} activeDot={{ r: 6, fill: '#10b981' }} name=\"Revenue\" />\n            </ComposedChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Campaign Distribution */}\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n          <h3 className=\"text-lg font-semibold mb-4\">Spend by Campaign</h3>\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <PieChart>\n              <Pie\n                data={sortedCampaigns.slice(0, 5)}\n                dataKey=\"spend\"\n                nameKey=\"name\"\n                cx=\"50%\"\n                cy=\"50%\"\n                innerRadius={50}\n                outerRadius={90}\n                paddingAngle={2}\n              >\n                {sortedCampaigns.slice(0, 5).map((_, index) => (\n                  <Cell key={index} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Pie>\n              <Tooltip\n                contentStyle={{ \n                  backgroundColor: '#0f172a', \n                  border: '1px solid #6366f1', \n                  borderRadius: '8px',\n                  padding: '8px 12px',\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3)'\n                }}\n                itemStyle={{ color: '#f1f5f9' }}\n                labelStyle={{ color: '#f1f5f9', fontWeight: 'bold', marginBottom: '4px' }}\n                formatter={(value: number, name: string) => [formatCurrency(value), name]}\n              />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Campaigns Table */}\n      <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Campaigns</h3>\n          <span className=\"text-sm text-gray-400\">{campaigns.length} campaigns</span>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"text-left text-xs text-gray-400 border-b border-white/10\">\n                <th className=\"pb-3 pr-4\">Campaign</th>\n                <th className=\"pb-3 px-4 text-center\">Status</th>\n                <th className=\"pb-3 px-4 text-right\">Spend</th>\n                <th className=\"pb-3 px-4 text-right\">Revenue</th>\n                <th className=\"pb-3 px-4 text-right\">ROAS</th>\n                <th className=\"pb-3 px-4 text-right\">Conversions</th>\n                <th className=\"pb-3 px-4 text-right\">CTR</th>\n                <th className=\"pb-3 pl-4 text-right\">CPC</th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedCampaigns.map((campaign, i) => (\n                <tr key={campaign.id} className=\"border-b border-white/5 hover:bg-white/5\">\n                  <td className=\"py-3 pr-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: COLORS[i % COLORS.length] }} />\n                      <span className=\"font-medium\">{campaign.name}</span>\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4 text-center\">\n                    <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                      campaign.status === 'active' ? 'bg-emerald-500/20 text-emerald-400' :\n                      campaign.status === 'paused' ? 'bg-amber-500/20 text-amber-400' :\n                      'bg-red-500/20 text-red-400'\n                    }`}>\n                      {campaign.status}\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(campaign.spend)}</td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(campaign.revenue)}</td>\n                  <td className=\"py-3 px-4 text-right\">\n                    <span className={`font-mono text-sm ${campaign.roas >= 3 ? 'text-emerald-400' : campaign.roas >= 2 ? 'text-amber-400' : 'text-red-400'}`}>\n                      {campaign.roas.toFixed(1)}x\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatNumber(campaign.conversions)}</td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatPercent(campaign.ctr)}</td>\n                  <td className=\"py-3 pl-4 text-right font-mono text-sm\">{formatCurrency(campaign.cpc)}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Performance Insights */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Best Performing Campaign */}\n        <div className=\"p-6 rounded-xl bg-emerald-500/10 border border-emerald-500/20\">\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Award className=\"w-5 h-5 text-emerald-400\" />\n            <h3 className=\"font-semibold text-emerald-400\">Best Performing Campaign</h3>\n          </div>\n          {sortedCampaigns[0] && (\n            <div className=\"p-4 rounded-lg bg-black/20\">\n              <p className=\"font-medium text-lg\">{sortedCampaigns[0].name}</p>\n              <div className=\"grid grid-cols-3 gap-4 mt-3\">\n                <div>\n                  <p className=\"text-xs text-gray-400\">ROAS</p>\n                  <p className=\"text-xl font-bold text-emerald-400\">{sortedCampaigns[0].roas.toFixed(1)}x</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-400\">Revenue</p>\n                  <p className=\"text-xl font-bold\">{formatCurrency(sortedCampaigns[0].revenue)}</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-400\">Conversions</p>\n                  <p className=\"text-xl font-bold\">{formatNumber(sortedCampaigns[0].conversions)}</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Needs Optimization */}\n        {sortedCampaigns.filter(c => c.roas < 2).length > 0 && (\n          <div className=\"p-6 rounded-xl bg-amber-500/10 border border-amber-500/20\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <AlertCircle className=\"w-5 h-5 text-amber-400\" />\n              <h3 className=\"font-semibold text-amber-400\">Needs Optimization</h3>\n            </div>\n            <div className=\"space-y-2\">\n              {sortedCampaigns.filter(c => c.roas < 2).slice(0, 3).map(campaign => (\n                <div key={campaign.id} className=\"flex items-center justify-between p-3 rounded-lg bg-black/20\">\n                  <div>\n                    <p className=\"font-medium\">{campaign.name}</p>\n                    <p className=\"text-xs text-gray-400\">{formatCurrency(campaign.spend)} spent</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-lg font-bold text-amber-400\">{campaign.roas.toFixed(1)}x</p>\n                    <p className=\"text-xs text-gray-400\">ROAS</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}