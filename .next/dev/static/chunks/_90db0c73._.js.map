{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/lib/reports/generator.ts"],"sourcesContent":["import jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\nimport * as XLSX from 'xlsx';\nimport { saveAs } from 'file-saver';\n\n// Types\nexport interface ReportMetrics {\n  totalSpend: number;\n  totalRevenue: number;\n  totalConversions: number;\n  totalClicks: number;\n  totalImpressions: number;\n  averageROAS: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n}\n\nexport interface CustomerData {\n  customer_name: string;\n  customer_id: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\nexport interface PerformanceData {\n  date: string;\n  spend: number;\n  revenue: number;\n  clicks: number;\n  conversions: number;\n}\n\nexport interface CampaignData {\n  id: string;\n  name: string;\n  status: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\n// Utility functions\nconst formatCurrency = (num: number) => `$${num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\nconst formatNumber = (num: number) => num.toLocaleString(undefined, { maximumFractionDigits: 0 });\nconst formatPercent = (num: number) => `${num.toFixed(2)}%`;\nconst formatROAS = (num: number) => `${num.toFixed(2)}x`;\n\n// PDF Color Theme\nconst COLORS = {\n  primary: [99, 102, 241] as [number, number, number], // Purple\n  secondary: [16, 185, 129] as [number, number, number], // Emerald\n  warning: [245, 158, 11] as [number, number, number], // Amber\n  danger: [239, 68, 68] as [number, number, number], // Red\n  dark: [15, 23, 42] as [number, number, number], // Slate\n  light: [241, 245, 249] as [number, number, number], // Gray\n};\n\n// Generate PDF Report for Dashboard\nexport function generateDashboardPDF(\n  metrics: ReportMetrics,\n  customers: CustomerData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string },\n  title: string = 'Marketing Analytics Report'\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 40, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(24);\n  doc.setFont('helvetica', 'bold');\n  doc.text(title, 14, 25);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`Report Period: ${dateRange.start} - ${dateRange.end}`, 14, 35);\n  doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - 60, 35);\n\n  y = 55;\n\n  // Executive Summary\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(16);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Executive Summary', 14, y);\n  y += 10;\n\n  // Key Metrics Grid (2x3)\n  const metricsGrid = [\n    [\n      { label: 'Total Spend', value: formatCurrency(metrics.totalSpend), color: COLORS.primary },\n      { label: 'Total Revenue', value: formatCurrency(metrics.totalRevenue), color: COLORS.secondary },\n      { label: 'ROAS', value: formatROAS(metrics.averageROAS), color: COLORS.primary },\n    ],\n    [\n      { label: 'Conversions', value: formatNumber(metrics.totalConversions), color: COLORS.warning },\n      { label: 'CTR', value: formatPercent(metrics.ctr), color: COLORS.primary },\n      { label: 'Avg CPC', value: formatCurrency(metrics.cpc), color: COLORS.danger },\n    ],\n  ];\n\n  const cardWidth = 58;\n  const cardHeight = 25;\n  const cardSpacing = 4;\n\n  metricsGrid.forEach((row, rowIndex) => {\n    row.forEach((metric, colIndex) => {\n      const x = 14 + (cardWidth + cardSpacing) * colIndex;\n      const cardY = y + (cardHeight + cardSpacing) * rowIndex;\n      \n      // Card background\n      doc.setFillColor(245, 245, 250);\n      doc.roundedRect(x, cardY, cardWidth, cardHeight, 3, 3, 'F');\n      \n      // Card accent\n      doc.setFillColor(...metric.color);\n      doc.rect(x, cardY, 3, cardHeight, 'F');\n      \n      // Label\n      doc.setTextColor(100, 100, 100);\n      doc.setFontSize(8);\n      doc.setFont('helvetica', 'normal');\n      doc.text(metric.label, x + 8, cardY + 8);\n      \n      // Value\n      doc.setTextColor(...COLORS.dark);\n      doc.setFontSize(14);\n      doc.setFont('helvetica', 'bold');\n      doc.text(metric.value, x + 8, cardY + 18);\n    });\n  });\n\n  y += (cardHeight + cardSpacing) * 2 + 15;\n\n  // Client Performance Table\n  if (customers.length > 0) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(16);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Client Performance', 14, y);\n    y += 5;\n\n    const tableData = customers.slice(0, 15).map((c, i) => [\n      (i + 1).toString(),\n      c.customer_name,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n      formatNumber(c.conversions),\n      formatPercent(c.ctr),\n    ]);\n\n    autoTable(doc, {\n      startY: y,\n      head: [['#', 'Client', 'Spend', 'Revenue', 'ROAS', 'Conv.', 'CTR']],\n      body: tableData,\n      theme: 'striped',\n      headStyles: {\n        fillColor: COLORS.primary,\n        textColor: [255, 255, 255],\n        fontStyle: 'bold',\n        fontSize: 9,\n      },\n      bodyStyles: {\n        fontSize: 8,\n        textColor: COLORS.dark,\n      },\n      alternateRowStyles: {\n        fillColor: [248, 250, 252],\n      },\n      columnStyles: {\n        0: { cellWidth: 10 },\n        1: { cellWidth: 45 },\n        2: { cellWidth: 25, halign: 'right' },\n        3: { cellWidth: 25, halign: 'right' },\n        4: { cellWidth: 20, halign: 'right' },\n        5: { cellWidth: 20, halign: 'right' },\n        6: { cellWidth: 20, halign: 'right' },\n      },\n      margin: { left: 14, right: 14 },\n    });\n\n    y = (doc as any).lastAutoTable.finalY + 15;\n  }\n\n  // Top Performers section\n  const topPerformers = customers.filter(c => c.roas >= metrics.averageROAS).slice(0, 5);\n  if (topPerformers.length > 0 && y < 240) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(14);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Top Performers (Above Average ROAS)', 14, y);\n    y += 8;\n\n    topPerformers.forEach((c, i) => {\n      doc.setFillColor(...COLORS.secondary);\n      doc.setTextColor(255, 255, 255);\n      doc.roundedRect(14, y, 180, 12, 2, 2, 'F');\n      doc.setFontSize(9);\n      doc.text(`${i + 1}. ${c.customer_name} - ${formatROAS(c.roas)} ROAS | ${formatCurrency(c.revenue)} revenue`, 18, y + 8);\n      y += 15;\n    });\n  }\n\n  // Footer\n  const pageCount = doc.getNumberOfPages();\n  for (let i = 1; i <= pageCount; i++) {\n    doc.setPage(i);\n    doc.setFontSize(8);\n    doc.setTextColor(150, 150, 150);\n    doc.text(\n      `Page ${i} of ${pageCount} | Marketing Analytics Report | Confidential`,\n      pageWidth / 2,\n      doc.internal.pageSize.height - 10,\n      { align: 'center' }\n    );\n  }\n\n  return doc;\n}\n\n// Generate PDF for Client Detail\nexport function generateClientPDF(\n  clientName: string,\n  metrics: ReportMetrics,\n  campaigns: CampaignData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 45, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Client Performance Report', 14, 22);\n  \n  doc.setFontSize(16);\n  doc.text(clientName, 14, 35);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`${dateRange.start} - ${dateRange.end}`, pageWidth - 60, 35);\n\n  y = 60;\n\n  // Performance Summary\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text('Performance Summary', 14, y);\n  y += 10;\n\n  // Metrics cards\n  const summaryMetrics = [\n    { label: 'Total Spend', value: formatCurrency(metrics.totalSpend) },\n    { label: 'Revenue', value: formatCurrency(metrics.totalRevenue) },\n    { label: 'ROAS', value: formatROAS(metrics.averageROAS) },\n    { label: 'Conversions', value: formatNumber(metrics.totalConversions) },\n    { label: 'CTR', value: formatPercent(metrics.ctr) },\n    { label: 'CPC', value: formatCurrency(metrics.cpc) },\n  ];\n\n  const cols = 3;\n  const metricCardWidth = 55;\n  const metricCardHeight = 22;\n\n  summaryMetrics.forEach((metric, i) => {\n    const col = i % cols;\n    const row = Math.floor(i / cols);\n    const x = 14 + col * (metricCardWidth + 8);\n    const cardY = y + row * (metricCardHeight + 5);\n\n    doc.setFillColor(245, 245, 250);\n    doc.roundedRect(x, cardY, metricCardWidth, metricCardHeight, 2, 2, 'F');\n    \n    doc.setTextColor(100, 100, 100);\n    doc.setFontSize(8);\n    doc.text(metric.label, x + 5, cardY + 8);\n    \n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(12);\n    doc.setFont('helvetica', 'bold');\n    doc.text(metric.value, x + 5, cardY + 17);\n    doc.setFont('helvetica', 'normal');\n  });\n\n  y += Math.ceil(summaryMetrics.length / cols) * (metricCardHeight + 5) + 15;\n\n  // Campaign Performance Table\n  if (campaigns.length > 0) {\n    doc.setTextColor(...COLORS.dark);\n    doc.setFontSize(14);\n    doc.setFont('helvetica', 'bold');\n    doc.text('Campaign Performance', 14, y);\n    y += 5;\n\n    const tableData = campaigns.map((c, i) => [\n      (i + 1).toString(),\n      c.name.substring(0, 30) + (c.name.length > 30 ? '...' : ''),\n      c.status,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n      formatNumber(c.conversions),\n    ]);\n\n    autoTable(doc, {\n      startY: y,\n      head: [['#', 'Campaign', 'Status', 'Spend', 'Revenue', 'ROAS', 'Conv.']],\n      body: tableData,\n      theme: 'striped',\n      headStyles: {\n        fillColor: COLORS.primary,\n        textColor: [255, 255, 255],\n        fontStyle: 'bold',\n        fontSize: 8,\n      },\n      bodyStyles: {\n        fontSize: 7,\n        textColor: COLORS.dark,\n      },\n      columnStyles: {\n        0: { cellWidth: 8 },\n        1: { cellWidth: 55 },\n        2: { cellWidth: 20 },\n        3: { cellWidth: 22, halign: 'right' },\n        4: { cellWidth: 22, halign: 'right' },\n        5: { cellWidth: 18, halign: 'right' },\n        6: { cellWidth: 18, halign: 'right' },\n      },\n      margin: { left: 14, right: 14 },\n    });\n  }\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(150, 150, 150);\n  doc.text(\n    `Generated: ${new Date().toLocaleString()} | Marketing Analytics | Confidential`,\n    pageWidth / 2,\n    doc.internal.pageSize.height - 10,\n    { align: 'center' }\n  );\n\n  return doc;\n}\n\n// Generate PDF for Metric Analysis\nexport function generateMetricPDF(\n  metricName: string,\n  metricDescription: string,\n  totalValue: string,\n  customers: CustomerData[],\n  dateRange: { start: string; end: string },\n  sortKey: keyof CustomerData\n) {\n  const doc = new jsPDF();\n  const pageWidth = doc.internal.pageSize.width;\n  let y = 20;\n\n  // Header\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(0, 0, pageWidth, 40, 'F');\n  \n  doc.setTextColor(255, 255, 255);\n  doc.setFontSize(22);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`${metricName} Analysis`, 14, 25);\n  \n  doc.setFontSize(10);\n  doc.setFont('helvetica', 'normal');\n  doc.text(`${dateRange.start} - ${dateRange.end}`, pageWidth - 60, 25);\n  doc.text(`Generated: ${new Date().toLocaleDateString()}`, pageWidth - 60, 35);\n\n  y = 55;\n\n  // Total metric value\n  doc.setFillColor(245, 245, 250);\n  doc.roundedRect(14, y, pageWidth - 28, 30, 3, 3, 'F');\n  doc.setFillColor(...COLORS.primary);\n  doc.rect(14, y, 4, 30, 'F');\n  \n  doc.setTextColor(100, 100, 100);\n  doc.setFontSize(10);\n  doc.text(`Total ${metricName}`, 24, y + 10);\n  \n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(20);\n  doc.setFont('helvetica', 'bold');\n  doc.text(totalValue, 24, y + 24);\n  doc.setFont('helvetica', 'normal');\n\n  y += 45;\n\n  // Client Ranking Table\n  doc.setTextColor(...COLORS.dark);\n  doc.setFontSize(14);\n  doc.setFont('helvetica', 'bold');\n  doc.text(`Client Ranking by ${metricName}`, 14, y);\n  y += 5;\n\n  const sortedCustomers = [...customers].sort((a, b) => {\n    const aVal = a[sortKey] as number;\n    const bVal = b[sortKey] as number;\n    return sortKey === 'cpc' ? aVal - bVal : bVal - aVal;\n  });\n\n  const tableData = sortedCustomers.map((c, i) => {\n    let metricValue: string;\n    switch (sortKey) {\n      case 'spend':\n      case 'revenue':\n      case 'cpc':\n        metricValue = formatCurrency(c[sortKey] as number);\n        break;\n      case 'roas':\n        metricValue = formatROAS(c[sortKey]);\n        break;\n      case 'ctr':\n      case 'convRate':\n        metricValue = formatPercent(c[sortKey] as number);\n        break;\n      default:\n        metricValue = formatNumber(c[sortKey] as number);\n    }\n    return [\n      (i + 1).toString(),\n      c.customer_name,\n      metricValue,\n      formatCurrency(c.spend),\n      formatCurrency(c.revenue),\n      formatROAS(c.roas),\n    ];\n  });\n\n  autoTable(doc, {\n    startY: y,\n    head: [['Rank', 'Client', metricName, 'Spend', 'Revenue', 'ROAS']],\n    body: tableData,\n    theme: 'striped',\n    headStyles: {\n      fillColor: COLORS.primary,\n      textColor: [255, 255, 255],\n      fontStyle: 'bold',\n      fontSize: 9,\n    },\n    bodyStyles: {\n      fontSize: 8,\n      textColor: COLORS.dark,\n    },\n    columnStyles: {\n      0: { cellWidth: 15 },\n      1: { cellWidth: 55 },\n      2: { cellWidth: 30, halign: 'right', fontStyle: 'bold' },\n      3: { cellWidth: 28, halign: 'right' },\n      4: { cellWidth: 28, halign: 'right' },\n      5: { cellWidth: 22, halign: 'right' },\n    },\n    margin: { left: 14, right: 14 },\n  });\n\n  // Footer\n  doc.setFontSize(8);\n  doc.setTextColor(150, 150, 150);\n  doc.text(\n    `Marketing Analytics | ${metricName} Report | Confidential`,\n    pageWidth / 2,\n    doc.internal.pageSize.height - 10,\n    { align: 'center' }\n  );\n\n  return doc;\n}\n\n// Generate Excel for Dashboard\nexport function generateDashboardExcel(\n  metrics: ReportMetrics,\n  customers: CustomerData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const wb = XLSX.utils.book_new();\n\n  // Summary Sheet\n  const summaryData = [\n    ['Marketing Analytics Report'],\n    [`Report Period: ${dateRange.start} - ${dateRange.end}`],\n    [`Generated: ${new Date().toLocaleString()}`],\n    [],\n    ['Key Metrics'],\n    ['Metric', 'Value'],\n    ['Total Spend', metrics.totalSpend],\n    ['Total Revenue', metrics.totalRevenue],\n    ['Average ROAS', metrics.averageROAS],\n    ['Total Conversions', metrics.totalConversions],\n    ['Total Clicks', metrics.totalClicks],\n    ['Total Impressions', metrics.totalImpressions],\n    ['CTR (%)', metrics.ctr],\n    ['CPC', metrics.cpc],\n    ['Conversion Rate (%)', metrics.convRate],\n  ];\n  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n\n  // Client Performance Sheet\n  const clientHeaders = ['Client Name', 'Client ID', 'Spend', 'Revenue', 'ROAS', 'Conversions', 'Clicks', 'Impressions', 'CTR (%)', 'CPC', 'Conv Rate (%)'];\n  const clientData = customers.map(c => [\n    c.customer_name,\n    c.customer_id,\n    c.spend,\n    c.revenue,\n    c.roas,\n    c.conversions,\n    c.clicks,\n    c.impressions,\n    c.ctr,\n    c.cpc,\n    c.convRate,\n  ]);\n  const clientSheet = XLSX.utils.aoa_to_sheet([clientHeaders, ...clientData]);\n  XLSX.utils.book_append_sheet(wb, clientSheet, 'Client Performance');\n\n  // Daily Performance Sheet\n  const dailyHeaders = ['Date', 'Spend', 'Revenue', 'Clicks', 'Conversions'];\n  const dailyData = performanceData.map(d => [d.date, d.spend, d.revenue, d.clicks, d.conversions]);\n  const dailySheet = XLSX.utils.aoa_to_sheet([dailyHeaders, ...dailyData]);\n  XLSX.utils.book_append_sheet(wb, dailySheet, 'Daily Performance');\n\n  return wb;\n}\n\n// Generate Excel for Client\nexport function generateClientExcel(\n  clientName: string,\n  metrics: ReportMetrics,\n  campaigns: CampaignData[],\n  performanceData: PerformanceData[],\n  dateRange: { start: string; end: string }\n) {\n  const wb = XLSX.utils.book_new();\n\n  // Summary Sheet\n  const summaryData = [\n    [`Client Report: ${clientName}`],\n    [`Report Period: ${dateRange.start} - ${dateRange.end}`],\n    [`Generated: ${new Date().toLocaleString()}`],\n    [],\n    ['Performance Summary'],\n    ['Metric', 'Value'],\n    ['Total Spend', metrics.totalSpend],\n    ['Total Revenue', metrics.totalRevenue],\n    ['ROAS', metrics.averageROAS],\n    ['Conversions', metrics.totalConversions],\n    ['Clicks', metrics.totalClicks],\n    ['Impressions', metrics.totalImpressions],\n    ['CTR (%)', metrics.ctr],\n    ['CPC', metrics.cpc],\n    ['Conversion Rate (%)', metrics.convRate],\n  ];\n  const summarySheet = XLSX.utils.aoa_to_sheet(summaryData);\n  XLSX.utils.book_append_sheet(wb, summarySheet, 'Summary');\n\n  // Campaigns Sheet\n  const campaignHeaders = ['Campaign Name', 'Status', 'Spend', 'Revenue', 'ROAS', 'Conversions', 'Clicks', 'Impressions', 'CTR (%)', 'CPC', 'Conv Rate (%)'];\n  const campaignData = campaigns.map(c => [\n    c.name,\n    c.status,\n    c.spend,\n    c.revenue,\n    c.roas,\n    c.conversions,\n    c.clicks,\n    c.impressions,\n    c.ctr,\n    c.cpc,\n    c.convRate,\n  ]);\n  const campaignSheet = XLSX.utils.aoa_to_sheet([campaignHeaders, ...campaignData]);\n  XLSX.utils.book_append_sheet(wb, campaignSheet, 'Campaigns');\n\n  // Daily Performance Sheet\n  const dailyHeaders = ['Date', 'Spend', 'Revenue', 'Clicks', 'Conversions'];\n  const dailyData = performanceData.map(d => [d.date, d.spend, d.revenue, d.clicks, d.conversions]);\n  const dailySheet = XLSX.utils.aoa_to_sheet([dailyHeaders, ...dailyData]);\n  XLSX.utils.book_append_sheet(wb, dailySheet, 'Daily Performance');\n\n  return wb;\n}\n\n// Download helpers\nexport function downloadPDF(doc: jsPDF, filename: string) {\n  doc.save(`${filename}.pdf`);\n}\n\nexport function downloadExcel(wb: XLSX.WorkBook, filename: string) {\n  const excelBuffer = XLSX.write(wb, { bookType: 'xlsx', type: 'array' });\n  const blob = new Blob([excelBuffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\n  saveAs(blob, `${filename}.xlsx`);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 814, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link';\r\nimport { \r\n  DollarSign, \r\n  MousePointerClick, \r\n  TrendingUp, \r\n  TrendingDown,\r\n  Eye,\r\n  Lightbulb,\r\n  AlertTriangle,\r\n  Check,\r\n  Settings,\r\n  Link2,\r\n  Calendar,\r\n  ChevronDown,\r\n  Building2,\r\n  X,\r\n  Target,\r\n  Percent,\r\n  Users,\r\n  ArrowUpRight,\r\n  ArrowDownRight,\r\n  BarChart3,\r\n  Zap,\r\n  Award,\r\n  AlertCircle,\r\n  FileDown,\r\n  FileSpreadsheet\r\n} from 'lucide-react';\r\nimport { ExportDropdown } from '@/components/ExportButtons';\r\nimport {\r\n  generateDashboardPDF,\r\n  generateDashboardExcel,\r\n  downloadPDF,\r\n  downloadExcel,\r\n  type ReportMetrics,\r\n  type CustomerData,\r\n  type PerformanceData as ReportPerformanceData,\r\n} from '@/lib/reports/generator';\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n  Legend,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  Area,\r\n  AreaChart,\r\n  ComposedChart,\r\n} from 'recharts';\r\n\r\n// Date range presets\r\ntype DatePreset = 'last7' | 'last30' | 'lastQuarter' | 'thisQuarter' | 'ytd' | 'lastYear' | 'custom';\r\n\r\ninterface DateRange {\r\n  startDate: string;\r\n  endDate: string;\r\n}\r\n\r\nconst DATE_PRESETS: { id: DatePreset; label: string }[] = [\r\n  { id: 'last7', label: 'Last 7 Days' },\r\n  { id: 'last30', label: 'Last 30 Days' },\r\n  { id: 'thisQuarter', label: 'This Quarter' },\r\n  { id: 'lastQuarter', label: 'Last Quarter' },\r\n  { id: 'ytd', label: 'Year to Date' },\r\n  { id: 'lastYear', label: 'Last Year' },\r\n  { id: 'custom', label: 'Custom Range' },\r\n];\r\n\r\nfunction getDateRangeFromPreset(preset: DatePreset): DateRange {\r\n  const today = new Date();\r\n  const endDate = today.toISOString().split('T')[0];\r\n  \r\n  switch (preset) {\r\n    case 'last7': {\r\n      const start = new Date(today);\r\n      start.setDate(today.getDate() - 7);\r\n      return { startDate: start.toISOString().split('T')[0], endDate };\r\n    }\r\n    case 'last30': {\r\n      const start = new Date(today);\r\n      start.setDate(today.getDate() - 30);\r\n      return { startDate: start.toISOString().split('T')[0], endDate };\r\n    }\r\n    case 'thisQuarter': {\r\n      const quarter = Math.floor(today.getMonth() / 3);\r\n      const start = new Date(today.getFullYear(), quarter * 3, 1);\r\n      return { startDate: start.toISOString().split('T')[0], endDate };\r\n    }\r\n    case 'lastQuarter': {\r\n      const quarter = Math.floor(today.getMonth() / 3);\r\n      const startMonth = (quarter - 1) * 3;\r\n      const year = startMonth < 0 ? today.getFullYear() - 1 : today.getFullYear();\r\n      const adjustedStartMonth = startMonth < 0 ? 9 : startMonth;\r\n      const start = new Date(year, adjustedStartMonth, 1);\r\n      const end = new Date(year, adjustedStartMonth + 3, 0);\r\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\r\n    }\r\n    case 'ytd': {\r\n      const start = new Date(today.getFullYear(), 0, 1);\r\n      return { startDate: start.toISOString().split('T')[0], endDate };\r\n    }\r\n    case 'lastYear': {\r\n      const start = new Date(today.getFullYear() - 1, 0, 1);\r\n      const end = new Date(today.getFullYear() - 1, 11, 31);\r\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\r\n    }\r\n    default:\r\n      return { startDate: endDate, endDate };\r\n  }\r\n}\r\n\r\ninterface AccountOption {\r\n  id: string;\r\n  name: string;\r\n  platform: string;\r\n}\r\n\r\ninterface CustomerOption {\r\n  id: string;\r\n  name: string;\r\n  platform: string;\r\n}\r\n\r\ninterface CustomerMetrics {\r\n  customer_name: string;\r\n  customer_id: string;\r\n  spend: number;\r\n  revenue: number;\r\n  conversions: number;\r\n  clicks: number;\r\n  impressions: number;\r\n  ctr: number;\r\n  cpc: number;\r\n  convRate: number;\r\n  roas: number;\r\n}\r\n\r\ninterface DashboardData {\r\n  metrics: {\r\n    totalSpend: number;\r\n    totalConversions: number;\r\n    averageROAS: number;\r\n    totalImpressions: number;\r\n    totalClicks: number;\r\n    totalRevenue: number;\r\n    ctr: number;\r\n    cpc: number;\r\n    convRate: number;\r\n    spendChange: number;\r\n    conversionsChange: number;\r\n    roasChange: number;\r\n    impressionsChange: number;\r\n  };\r\n  performanceData: Array<{\r\n    date: string;\r\n    spend: number;\r\n    revenue: number;\r\n    clicks: number;\r\n    conversions: number;\r\n  }>;\r\n  platformData: Array<{\r\n    platform: string;\r\n    spend: number;\r\n    conversions: number;\r\n  }>;\r\n  customerMetrics: CustomerMetrics[];\r\n  connectedPlatforms: {\r\n    google: boolean;\r\n    meta: boolean;\r\n    linkedin: boolean;\r\n  };\r\n  insights: Array<{\r\n    id: string;\r\n    title: string;\r\n    description: string;\r\n    type: 'opportunity' | 'warning' | 'trend' | 'success';\r\n    platform: string;\r\n    metric?: string;\r\n    value?: string;\r\n  }>;\r\n}\r\n\r\n// Comprehensive demo data with realistic client portfolio\r\nconst DEMO_DATA: DashboardData = {\r\n  metrics: {\r\n    totalSpend: 107712.75,\r\n    totalConversions: 11032,\r\n    averageROAS: 2.13,\r\n    totalImpressions: 8424573,\r\n    totalClicks: 179607,\r\n    totalRevenue: 229486.50,\r\n    ctr: 2.13,\r\n    cpc: 0.60,\r\n    convRate: 6.14,\r\n    spendChange: 8.2,\r\n    conversionsChange: 15.4,\r\n    roasChange: 0.5,\r\n    impressionsChange: 12.1,\r\n  },\r\n  performanceData: [\r\n    { date: '10/29', spend: 3200, revenue: 6800, clicks: 5400, conversions: 320 },\r\n    { date: '10/31', spend: 3500, revenue: 7400, clicks: 5800, conversions: 355 },\r\n    { date: '11/02', spend: 3100, revenue: 6600, clicks: 5200, conversions: 310 },\r\n    { date: '11/04', spend: 3800, revenue: 8100, clicks: 6100, conversions: 380 },\r\n    { date: '11/06', spend: 3400, revenue: 7200, clicks: 5600, conversions: 345 },\r\n    { date: '11/08', spend: 3900, revenue: 8300, clicks: 6300, conversions: 395 },\r\n    { date: '11/10', spend: 3600, revenue: 7700, clicks: 5900, conversions: 365 },\r\n    { date: '11/12', spend: 4100, revenue: 8700, clicks: 6600, conversions: 420 },\r\n    { date: '11/14', spend: 3700, revenue: 7900, clicks: 6000, conversions: 375 },\r\n    { date: '11/16', spend: 4200, revenue: 8900, clicks: 6800, conversions: 430 },\r\n    { date: '11/18', spend: 3800, revenue: 8100, clicks: 6200, conversions: 390 },\r\n    { date: '11/20', spend: 4400, revenue: 9400, clicks: 7100, conversions: 450 },\r\n    { date: '11/22', spend: 4000, revenue: 8500, clicks: 6500, conversions: 410 },\r\n    { date: '11/24', spend: 4500, revenue: 9600, clicks: 7300, conversions: 465 },\r\n  ],\r\n  platformData: [\r\n    { platform: 'Google Ads', spend: 85500, conversions: 8850 },\r\n    { platform: 'Meta Ads', spend: 15200, conversions: 1575 },\r\n    { platform: 'LinkedIn Ads', spend: 7012.75, conversions: 607 },\r\n  ],\r\n  customerMetrics: [\r\n    { customer_name: 'Velocity Sports Agency', customer_id: 'demo-1', spend: 93518.47, revenue: 448565.87, conversions: 10157, clicks: 136124, impressions: 7874042, ctr: 1.73, cpc: 0.69, convRate: 7.46, roas: 4.80 },\r\n    { customer_name: 'Pinnacle Tech Solutions', customer_id: 'demo-2', spend: 2867.56, revenue: 281.36, conversions: 281, clicks: 4198, impressions: 56443, ctr: 7.44, cpc: 0.68, convRate: 6.69, roas: 0.10 },\r\n    { customer_name: 'Summit Industrial', customer_id: 'demo-3', spend: 2227.83, revenue: 77.00, conversions: 65, clicks: 483, impressions: 7334, ctr: 6.59, cpc: 4.61, convRate: 13.46, roas: 0.03 },\r\n    { customer_name: 'Horizon Wellness', customer_id: 'demo-4', spend: 1605.38, revenue: 715.00, conversions: 22, clicks: 390, impressions: 9959, ctr: 3.92, cpc: 4.12, convRate: 5.64, roas: 0.45 },\r\n    { customer_name: 'Atlas Creative Studio', customer_id: 'demo-5', spend: 1146.11, revenue: 7471.00, conversions: 133, clicks: 444, impressions: 10443, ctr: 4.25, cpc: 2.58, convRate: 29.95, roas: 6.52 },\r\n    { customer_name: 'Catalyst Marketing Co', customer_id: 'demo-6', spend: 983.79, revenue: 3400.00, conversions: 36, clicks: 144, impressions: 1143, ctr: 12.60, cpc: 6.83, convRate: 25.00, roas: 3.46 },\r\n    { customer_name: 'Nexus Machinery', customer_id: 'demo-7', spend: 968.36, revenue: 555.00, conversions: 63, clicks: 105, impressions: 431, ctr: 24.36, cpc: 9.22, convRate: 60.00, roas: 0.57 },\r\n    { customer_name: 'Evergreen Landscaping', customer_id: 'demo-8', spend: 2757.80, revenue: 12350.00, conversions: 276, clicks: 34963, impressions: 426213, ctr: 8.20, cpc: 0.08, convRate: 0.79, roas: 4.48 },\r\n    { customer_name: 'Quantum Analytics', customer_id: 'demo-9', spend: 1119.37, revenue: 4830.00, conversions: 141, clicks: 800, impressions: 10443, ctr: 7.66, cpc: 1.40, convRate: 17.63, roas: 4.32 },\r\n    { customer_name: 'Sterling Financial', customer_id: 'demo-10', spend: 584.87, revenue: 1200.00, conversions: 4, clicks: 956, impressions: 28122, ctr: 3.40, cpc: 0.61, convRate: 0.42, roas: 2.05 },\r\n    { customer_name: 'Pacific Coast Imports', customer_id: 'demo-11', spend: 2109.49, revenue: 8500.00, conversions: 85, clicks: 2198, impressions: 56443, ctr: 3.89, cpc: 0.96, convRate: 3.87, roas: 4.03 },\r\n    { customer_name: 'Northern Lights Events', customer_id: 'demo-12', spend: 823.72, revenue: 2541.27, conversions: 69, clicks: 802, impressions: 43556, ctr: 1.84, cpc: 1.03, convRate: 8.60, roas: 3.09 },\r\n  ],\r\n  connectedPlatforms: {\r\n    google: true,\r\n    meta: true,\r\n    linkedin: true,\r\n  },\r\n  insights: [\r\n    {\r\n      id: '1',\r\n      title: 'Velocity Sports Agency Excelling',\r\n      description: 'Top client with 4.8x ROAS driving 87% of total revenue. Consider this as benchmark for other clients.',\r\n      type: 'success' as const,\r\n      platform: 'Google Ads',\r\n    },\r\n    {\r\n      id: '2',\r\n      title: 'Atlas Creative Studio Outstanding',\r\n      description: '6.52x ROAS with 29.95% conversion rate - exceptional performance. Analyze their campaign structure.',\r\n      type: 'opportunity' as const,\r\n      platform: 'Google Ads',\r\n    },\r\n    {\r\n      id: '3',\r\n      title: 'Summit Industrial Needs Review',\r\n      description: 'Only 0.03x ROAS despite $2,227 spend. Consider pausing or restructuring campaigns.',\r\n      type: 'warning' as const,\r\n      platform: 'Google Ads',\r\n    },\r\n    {\r\n      id: '4',\r\n      title: 'High CTR on Nexus Machinery',\r\n      description: '24.36% CTR indicates strong ad relevance but low ROAS. Check landing page conversion.',\r\n      type: 'trend' as const,\r\n      platform: 'Google Ads',\r\n    },\r\n  ],\r\n};\r\n\r\nconst COLORS = ['#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16', '#f97316'];\r\n\r\nexport default function DashboardPage() {\r\n  const [data, setData] = useState<DashboardData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isDemoMode, setIsDemoMode] = useState(false);\r\n  const [hasRealData, setHasRealData] = useState(false);\r\n  \r\n  // Filter states\r\n  const [datePreset, setDatePreset] = useState<DatePreset>('last30');\r\n  const [customDateRange, setCustomDateRange] = useState<DateRange>(() => getDateRangeFromPreset('last30'));\r\n  const [showDatePicker, setShowDatePicker] = useState(false);\r\n  const [showCustomDates, setShowCustomDates] = useState(false);\r\n  \r\n  // Account filter states\r\n  const [availableAccounts, setAvailableAccounts] = useState<AccountOption[]>([]);\r\n  const [selectedAccounts, setSelectedAccounts] = useState<string[]>([]);\r\n  const [showAccountPicker, setShowAccountPicker] = useState(false);\r\n  \r\n  // Customer filter states\r\n  const [availableCustomers, setAvailableCustomers] = useState<CustomerOption[]>([]);\r\n  const [selectedCustomers, setSelectedCustomers] = useState<string[]>([]);\r\n  const [showCustomerPicker, setShowCustomerPicker] = useState(false);\r\n  \r\n  const datePickerRef = useRef<HTMLDivElement>(null);\r\n  const accountPickerRef = useRef<HTMLDivElement>(null);\r\n  const customerPickerRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close dropdowns when clicking outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (datePickerRef.current && !datePickerRef.current.contains(event.target as Node)) {\r\n        setShowDatePicker(false);\r\n      }\r\n      if (accountPickerRef.current && !accountPickerRef.current.contains(event.target as Node)) {\r\n        setShowAccountPicker(false);\r\n      }\r\n      if (customerPickerRef.current && !customerPickerRef.current.contains(event.target as Node)) {\r\n        setShowCustomerPicker(false);\r\n      }\r\n    }\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  const fetchData = async (forceDemo: boolean, dateRange?: DateRange, accounts?: string[], customers?: string[]) => {\r\n    try {\r\n      if (forceDemo) {\r\n        setIsDemoMode(true);\r\n        setData(DEMO_DATA);\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const params = new URLSearchParams();\r\n      const range = dateRange || getDateRangeFromPreset(datePreset);\r\n      params.set('startDate', range.startDate);\r\n      params.set('endDate', range.endDate);\r\n      if (accounts && accounts.length > 0) {\r\n        params.set('accounts', accounts.join(','));\r\n      }\r\n      if (customers && customers.length > 0) {\r\n        params.set('customers', customers.join(','));\r\n      }\r\n      \r\n      const response = await fetch(`/api/data?${params.toString()}`);\r\n      if (response.ok) {\r\n        const result = await response.json();\r\n        \r\n        const hasData = result.hasData || \r\n                        result.metrics?.totalSpend > 0 || \r\n                        result.metrics?.totalConversions > 0 ||\r\n                        result.metrics?.totalImpressions > 0;\r\n        \r\n        setHasRealData(hasData);\r\n        \r\n        if (result.availableAccounts?.length > 0) {\r\n          setAvailableAccounts(result.availableAccounts);\r\n        }\r\n        \r\n        if (result.availableCustomers?.length > 0) {\r\n          setAvailableCustomers(result.availableCustomers);\r\n        }\r\n        \r\n        if (hasData) {\r\n          const dashboardData: DashboardData = {\r\n            metrics: {\r\n              totalSpend: result.metrics?.totalSpend || 0,\r\n              totalConversions: result.metrics?.totalConversions || 0,\r\n              averageROAS: result.metrics?.averageROAS || 0,\r\n              totalImpressions: result.metrics?.totalImpressions || 0,\r\n              totalClicks: result.metrics?.totalClicks || 0,\r\n              totalRevenue: result.metrics?.totalRevenue || 0,\r\n              ctr: result.metrics?.totalImpressions > 0 \r\n                ? (result.metrics.totalClicks / result.metrics.totalImpressions) * 100 \r\n                : 0,\r\n              cpc: result.metrics?.totalClicks > 0 \r\n                ? result.metrics.totalSpend / result.metrics.totalClicks \r\n                : 0,\r\n              convRate: result.metrics?.totalClicks > 0 \r\n                ? (result.metrics.totalConversions / result.metrics.totalClicks) * 100 \r\n                : 0,\r\n              spendChange: result.metrics?.spendChange || 0,\r\n              conversionsChange: result.metrics?.conversionsChange || 0,\r\n              roasChange: result.metrics?.roasChange || 0,\r\n              impressionsChange: result.metrics?.impressionsChange || 0,\r\n            },\r\n            performanceData: result.performanceData || [],\r\n            platformData: result.platformData || [],\r\n            customerMetrics: result.customerMetrics || [],\r\n            connectedPlatforms: result.connectedPlatforms || { google: false, meta: false, linkedin: false },\r\n            insights: result.insights || [],\r\n          };\r\n          setData(dashboardData);\r\n        } else {\r\n          setData(null);\r\n        }\r\n      } else {\r\n        setData(null);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to fetch data:', error);\r\n      setData(null);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const demoModeEnabled = localStorage.getItem('demo_mode') === 'true';\r\n    setIsDemoMode(demoModeEnabled);\r\n    fetchData(demoModeEnabled, getDateRangeFromPreset(datePreset), selectedAccounts, selectedCustomers);\r\n  }, []);\r\n\r\n  // Filter handlers\r\n  const handleDatePresetChange = (preset: DatePreset) => {\r\n    setDatePreset(preset);\r\n    if (preset === 'custom') {\r\n      setShowCustomDates(true);\r\n    } else {\r\n      setShowCustomDates(false);\r\n      const range = getDateRangeFromPreset(preset);\r\n      setCustomDateRange(range);\r\n      setShowDatePicker(false);\r\n      fetchData(isDemoMode, range, selectedAccounts, selectedCustomers);\r\n    }\r\n  };\r\n\r\n  const handleCustomDateApply = () => {\r\n    setShowDatePicker(false);\r\n    fetchData(isDemoMode, customDateRange, selectedAccounts, selectedCustomers);\r\n  };\r\n\r\n  const handleAccountToggle = (accountId: string) => {\r\n    setSelectedAccounts(prev => \r\n      prev.includes(accountId) ? prev.filter(id => id !== accountId) : [...prev, accountId]\r\n    );\r\n  };\r\n\r\n  const applyAccountFilter = () => {\r\n    setShowAccountPicker(false);\r\n    fetchData(isDemoMode, datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset), selectedAccounts, selectedCustomers);\r\n  };\r\n\r\n  const clearAccountFilter = () => {\r\n    setSelectedAccounts([]);\r\n    setShowAccountPicker(false);\r\n    fetchData(isDemoMode, datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset), [], selectedCustomers);\r\n  };\r\n\r\n  const handleCustomerToggle = (customerId: string) => {\r\n    setSelectedCustomers(prev => \r\n      prev.includes(customerId) ? prev.filter(id => id !== customerId) : [...prev, customerId]\r\n    );\r\n  };\r\n\r\n  const applyCustomerFilter = () => {\r\n    setShowCustomerPicker(false);\r\n    fetchData(isDemoMode, datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset), selectedAccounts, selectedCustomers);\r\n  };\r\n\r\n  const clearCustomerFilter = () => {\r\n    setSelectedCustomers([]);\r\n    setShowCustomerPicker(false);\r\n    fetchData(isDemoMode, datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset), selectedAccounts, []);\r\n  };\r\n\r\n  const getDatePresetLabel = () => {\r\n    if (datePreset === 'custom') {\r\n      return `${customDateRange.startDate} - ${customDateRange.endDate}`;\r\n    }\r\n    return DATE_PRESETS.find(p => p.id === datePreset)?.label || 'Last 30 Days';\r\n  };\r\n\r\n  const getAccountFilterLabel = () => {\r\n    if (selectedAccounts.length === 0) return 'All Accounts';\r\n    if (selectedAccounts.length === 1) {\r\n      const account = availableAccounts.find(a => a.id === selectedAccounts[0]);\r\n      return account?.name || '1 Account';\r\n    }\r\n    return `${selectedAccounts.length} Accounts`;\r\n  };\r\n\r\n  const getCustomerFilterLabel = () => {\r\n    if (selectedCustomers.length === 0) return 'All Customers';\r\n    if (selectedCustomers.length === 1) {\r\n      const customer = availableCustomers.find(c => c.id === selectedCustomers[0]);\r\n      return customer?.name || '1 Customer';\r\n    }\r\n    return `${selectedCustomers.length} Customers`;\r\n  };\r\n\r\n  const customersByPlatform = availableCustomers.reduce((acc, customer) => {\r\n    if (!acc[customer.platform]) acc[customer.platform] = [];\r\n    acc[customer.platform].push(customer);\r\n    return acc;\r\n  }, {} as Record<string, CustomerOption[]>);\r\n\r\n  const formatCurrency = (num: number) => `$${num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\r\n  \r\n  const formatNumber = (num: number, decimals: number = 0) => {\r\n    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\r\n    if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\r\n    return num.toLocaleString(undefined, { maximumFractionDigits: decimals });\r\n  };\r\n\r\n  const formatPercent = (num: number) => `${num.toFixed(2)}%`;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Empty state\r\n  if (!isDemoMode && !data) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Image src=\"/logo.png\" alt=\"Marketing Analytics\" width={48} height={48} className=\"rounded-lg\" />\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">Dashboard</h1>\r\n            <p className=\"text-gray-400 mt-1\">Connect your ad platforms to get started</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"flex flex-col items-center justify-center py-20\">\r\n          <div className=\"w-24 h-24 rounded-full bg-purple-500/10 flex items-center justify-center mb-6\">\r\n            <Link2 className=\"w-12 h-12 text-purple-400\" />\r\n          </div>\r\n          <h2 className=\"text-2xl font-bold mb-2\">No Data Connected</h2>\r\n          <p className=\"text-gray-400 text-center max-w-md mb-8\">\r\n            Connect your advertising platforms to see your campaign performance, analytics, and AI-powered insights.\r\n          </p>\r\n          <Link\r\n            href=\"/dashboard/settings\"\r\n            className=\"px-6 py-3 rounded-lg bg-purple-600 hover:bg-purple-500 text-white font-medium transition-colors flex items-center gap-2\"\r\n          >\r\n            <Settings className=\"w-5 h-5\" />\r\n            Connect Ad Platforms\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const displayData = data!;\r\n  const { metrics, performanceData, platformData, customerMetrics, connectedPlatforms, insights } = displayData;\r\n\r\n  // Sort customers by spend for rankings\r\n  const sortedCustomers = [...(customerMetrics || [])].sort((a, b) => b.spend - a.spend);\r\n  const topPerformers = sortedCustomers.filter(c => c.roas > metrics.averageROAS).slice(0, 3);\r\n  const needsAttention = sortedCustomers.filter(c => c.roas < metrics.averageROAS * 0.5 && c.spend > 100).slice(0, 3);\r\n\r\n  // Export handlers\r\n  const handleExportPDF = () => {\r\n    const reportMetrics: ReportMetrics = {\r\n      totalSpend: metrics.totalSpend,\r\n      totalRevenue: metrics.totalRevenue,\r\n      totalConversions: metrics.totalConversions,\r\n      totalClicks: metrics.totalClicks,\r\n      totalImpressions: metrics.totalImpressions,\r\n      averageROAS: metrics.averageROAS,\r\n      ctr: metrics.ctr,\r\n      cpc: metrics.cpc,\r\n      convRate: metrics.convRate,\r\n    };\r\n    const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\r\n    const doc = generateDashboardPDF(\r\n      reportMetrics,\r\n      sortedCustomers as CustomerData[],\r\n      performanceData as ReportPerformanceData[],\r\n      { start: range.startDate, end: range.endDate },\r\n      'Marketing Analytics Report'\r\n    );\r\n    downloadPDF(doc, `marketing-report-${range.startDate}-to-${range.endDate}`);\r\n  };\r\n\r\n  const handleExportExcel = () => {\r\n    const reportMetrics: ReportMetrics = {\r\n      totalSpend: metrics.totalSpend,\r\n      totalRevenue: metrics.totalRevenue,\r\n      totalConversions: metrics.totalConversions,\r\n      totalClicks: metrics.totalClicks,\r\n      totalImpressions: metrics.totalImpressions,\r\n      averageROAS: metrics.averageROAS,\r\n      ctr: metrics.ctr,\r\n      cpc: metrics.cpc,\r\n      convRate: metrics.convRate,\r\n    };\r\n    const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\r\n    const wb = generateDashboardExcel(\r\n      reportMetrics,\r\n      sortedCustomers as CustomerData[],\r\n      performanceData as ReportPerformanceData[],\r\n      { start: range.startDate, end: range.endDate }\r\n    );\r\n    downloadExcel(wb, `marketing-data-${range.startDate}-to-${range.endDate}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Demo Mode Banner */}\r\n      {isDemoMode && (\r\n        <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"w-10 h-10 rounded-lg bg-emerald-500/20 flex items-center justify-center\">\r\n              <Eye className=\"w-5 h-5 text-emerald-400\" />\r\n            </div>\r\n            <div>\r\n              <p className=\"font-medium text-emerald-400\">Demo Mode Active</p>\r\n              <p className=\"text-sm text-gray-400\">You're viewing sample data. Sign up to connect your real ad accounts.</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header with Filters */}\r\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <Image src=\"/logo.png\" alt=\"Marketing Analytics\" width={48} height={48} className=\"rounded-lg\" />\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold\">Performance Dashboard</h1>\r\n            <p className=\"text-gray-400 mt-1\">{isDemoMode ? 'Sample Data Preview' : `${sortedCustomers.length} active clients`}</p>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Filters */}\r\n        <div className=\"flex flex-wrap items-center gap-2\">\r\n          {/* Date Filter */}\r\n          <div className=\"relative\" ref={datePickerRef}>\r\n            <button\r\n              onClick={() => setShowDatePicker(!showDatePicker)}\r\n              className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm\"\r\n            >\r\n              <Calendar className=\"w-4 h-4 text-gray-400\" />\r\n              <span>{getDatePresetLabel()}</span>\r\n              <ChevronDown className=\"w-4 h-4 text-gray-400\" />\r\n            </button>\r\n            \r\n            {showDatePicker && (\r\n              <div className=\"absolute top-full right-0 mt-2 w-64 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\r\n                <div className=\"space-y-1 mb-3\">\r\n                  {DATE_PRESETS.map(preset => (\r\n                    <button\r\n                      key={preset.id}\r\n                      onClick={() => handleDatePresetChange(preset.id)}\r\n                      className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${\r\n                        datePreset === preset.id ? 'bg-purple-600 text-white' : 'hover:bg-white/10 text-gray-300'\r\n                      }`}\r\n                    >\r\n                      {preset.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {showCustomDates && (\r\n                  <div className=\"pt-3 border-t border-white/10 space-y-3\">\r\n                    <div>\r\n                      <label className=\"block text-xs text-gray-400 mb-1\">Start Date</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={customDateRange.startDate}\r\n                        onChange={(e) => setCustomDateRange(prev => ({ ...prev, startDate: e.target.value }))}\r\n                        className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs text-gray-400 mb-1\">End Date</label>\r\n                      <input\r\n                        type=\"date\"\r\n                        value={customDateRange.endDate}\r\n                        onChange={(e) => setCustomDateRange(prev => ({ ...prev, endDate: e.target.value }))}\r\n                        className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\r\n                      />\r\n                    </div>\r\n                    <button onClick={handleCustomDateApply} className=\"w-full py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium\">\r\n                      Apply\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Customer Filter */}\r\n          {!isDemoMode && availableCustomers.length > 0 && (\r\n            <div className=\"relative\" ref={customerPickerRef}>\r\n              <button\r\n                onClick={() => setShowCustomerPicker(!showCustomerPicker)}\r\n                className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm\"\r\n              >\r\n                <Building2 className=\"w-4 h-4 text-gray-400\" />\r\n                <span>{getCustomerFilterLabel()}</span>\r\n                <ChevronDown className=\"w-4 h-4 text-gray-400\" />\r\n              </button>\r\n              \r\n              {showCustomerPicker && (\r\n                <div className=\"absolute top-full right-0 mt-2 w-80 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\r\n                  <div className=\"flex items-center justify-between mb-3\">\r\n                    <span className=\"text-sm font-medium\">Filter by Client</span>\r\n                    {selectedCustomers.length > 0 && (\r\n                      <button onClick={clearCustomerFilter} className=\"text-xs text-purple-400 hover:text-purple-300\">Clear</button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"max-h-64 overflow-y-auto space-y-2\">\r\n                    {Object.entries(customersByPlatform).map(([platform, customers]) => (\r\n                      <div key={platform}>\r\n                        <div className=\"text-xs text-gray-500 font-medium uppercase tracking-wider mb-1 px-1\">{platform}</div>\r\n                        {customers.map(customer => (\r\n                          <label key={customer.id} className=\"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer\">\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={selectedCustomers.includes(customer.id)}\r\n                              onChange={() => handleCustomerToggle(customer.id)}\r\n                              className=\"w-4 h-4 rounded border-white/20 bg-white/5 text-purple-600\"\r\n                            />\r\n                            <span className=\"text-sm truncate\">{customer.name}</span>\r\n                          </label>\r\n                        ))}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <button onClick={applyCustomerFilter} className=\"w-full mt-3 py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium\">\r\n                    Apply Filter\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Key Metrics Grid - Clickable */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\r\n        <MetricCard title=\"Total Spend\" value={formatCurrency(metrics.totalSpend)} icon={DollarSign} color=\"blue\" href=\"/dashboard/metrics/spend\" />\r\n        <MetricCard title=\"Revenue\" value={formatCurrency(metrics.totalRevenue)} icon={TrendingUp} color=\"emerald\" href=\"/dashboard/metrics/revenue\" />\r\n        <MetricCard title=\"ROAS\" value={`${metrics.averageROAS.toFixed(1)}x`} icon={Target} color=\"purple\" subtitle={metrics.averageROAS >= 3 ? 'Excellent' : metrics.averageROAS >= 2 ? 'Good' : 'Needs Work'} href=\"/dashboard/metrics/roas\" />\r\n        <MetricCard title=\"Conversions\" value={formatNumber(metrics.totalConversions)} icon={MousePointerClick} color=\"amber\" href=\"/dashboard/metrics/conversions\" />\r\n        <MetricCard title=\"CTR\" value={formatPercent(metrics.ctr)} icon={Percent} color=\"cyan\" subtitle={metrics.ctr >= 2 ? 'Above Avg' : 'Below Avg'} href=\"/dashboard/metrics/ctr\" />\r\n        <MetricCard title=\"Avg CPC\" value={formatCurrency(metrics.cpc)} icon={DollarSign} color=\"pink\" href=\"/dashboard/metrics/cpc\" />\r\n      </div>\r\n\r\n      {/* Secondary Metrics */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\r\n          <div className=\"flex items-center justify-between mb-1\">\r\n            <span className=\"text-xs text-gray-400\">Impressions</span>\r\n            <Eye className=\"w-4 h-4 text-gray-500\" />\r\n          </div>\r\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalImpressions)}</p>\r\n        </div>\r\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\r\n          <div className=\"flex items-center justify-between mb-1\">\r\n            <span className=\"text-xs text-gray-400\">Total Clicks</span>\r\n            <MousePointerClick className=\"w-4 h-4 text-gray-500\" />\r\n          </div>\r\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalClicks)}</p>\r\n        </div>\r\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\r\n          <div className=\"flex items-center justify-between mb-1\">\r\n            <span className=\"text-xs text-gray-400\">Conv. Rate</span>\r\n            <Percent className=\"w-4 h-4 text-gray-500\" />\r\n          </div>\r\n          <p className=\"text-xl font-bold\">{formatPercent(metrics.convRate)}</p>\r\n        </div>\r\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\r\n          <div className=\"flex items-center justify-between mb-1\">\r\n            <span className=\"text-xs text-gray-400\">Active Clients</span>\r\n            <Users className=\"w-4 h-4 text-gray-500\" />\r\n          </div>\r\n          <p className=\"text-xl font-bold\">{sortedCustomers.length}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Charts Row */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        {/* Performance Over Time */}\r\n        <div className=\"lg:col-span-2 p-6 rounded-xl bg-white/5 border border-white/10\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Performance Trend</h3>\r\n          <ResponsiveContainer width=\"100%\" height={280}>\r\n            <ComposedChart data={performanceData}>\r\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\r\n              <XAxis dataKey=\"date\" stroke=\"#9ca3af\" fontSize={11} />\r\n              <YAxis yAxisId=\"left\" stroke=\"#9ca3af\" fontSize={11} tickFormatter={(v) => `$${(v/1000).toFixed(0)}k`} />\r\n              <YAxis yAxisId=\"right\" orientation=\"right\" stroke=\"#9ca3af\" fontSize={11} />\r\n              <Tooltip\r\n                contentStyle={{ backgroundColor: '#1f2937', border: '1px solid #374151', borderRadius: '8px' }}\r\n                formatter={(value: number, name: string) => [\r\n                  name === 'Revenue' || name === 'Spend' ? formatCurrency(value) : formatNumber(value),\r\n                  name\r\n                ]}\r\n              />\r\n              <Legend />\r\n              <Bar yAxisId=\"right\" dataKey=\"conversions\" fill=\"#8b5cf6\" opacity={0.7} name=\"Conversions\" radius={[2, 2, 0, 0]} />\r\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"spend\" stroke=\"#ef4444\" strokeWidth={2} strokeDasharray=\"5 5\" dot={false} name=\"Spend\" />\r\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"revenue\" stroke=\"#10b981\" strokeWidth={3} dot={{ fill: '#10b981', strokeWidth: 2, r: 4 }} activeDot={{ r: 6, fill: '#10b981' }} name=\"Revenue\" />\r\n            </ComposedChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n\r\n        {/* Client Distribution */}\r\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Spend by Client</h3>\r\n          <ResponsiveContainer width=\"100%\" height={280}>\r\n            <PieChart>\r\n              <Pie\r\n                data={sortedCustomers.slice(0, 8)}\r\n                dataKey=\"spend\"\r\n                nameKey=\"customer_name\"\r\n                cx=\"50%\"\r\n                cy=\"50%\"\r\n                innerRadius={50}\r\n                outerRadius={90}\r\n                paddingAngle={2}\r\n              >\r\n                {sortedCustomers.slice(0, 8).map((_, index) => (\r\n                  <Cell key={index} fill={COLORS[index % COLORS.length]} />\r\n                ))}\r\n              </Pie>\r\n              <Tooltip\r\n                contentStyle={{ \r\n                  backgroundColor: '#0f172a', \r\n                  border: '1px solid #6366f1', \r\n                  borderRadius: '8px',\r\n                  padding: '8px 12px',\r\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3)'\r\n                }}\r\n                itemStyle={{ color: '#f1f5f9' }}\r\n                labelStyle={{ color: '#f1f5f9', fontWeight: 'bold', marginBottom: '4px' }}\r\n                formatter={(value: number, name: string) => [formatCurrency(value), name]}\r\n              />\r\n            </PieChart>\r\n          </ResponsiveContainer>\r\n          <div className=\"flex flex-wrap gap-2 mt-2 justify-center\">\r\n            {sortedCustomers.slice(0, 5).map((c, i) => (\r\n              <div key={c.customer_id} className=\"flex items-center gap-1.5 text-xs\">\r\n                <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: COLORS[i] }} />\r\n                <span className=\"text-gray-400 truncate max-w-[80px]\">{c.customer_name}</span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Client Performance Table */}\r\n      {sortedCustomers.length > 0 && (\r\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold\">Client Performance</h3>\r\n            <span className=\"text-sm text-gray-400\">{sortedCustomers.length} clients</span>\r\n          </div>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full\">\r\n              <thead>\r\n                <tr className=\"text-left text-xs text-gray-400 border-b border-white/10\">\r\n                  <th className=\"pb-3 pr-4\">Client</th>\r\n                  <th className=\"pb-3 px-4 text-right\">Spend</th>\r\n                  <th className=\"pb-3 px-4 text-right\">Revenue</th>\r\n                  <th className=\"pb-3 px-4 text-right\">ROAS</th>\r\n                  <th className=\"pb-3 px-4 text-right\">Conversions</th>\r\n                  <th className=\"pb-3 px-4 text-right\">CTR</th>\r\n                  <th className=\"pb-3 px-4 text-right\">CPC</th>\r\n                  <th className=\"pb-3 pl-4 text-right\">Conv. Rate</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {sortedCustomers.map((customer, i) => (\r\n                  <tr key={customer.customer_id} className=\"border-b border-white/5 hover:bg-white/5 cursor-pointer transition-colors\">\r\n                    <td className=\"py-3 pr-4\">\r\n                      <Link href={`/dashboard/clients/${customer.customer_id}`} className=\"flex items-center gap-2 hover:text-purple-400 transition-colors\">\r\n                        <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: COLORS[i % COLORS.length] }} />\r\n                        <span className=\"font-medium\">{customer.customer_name}</span>\r\n                        {customer.roas >= metrics.averageROAS * 1.5 && <Award className=\"w-4 h-4 text-yellow-400\" />}\r\n                      </Link>\r\n                    </td>\r\n                    <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(customer.spend)}</td>\r\n                    <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(customer.revenue)}</td>\r\n                    <td className=\"py-3 px-4 text-right\">\r\n                      <span className={`font-mono text-sm ${customer.roas >= 3 ? 'text-emerald-400' : customer.roas >= 2 ? 'text-amber-400' : 'text-red-400'}`}>\r\n                        {customer.roas.toFixed(1)}x\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatNumber(customer.conversions)}</td>\r\n                    <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatPercent(customer.ctr)}</td>\r\n                    <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(customer.cpc)}</td>\r\n                    <td className=\"py-3 pl-4 text-right font-mono text-sm\">{formatPercent(customer.convRate)}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Insights & Alerts */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Top Performers */}\r\n        {topPerformers.length > 0 && (\r\n          <div className=\"p-6 rounded-xl bg-emerald-500/10 border border-emerald-500/20\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <Award className=\"w-5 h-5 text-emerald-400\" />\r\n              <h3 className=\"font-semibold text-emerald-400\">Top Performers</h3>\r\n            </div>\r\n            <div className=\"space-y-3\">\r\n              {topPerformers.map((c, i) => (\r\n                <Link key={c.customer_id} href={`/dashboard/clients/${c.customer_id}`} className=\"flex items-center justify-between p-3 rounded-lg bg-black/20 hover:bg-black/30 transition-colors\">\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <span className=\"text-2xl font-bold text-emerald-400\">#{i + 1}</span>\r\n                    <div>\r\n                      <p className=\"font-medium\">{c.customer_name}</p>\r\n                      <p className=\"text-sm text-gray-400\">{formatCurrency(c.spend)} spend</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-xl font-bold text-emerald-400\">{c.roas.toFixed(1)}x</p>\r\n                    <p className=\"text-xs text-gray-400\">ROAS</p>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Needs Attention */}\r\n        {needsAttention.length > 0 && (\r\n          <div className=\"p-6 rounded-xl bg-amber-500/10 border border-amber-500/20\">\r\n            <div className=\"flex items-center gap-2 mb-4\">\r\n              <AlertCircle className=\"w-5 h-5 text-amber-400\" />\r\n              <h3 className=\"font-semibold text-amber-400\">Needs Attention</h3>\r\n            </div>\r\n            <div className=\"space-y-3\">\r\n              {needsAttention.map((c) => (\r\n                <Link key={c.customer_id} href={`/dashboard/clients/${c.customer_id}`} className=\"flex items-center justify-between p-3 rounded-lg bg-black/20 hover:bg-black/30 transition-colors\">\r\n                  <div>\r\n                    <p className=\"font-medium\">{c.customer_name}</p>\r\n                    <p className=\"text-sm text-gray-400\">{formatCurrency(c.spend)} spend</p>\r\n                  </div>\r\n                  <div className=\"text-right\">\r\n                    <p className=\"text-xl font-bold text-amber-400\">{c.roas.toFixed(1)}x</p>\r\n                    <p className=\"text-xs text-gray-400\">Below avg ROAS</p>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* AI Insights */}\r\n      {insights.length > 0 && (\r\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\r\n          <div className=\"flex items-center gap-2 mb-4\">\r\n            <Zap className=\"w-5 h-5 text-purple-400\" />\r\n            <h3 className=\"text-lg font-semibold\">AI-Generated Insights</h3>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {insights.map((insight) => (\r\n              <div key={insight.id} className={`p-4 rounded-lg border ${\r\n                insight.type === 'warning' ? 'bg-amber-500/10 border-amber-500/20' :\r\n                insight.type === 'opportunity' ? 'bg-emerald-500/10 border-emerald-500/20' :\r\n                insight.type === 'success' ? 'bg-blue-500/10 border-blue-500/20' :\r\n                'bg-purple-500/10 border-purple-500/20'\r\n              }`}>\r\n                <div className=\"flex items-start gap-3\">\r\n                  {insight.type === 'warning' ? <AlertTriangle className=\"w-5 h-5 text-amber-400 mt-0.5\" /> :\r\n                   insight.type === 'opportunity' ? <TrendingUp className=\"w-5 h-5 text-emerald-400 mt-0.5\" /> :\r\n                   <Lightbulb className=\"w-5 h-5 text-purple-400 mt-0.5\" />}\r\n                  <div>\r\n                    <h4 className=\"font-medium\">{insight.title}</h4>\r\n                    <p className=\"text-sm text-gray-400 mt-1\">{insight.description}</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Metric Card Component - Clickable\r\nfunction MetricCard({ title, value, icon: Icon, color, subtitle, href }: {\r\n  title: string;\r\n  value: string;\r\n  icon: any;\r\n  color: string;\r\n  subtitle?: string;\r\n  href?: string;\r\n}) {\r\n  const colorClasses: Record<string, string> = {\r\n    blue: 'from-blue-500/20 to-blue-600/5 border-blue-500/20 hover:border-blue-400/40',\r\n    emerald: 'from-emerald-500/20 to-emerald-600/5 border-emerald-500/20 hover:border-emerald-400/40',\r\n    purple: 'from-purple-500/20 to-purple-600/5 border-purple-500/20 hover:border-purple-400/40',\r\n    amber: 'from-amber-500/20 to-amber-600/5 border-amber-500/20 hover:border-amber-400/40',\r\n    cyan: 'from-cyan-500/20 to-cyan-600/5 border-cyan-500/20 hover:border-cyan-400/40',\r\n    pink: 'from-pink-500/20 to-pink-600/5 border-pink-500/20 hover:border-pink-400/40',\r\n  };\r\n  \r\n  const iconColors: Record<string, string> = {\r\n    blue: 'text-blue-400',\r\n    emerald: 'text-emerald-400',\r\n    purple: 'text-purple-400',\r\n    amber: 'text-amber-400',\r\n    cyan: 'text-cyan-400',\r\n    pink: 'text-pink-400',\r\n  };\r\n\r\n  const content = (\r\n    <>\r\n      <div className=\"flex items-center justify-between mb-2\">\r\n        <span className=\"text-xs text-gray-400\">{title}</span>\r\n        <Icon className={`w-4 h-4 ${iconColors[color]}`} />\r\n      </div>\r\n      <p className=\"text-xl font-bold\">{value}</p>\r\n      {subtitle && <p className=\"text-xs text-gray-500 mt-1\">{subtitle}</p>}\r\n    </>\r\n  );\r\n\r\n  if (href) {\r\n    return (\r\n      <Link href={href} className={`block p-4 rounded-xl bg-gradient-to-br ${colorClasses[color]} border transition-colors cursor-pointer`}>\r\n        {content}\r\n      </Link>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`p-4 rounded-xl bg-gradient-to-br ${colorClasses[color]} border`}>\r\n      {content}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}