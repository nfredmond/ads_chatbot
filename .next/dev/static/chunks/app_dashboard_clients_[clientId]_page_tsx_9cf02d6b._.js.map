{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Code/Mike%20Strickler/ADs%20Chatbot/ai-gateway-experiment/app/dashboard/clients/%5BclientId%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef } from 'react';\nimport { useParams, useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Image from 'next/image';\nimport { \n  ArrowLeft,\n  DollarSign,\n  TrendingUp,\n  TrendingDown,\n  Target,\n  MousePointerClick,\n  Percent,\n  Calendar,\n  ChevronDown,\n  Building2,\n  Eye,\n  Users,\n  Award,\n  AlertCircle,\n  Zap,\n  BarChart3,\n  ArrowUpRight,\n  ArrowDownRight,\n  ChevronLeft,\n  ChevronRight,\n  FileDown,\n  FileSpreadsheet\n} from 'lucide-react';\nimport { ExportDropdown } from '@/components/ExportButtons';\nimport {\n  generateClientPDF,\n  generateClientExcel,\n  downloadPDF,\n  downloadExcel,\n  type ReportMetrics,\n  type CampaignData,\n  type PerformanceData as ReportPerformanceData,\n} from '@/lib/reports/generator';\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Legend,\n  Area,\n  AreaChart,\n  ComposedChart,\n  PieChart,\n  Pie,\n  Cell,\n} from 'recharts';\n\n// Date range types and presets\ntype DatePreset = 'last7' | 'last30' | 'lastQuarter' | 'thisQuarter' | 'ytd' | 'lastYear' | 'custom';\n\ninterface DateRange {\n  startDate: string;\n  endDate: string;\n}\n\nconst DATE_PRESETS: { id: DatePreset; label: string }[] = [\n  { id: 'last7', label: 'Last 7 Days' },\n  { id: 'last30', label: 'Last 30 Days' },\n  { id: 'thisQuarter', label: 'This Quarter' },\n  { id: 'lastQuarter', label: 'Last Quarter' },\n  { id: 'ytd', label: 'Year to Date' },\n  { id: 'lastYear', label: 'Last Year' },\n  { id: 'custom', label: 'Custom Range' },\n];\n\nfunction getDateRangeFromPreset(preset: DatePreset): DateRange {\n  const today = new Date();\n  const endDate = today.toISOString().split('T')[0];\n  \n  switch (preset) {\n    case 'last7': {\n      const start = new Date(today);\n      start.setDate(today.getDate() - 7);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'last30': {\n      const start = new Date(today);\n      start.setDate(today.getDate() - 30);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'thisQuarter': {\n      const quarter = Math.floor(today.getMonth() / 3);\n      const start = new Date(today.getFullYear(), quarter * 3, 1);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'lastQuarter': {\n      const quarter = Math.floor(today.getMonth() / 3);\n      const startMonth = (quarter - 1) * 3;\n      const year = startMonth < 0 ? today.getFullYear() - 1 : today.getFullYear();\n      const adjustedStartMonth = startMonth < 0 ? 9 : startMonth;\n      const start = new Date(year, adjustedStartMonth, 1);\n      const end = new Date(year, adjustedStartMonth + 3, 0);\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\n    }\n    case 'ytd': {\n      const start = new Date(today.getFullYear(), 0, 1);\n      return { startDate: start.toISOString().split('T')[0], endDate };\n    }\n    case 'lastYear': {\n      const start = new Date(today.getFullYear() - 1, 0, 1);\n      const end = new Date(today.getFullYear() - 1, 11, 31);\n      return { startDate: start.toISOString().split('T')[0], endDate: end.toISOString().split('T')[0] };\n    }\n    default:\n      return { startDate: endDate, endDate };\n  }\n}\n\ninterface CustomerOption {\n  id: string;\n  name: string;\n  platform: string;\n}\n\ninterface CampaignData {\n  id: string;\n  name: string;\n  status: string;\n  spend: number;\n  revenue: number;\n  conversions: number;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  cpc: number;\n  convRate: number;\n  roas: number;\n}\n\ninterface ClientData {\n  client: {\n    id: string;\n    name: string;\n    platform: string;\n  };\n  metrics: {\n    totalSpend: number;\n    totalConversions: number;\n    averageROAS: number;\n    totalImpressions: number;\n    totalClicks: number;\n    totalRevenue: number;\n    ctr: number;\n    cpc: number;\n    convRate: number;\n  };\n  performanceData: Array<{\n    date: string;\n    spend: number;\n    revenue: number;\n    clicks: number;\n    conversions: number;\n  }>;\n  campaigns: CampaignData[];\n  allClients: CustomerOption[];\n}\n\nconst COLORS = ['#10b981', '#3b82f6', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899', '#06b6d4', '#84cc16', '#f97316'];\n\nexport default function ClientDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const clientId = params.clientId as string;\n  \n  const [data, setData] = useState<ClientData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [isDemoMode, setIsDemoMode] = useState(false);\n  \n  // Filter states\n  const [datePreset, setDatePreset] = useState<DatePreset>('last30');\n  const [customDateRange, setCustomDateRange] = useState<DateRange>(() => getDateRangeFromPreset('last30'));\n  const [showDatePicker, setShowDatePicker] = useState(false);\n  const [showCustomDates, setShowCustomDates] = useState(false);\n  const [showClientSwitcher, setShowClientSwitcher] = useState(false);\n  \n  const datePickerRef = useRef<HTMLDivElement>(null);\n  const clientSwitcherRef = useRef<HTMLDivElement>(null);\n\n  // Load filter state from sessionStorage\n  useEffect(() => {\n    const saved = sessionStorage.getItem('dashboardFilters');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        if (parsed.datePreset) setDatePreset(parsed.datePreset);\n        if (parsed.customDateRange) setCustomDateRange(parsed.customDateRange);\n      } catch (e) {\n        console.error('Failed to parse saved filters:', e);\n      }\n    }\n  }, []);\n\n  // Save filter state\n  useEffect(() => {\n    sessionStorage.setItem('dashboardFilters', JSON.stringify({\n      datePreset,\n      customDateRange,\n    }));\n  }, [datePreset, customDateRange]);\n\n  // Close dropdowns\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (datePickerRef.current && !datePickerRef.current.contains(event.target as Node)) {\n        setShowDatePicker(false);\n      }\n      if (clientSwitcherRef.current && !clientSwitcherRef.current.contains(event.target as Node)) {\n        setShowClientSwitcher(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const demoModeEnabled = localStorage.getItem('demo_mode') === 'true';\n      setIsDemoMode(demoModeEnabled);\n      \n      if (demoModeEnabled) {\n        // Demo data for a single client\n        setData({\n          client: {\n            id: clientId,\n            name: clientId === '1' ? 'Acme Corporation' : clientId === '2' ? 'TechStart Inc' : 'Global Retail Co',\n            platform: 'google_ads',\n          },\n          metrics: {\n            totalSpend: 15000 + Math.random() * 10000,\n            totalConversions: 250 + Math.floor(Math.random() * 100),\n            averageROAS: 3 + Math.random() * 2,\n            totalImpressions: 400000 + Math.floor(Math.random() * 100000),\n            totalClicks: 12000 + Math.floor(Math.random() * 5000),\n            totalRevenue: 60000 + Math.random() * 20000,\n            ctr: 2.5 + Math.random(),\n            cpc: 1 + Math.random() * 0.5,\n            convRate: 1.5 + Math.random(),\n          },\n          performanceData: Array.from({ length: 14 }, (_, i) => ({\n            date: `11/${(i + 1).toString().padStart(2, '0')}`,\n            spend: 800 + Math.random() * 400,\n            revenue: 3000 + Math.random() * 2000,\n            clicks: 700 + Math.floor(Math.random() * 300),\n            conversions: 15 + Math.floor(Math.random() * 10),\n          })),\n          campaigns: [\n            { id: '1', name: 'Brand Awareness Campaign', status: 'active', spend: 5000, revenue: 20000, conversions: 85, clicks: 4000, impressions: 150000, ctr: 2.67, cpc: 1.25, convRate: 2.13, roas: 4.0 },\n            { id: '2', name: 'Product Launch Q4', status: 'active', spend: 4500, revenue: 18000, conversions: 72, clicks: 3500, impressions: 120000, ctr: 2.92, cpc: 1.29, convRate: 2.06, roas: 4.0 },\n            { id: '3', name: 'Retargeting - Cart Abandoners', status: 'active', spend: 3000, revenue: 15000, conversions: 55, clicks: 2500, impressions: 80000, ctr: 3.13, cpc: 1.20, convRate: 2.20, roas: 5.0 },\n            { id: '4', name: 'Competitor Targeting', status: 'paused', spend: 2000, revenue: 6000, conversions: 25, clicks: 1800, impressions: 60000, ctr: 3.00, cpc: 1.11, convRate: 1.39, roas: 3.0 },\n            { id: '5', name: 'Holiday Special Promo', status: 'active', spend: 500, revenue: 1000, conversions: 13, clicks: 200, impressions: 10000, ctr: 2.00, cpc: 2.50, convRate: 6.50, roas: 2.0 },\n          ],\n          allClients: [\n            { id: '1', name: 'Acme Corporation', platform: 'google_ads' },\n            { id: '2', name: 'TechStart Inc', platform: 'google_ads' },\n            { id: '3', name: 'Global Retail Co', platform: 'google_ads' },\n            { id: '4', name: 'FinanceFirst LLC', platform: 'google_ads' },\n            { id: '5', name: 'HealthPlus Medical', platform: 'meta_ads' },\n          ],\n        });\n        setLoading(false);\n        return;\n      }\n\n      const params = new URLSearchParams();\n      const range = datePreset === 'custom' ? customDateRange : getDateRangeFromPreset(datePreset);\n      params.set('startDate', range.startDate);\n      params.set('endDate', range.endDate);\n      params.set('clientId', clientId);\n      \n      const response = await fetch(`/api/data/client?${params.toString()}`);\n      if (response.ok) {\n        const result = await response.json();\n        setData(result);\n      }\n    } catch (error) {\n      console.error('Failed to fetch client data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [clientId, datePreset, customDateRange]);\n\n  const handleDatePresetChange = (preset: DatePreset) => {\n    setDatePreset(preset);\n    if (preset === 'custom') {\n      setShowCustomDates(true);\n    } else {\n      setShowCustomDates(false);\n      const range = getDateRangeFromPreset(preset);\n      setCustomDateRange(range);\n      setShowDatePicker(false);\n    }\n  };\n\n  const handleCustomDateApply = () => {\n    setShowDatePicker(false);\n  };\n\n  const switchToClient = (newClientId: string) => {\n    setShowClientSwitcher(false);\n    router.push(`/dashboard/clients/${newClientId}`);\n  };\n\n  const getDatePresetLabel = () => {\n    if (datePreset === 'custom') {\n      return `${customDateRange.startDate} - ${customDateRange.endDate}`;\n    }\n    return DATE_PRESETS.find(p => p.id === datePreset)?.label || 'Last 30 Days';\n  };\n\n  const formatCurrency = (num: number) => `$${num.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n  const formatNumber = (num: number, decimals: number = 0) => {\n    if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';\n    if (num >= 1000) return (num / 1000).toFixed(1) + 'K';\n    return num.toLocaleString(undefined, { maximumFractionDigits: decimals });\n  };\n  const formatPercent = (num: number) => `${num.toFixed(2)}%`;\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-full\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500\"></div>\n      </div>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"flex flex-col items-center justify-center h-full\">\n        <p className=\"text-xl text-gray-400\">Client not found</p>\n        <Link href=\"/dashboard\" className=\"mt-4 text-purple-400 hover:text-purple-300\">\n          ‚Üê Back to Dashboard\n        </Link>\n      </div>\n    );\n  }\n\n  const { client, metrics, performanceData, campaigns, allClients } = data;\n\n  // Find current client index for prev/next navigation\n  const currentIndex = allClients.findIndex(c => c.id === clientId);\n  const prevClient = currentIndex > 0 ? allClients[currentIndex - 1] : null;\n  const nextClient = currentIndex < allClients.length - 1 ? allClients[currentIndex + 1] : null;\n\n  // Sort campaigns by spend\n  const sortedCampaigns = [...campaigns].sort((a, b) => b.spend - a.spend);\n  const activeCampaigns = campaigns.filter(c => c.status === 'active').length;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Demo Mode Banner */}\n      {isDemoMode && (\n        <div className=\"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <Eye className=\"w-5 h-5 text-emerald-400\" />\n            <div>\n              <p className=\"font-medium text-emerald-400\">Demo Mode Active</p>\n              <p className=\"text-sm text-gray-400\">Viewing sample client data</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4\">\n        <div className=\"flex items-center gap-4\">\n          <button \n            onClick={() => router.push('/dashboard')}\n            className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors\"\n          >\n            <ArrowLeft className=\"w-5 h-5\" />\n          </button>\n          \n          {/* Client Switcher */}\n          <div className=\"relative\" ref={clientSwitcherRef}>\n            <button\n              onClick={() => setShowClientSwitcher(!showClientSwitcher)}\n              className=\"flex items-center gap-3 p-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors\"\n            >\n              <div className=\"w-10 h-10 rounded-lg bg-purple-500/20 flex items-center justify-center\">\n                <Building2 className=\"w-5 h-5 text-purple-400\" />\n              </div>\n              <div className=\"text-left\">\n                <h1 className=\"text-xl font-bold\">{client.name}</h1>\n                <p className=\"text-sm text-gray-400\">{client.platform.replace('_', ' ')}</p>\n              </div>\n              <ChevronDown className=\"w-5 h-5 text-gray-400 ml-2\" />\n            </button>\n\n            {showClientSwitcher && (\n              <div className=\"absolute top-full left-0 mt-2 w-80 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n                <div className=\"text-sm font-medium text-gray-400 mb-2 px-2\">Switch Client</div>\n                <div className=\"max-h-64 overflow-y-auto space-y-1\">\n                  {allClients.map(c => (\n                    <button\n                      key={c.id}\n                      onClick={() => switchToClient(c.id)}\n                      className={`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-left transition-colors ${\n                        c.id === clientId ? 'bg-purple-600 text-white' : 'hover:bg-white/10 text-gray-300'\n                      }`}\n                    >\n                      <Building2 className=\"w-4 h-4\" />\n                      <div>\n                        <p className=\"font-medium\">{c.name}</p>\n                        <p className=\"text-xs opacity-70\">{c.platform.replace('_', ' ')}</p>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Prev/Next Navigation */}\n          <div className=\"flex items-center gap-1\">\n            <button\n              onClick={() => prevClient && switchToClient(prevClient.id)}\n              disabled={!prevClient}\n              className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors disabled:opacity-30 disabled:cursor-not-allowed\"\n              title={prevClient?.name || 'No previous client'}\n            >\n              <ChevronLeft className=\"w-4 h-4\" />\n            </button>\n            <button\n              onClick={() => nextClient && switchToClient(nextClient.id)}\n              disabled={!nextClient}\n              className=\"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors disabled:opacity-30 disabled:cursor-not-allowed\"\n              title={nextClient?.name || 'No next client'}\n            >\n              <ChevronRight className=\"w-4 h-4\" />\n            </button>\n          </div>\n        </div>\n        \n        {/* Date Filter */}\n        <div className=\"relative\" ref={datePickerRef}>\n          <button\n            onClick={() => setShowDatePicker(!showDatePicker)}\n            className=\"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm\"\n          >\n            <Calendar className=\"w-4 h-4 text-gray-400\" />\n            <span>{getDatePresetLabel()}</span>\n            <ChevronDown className=\"w-4 h-4 text-gray-400\" />\n          </button>\n          \n          {showDatePicker && (\n            <div className=\"absolute top-full right-0 mt-2 w-64 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50\">\n              <div className=\"space-y-1 mb-3\">\n                {DATE_PRESETS.map(preset => (\n                  <button\n                    key={preset.id}\n                    onClick={() => handleDatePresetChange(preset.id)}\n                    className={`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${\n                      datePreset === preset.id ? 'bg-purple-600 text-white' : 'hover:bg-white/10 text-gray-300'\n                    }`}\n                  >\n                    {preset.label}\n                  </button>\n                ))}\n              </div>\n              {showCustomDates && (\n                <div className=\"pt-3 border-t border-white/10 space-y-3\">\n                  <div>\n                    <label className=\"block text-xs text-gray-400 mb-1\">Start Date</label>\n                    <input\n                      type=\"date\"\n                      value={customDateRange.startDate}\n                      onChange={(e) => setCustomDateRange(prev => ({ ...prev, startDate: e.target.value }))}\n                      className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-xs text-gray-400 mb-1\">End Date</label>\n                    <input\n                      type=\"date\"\n                      value={customDateRange.endDate}\n                      onChange={(e) => setCustomDateRange(prev => ({ ...prev, endDate: e.target.value }))}\n                      className=\"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm\"\n                    />\n                  </div>\n                  <button onClick={handleCustomDateApply} className=\"w-full py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium\">\n                    Apply\n                  </button>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Key Metrics Grid - Clickable */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3\">\n        <Link href=\"/dashboard/metrics/spend\" className=\"p-4 rounded-xl bg-gradient-to-br from-blue-500/20 to-blue-600/5 border border-blue-500/20 hover:border-blue-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Total Spend</span>\n            <DollarSign className=\"w-4 h-4 text-blue-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatCurrency(metrics.totalSpend)}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/revenue\" className=\"p-4 rounded-xl bg-gradient-to-br from-emerald-500/20 to-emerald-600/5 border border-emerald-500/20 hover:border-emerald-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Revenue</span>\n            <TrendingUp className=\"w-4 h-4 text-emerald-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatCurrency(metrics.totalRevenue)}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/roas\" className=\"p-4 rounded-xl bg-gradient-to-br from-purple-500/20 to-purple-600/5 border border-purple-500/20 hover:border-purple-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">ROAS</span>\n            <Target className=\"w-4 h-4 text-purple-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{metrics.averageROAS.toFixed(1)}x</p>\n          <p className=\"text-xs text-gray-500 mt-1\">{metrics.averageROAS >= 3 ? 'Excellent' : metrics.averageROAS >= 2 ? 'Good' : 'Needs Work'}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/conversions\" className=\"p-4 rounded-xl bg-gradient-to-br from-amber-500/20 to-amber-600/5 border border-amber-500/20 hover:border-amber-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Conversions</span>\n            <MousePointerClick className=\"w-4 h-4 text-amber-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalConversions)}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/ctr\" className=\"p-4 rounded-xl bg-gradient-to-br from-cyan-500/20 to-cyan-600/5 border border-cyan-500/20 hover:border-cyan-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">CTR</span>\n            <Percent className=\"w-4 h-4 text-cyan-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatPercent(metrics.ctr)}</p>\n          <p className=\"text-xs text-gray-500 mt-1\">{metrics.ctr >= 2 ? 'Above Avg' : 'Below Avg'}</p>\n        </Link>\n        \n        <Link href=\"/dashboard/metrics/cpc\" className=\"p-4 rounded-xl bg-gradient-to-br from-pink-500/20 to-pink-600/5 border border-pink-500/20 hover:border-pink-400/40 transition-colors\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-gray-400\">Avg CPC</span>\n            <DollarSign className=\"w-4 h-4 text-pink-400\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatCurrency(metrics.cpc)}</p>\n        </Link>\n      </div>\n\n      {/* Secondary Metrics */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Impressions</span>\n            <Eye className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalImpressions)}</p>\n        </div>\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Total Clicks</span>\n            <MousePointerClick className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatNumber(metrics.totalClicks)}</p>\n        </div>\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Conv. Rate</span>\n            <Percent className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{formatPercent(metrics.convRate)}</p>\n        </div>\n        <div className=\"p-4 rounded-xl bg-white/5 border border-white/10\">\n          <div className=\"flex items-center justify-between mb-1\">\n            <span className=\"text-xs text-gray-400\">Active Campaigns</span>\n            <BarChart3 className=\"w-4 h-4 text-gray-500\" />\n          </div>\n          <p className=\"text-xl font-bold\">{activeCampaigns}</p>\n        </div>\n      </div>\n\n      {/* Performance Chart */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n        <div className=\"lg:col-span-2 p-6 rounded-xl bg-white/5 border border-white/10\">\n          <h3 className=\"text-lg font-semibold mb-4\">Performance Trend</h3>\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <ComposedChart data={performanceData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#374151\" />\n              <XAxis dataKey=\"date\" stroke=\"#9ca3af\" fontSize={11} />\n              <YAxis yAxisId=\"left\" stroke=\"#9ca3af\" fontSize={11} tickFormatter={(v) => `$${(v/1000).toFixed(0)}k`} />\n              <YAxis yAxisId=\"right\" orientation=\"right\" stroke=\"#9ca3af\" fontSize={11} />\n              <Tooltip\n                contentStyle={{ backgroundColor: '#1f2937', border: '1px solid #374151', borderRadius: '8px' }}\n                formatter={(value: number, name: string) => [\n                  name === 'Revenue' || name === 'Spend' ? formatCurrency(value) : formatNumber(value),\n                  name\n                ]}\n              />\n              <Legend />\n              <Bar yAxisId=\"right\" dataKey=\"conversions\" fill=\"#8b5cf6\" opacity={0.7} name=\"Conversions\" radius={[2, 2, 0, 0]} />\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"spend\" stroke=\"#ef4444\" strokeWidth={2} strokeDasharray=\"5 5\" dot={false} name=\"Spend\" />\n              <Line yAxisId=\"left\" type=\"monotone\" dataKey=\"revenue\" stroke=\"#10b981\" strokeWidth={3} dot={{ fill: '#10b981', strokeWidth: 2, r: 4 }} activeDot={{ r: 6, fill: '#10b981' }} name=\"Revenue\" />\n            </ComposedChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Campaign Distribution */}\n        <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n          <h3 className=\"text-lg font-semibold mb-4\">Spend by Campaign</h3>\n          <ResponsiveContainer width=\"100%\" height={280}>\n            <PieChart>\n              <Pie\n                data={sortedCampaigns.slice(0, 5)}\n                dataKey=\"spend\"\n                nameKey=\"name\"\n                cx=\"50%\"\n                cy=\"50%\"\n                innerRadius={50}\n                outerRadius={90}\n                paddingAngle={2}\n              >\n                {sortedCampaigns.slice(0, 5).map((_, index) => (\n                  <Cell key={index} fill={COLORS[index % COLORS.length]} />\n                ))}\n              </Pie>\n              <Tooltip\n                contentStyle={{ \n                  backgroundColor: '#0f172a', \n                  border: '1px solid #6366f1', \n                  borderRadius: '8px',\n                  padding: '8px 12px',\n                  boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.3)'\n                }}\n                itemStyle={{ color: '#f1f5f9' }}\n                labelStyle={{ color: '#f1f5f9', fontWeight: 'bold', marginBottom: '4px' }}\n                formatter={(value: number, name: string) => [formatCurrency(value), name]}\n              />\n            </PieChart>\n          </ResponsiveContainer>\n        </div>\n      </div>\n\n      {/* Campaigns Table */}\n      <div className=\"p-6 rounded-xl bg-white/5 border border-white/10\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h3 className=\"text-lg font-semibold\">Campaigns</h3>\n          <span className=\"text-sm text-gray-400\">{campaigns.length} campaigns</span>\n        </div>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"text-left text-xs text-gray-400 border-b border-white/10\">\n                <th className=\"pb-3 pr-4\">Campaign</th>\n                <th className=\"pb-3 px-4 text-center\">Status</th>\n                <th className=\"pb-3 px-4 text-right\">Spend</th>\n                <th className=\"pb-3 px-4 text-right\">Revenue</th>\n                <th className=\"pb-3 px-4 text-right\">ROAS</th>\n                <th className=\"pb-3 px-4 text-right\">Conversions</th>\n                <th className=\"pb-3 px-4 text-right\">CTR</th>\n                <th className=\"pb-3 pl-4 text-right\">CPC</th>\n              </tr>\n            </thead>\n            <tbody>\n              {sortedCampaigns.map((campaign, i) => (\n                <tr key={campaign.id} className=\"border-b border-white/5 hover:bg-white/5\">\n                  <td className=\"py-3 pr-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <div className=\"w-2 h-2 rounded-full\" style={{ backgroundColor: COLORS[i % COLORS.length] }} />\n                      <span className=\"font-medium\">{campaign.name}</span>\n                    </div>\n                  </td>\n                  <td className=\"py-3 px-4 text-center\">\n                    <span className={`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${\n                      campaign.status === 'active' ? 'bg-emerald-500/20 text-emerald-400' :\n                      campaign.status === 'paused' ? 'bg-amber-500/20 text-amber-400' :\n                      'bg-red-500/20 text-red-400'\n                    }`}>\n                      {campaign.status}\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(campaign.spend)}</td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatCurrency(campaign.revenue)}</td>\n                  <td className=\"py-3 px-4 text-right\">\n                    <span className={`font-mono text-sm ${campaign.roas >= 3 ? 'text-emerald-400' : campaign.roas >= 2 ? 'text-amber-400' : 'text-red-400'}`}>\n                      {campaign.roas.toFixed(1)}x\n                    </span>\n                  </td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatNumber(campaign.conversions)}</td>\n                  <td className=\"py-3 px-4 text-right font-mono text-sm\">{formatPercent(campaign.ctr)}</td>\n                  <td className=\"py-3 pl-4 text-right font-mono text-sm\">{formatCurrency(campaign.cpc)}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Performance Insights */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Best Performing Campaign */}\n        <div className=\"p-6 rounded-xl bg-emerald-500/10 border border-emerald-500/20\">\n          <div className=\"flex items-center gap-2 mb-4\">\n            <Award className=\"w-5 h-5 text-emerald-400\" />\n            <h3 className=\"font-semibold text-emerald-400\">Best Performing Campaign</h3>\n          </div>\n          {sortedCampaigns[0] && (\n            <div className=\"p-4 rounded-lg bg-black/20\">\n              <p className=\"font-medium text-lg\">{sortedCampaigns[0].name}</p>\n              <div className=\"grid grid-cols-3 gap-4 mt-3\">\n                <div>\n                  <p className=\"text-xs text-gray-400\">ROAS</p>\n                  <p className=\"text-xl font-bold text-emerald-400\">{sortedCampaigns[0].roas.toFixed(1)}x</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-400\">Revenue</p>\n                  <p className=\"text-xl font-bold\">{formatCurrency(sortedCampaigns[0].revenue)}</p>\n                </div>\n                <div>\n                  <p className=\"text-xs text-gray-400\">Conversions</p>\n                  <p className=\"text-xl font-bold\">{formatNumber(sortedCampaigns[0].conversions)}</p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Needs Optimization */}\n        {sortedCampaigns.filter(c => c.roas < 2).length > 0 && (\n          <div className=\"p-6 rounded-xl bg-amber-500/10 border border-amber-500/20\">\n            <div className=\"flex items-center gap-2 mb-4\">\n              <AlertCircle className=\"w-5 h-5 text-amber-400\" />\n              <h3 className=\"font-semibold text-amber-400\">Needs Optimization</h3>\n            </div>\n            <div className=\"space-y-2\">\n              {sortedCampaigns.filter(c => c.roas < 2).slice(0, 3).map(campaign => (\n                <div key={campaign.id} className=\"flex items-center justify-between p-3 rounded-lg bg-black/20\">\n                  <div>\n                    <p className=\"font-medium\">{campaign.name}</p>\n                    <p className=\"text-xs text-gray-400\">{formatCurrency(campaign.spend)} spent</p>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className=\"text-lg font-bold text-amber-400\">{campaign.roas.toFixed(1)}x</p>\n                    <p className=\"text-xs text-gray-400\">ROAS</p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}