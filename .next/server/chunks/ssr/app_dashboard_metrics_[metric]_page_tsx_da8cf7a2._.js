module.exports=[16833,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(210),g=a.i(90166),h=a.i(24669),i=a.i(50429),j=a.i(40039),k=a.i(27275),l=a.i(41675),m=a.i(5784),n=a.i(67900),o=a.i(93518),p=a.i(77156),q=a.i(49041),r=a.i(77520),s=a.i(75750),t=a.i(70179),u=a.i(554),v=a.i(31760),w=["axis","item"],x=(0,c.forwardRef)((a,b)=>c.createElement(v.CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:w,tooltipPayloadSearcher:u.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),y=a.i(23665),z=a.i(58042),A=a.i(94222),B=a.i(54419),C=a.i(59854),D=a.i(48662),E=c,F=a.i(98621),G=a.i(13667),H=a.i(88949),I=a.i(36319),J=a.i(71555),K=a.i(2321),L=a.i(68932),M=a.i(56295),N=a.i(37082),O=a.i(53242),P=a.i(12791),Q=a.i(17913),R=a.i(44381),S=a.i(12168),T=a.i(98382),U=a.i(98563),V=a.i(89702),W=a.i(51434),X=(a,b,c,d)=>(0,S.selectAxisWithScale)(a,"xAxis",b,d),Y=(a,b,c,d)=>(0,S.selectTicksOfGraphicalItem)(a,"xAxis",b,d),Z=(a,b,c,d)=>(0,S.selectAxisWithScale)(a,"yAxis",c,d),$=(a,b,c,d)=>(0,S.selectTicksOfGraphicalItem)(a,"yAxis",c,d),_=(0,R.createSelector)([T.selectChartLayout,X,Z,Y,$],(a,b,c,d,e)=>(0,M.isCategoricalAxis)(a,"xAxis")?(0,M.getBandSizeOfAxis)(b,d,!1):(0,M.getBandSizeOfAxis)(c,e,!1)),aa=(0,R.createSelector)([S.selectUnfilteredCartesianItems,(a,b,c,d,e)=>e],(a,b)=>a.filter(a=>"area"===a.type).find(a=>a.id===b)),ab=(0,R.createSelector)([T.selectChartLayout,X,Z,Y,$,(a,b,c,d,e)=>{var f,g,h=aa(a,b,c,d,e);if(null!=h){var i=(0,T.selectChartLayout)(a);if(null!=(g=(0,M.isCategoricalAxis)(i,"xAxis")?(0,S.selectStackGroups)(a,"yAxis",c,d):(0,S.selectStackGroups)(a,"xAxis",b,d))){var{stackId:j}=h,k=(0,V.getStackSeriesIdentifier)(h);if(null!=j&&null!=k){var l=null==(f=g[j])?void 0:f.stackedData;return null==l?void 0:l.find(a=>a.key===k)}}}},U.selectChartDataWithIndexesIfNotInPanorama,_,aa,W.selectChartBaseValue],(a,b,c,d,e,f,g,h,i,j)=>{var k,{chartData:l,dataStartIndex:m,dataEndIndex:n}=g;if(null!=i&&("horizontal"===a||"vertical"===a)&&null!=b&&null!=c&&null!=d&&null!=e&&0!==d.length&&0!==e.length&&null!=h){var{data:o}=i;if(null!=(k=o&&o.length>0?o:null==l?void 0:l.slice(m,n+1)))return function(a){var b,{areaSettings:{connectNulls:c,baseValue:d,dataKey:e},stackedData:f,layout:g,chartBaseValue:h,xAxis:i,yAxis:j,displayedData:k,dataStartIndex:l,xAxisTicks:m,yAxisTicks:n,bandSize:o}=a,p=f&&f.length,q=((a,b,c,d,e)=>{var f=null!=c?c:b;if((0,L.isNumber)(f))return f;var g="horizontal"===a?e:d,h=g.scale.domain();if("number"===g.type){var i=Math.max(h[0],h[1]),j=Math.min(h[0],h[1]);return"dataMin"===f?j:"dataMax"===f||i<0?i:Math.max(Math.min(h[0],h[1]),0)}return"dataMin"===f?h[0]:"dataMax"===f?h[1]:h[0]})(g,h,d,i,j),r="horizontal"===g,s=!1,t=k.map((a,b)=>{p?d=f[l+b]:Array.isArray(d=(0,M.getValueByDataKey)(a,e))?s=!0:d=[q,d];var d,g=null==d[1]||p&&!c&&null==(0,M.getValueByDataKey)(a,e);return r?{x:(0,M.getCateCoordinateOfLine)({axis:i,ticks:m,bandSize:o,entry:a,index:b}),y:g?null:j.scale(d[1]),value:d,payload:a}:{x:g?null:i.scale(d[1]),y:(0,M.getCateCoordinateOfLine)({axis:j,ticks:n,bandSize:o,entry:a,index:b}),value:d,payload:a}});return b=p||s?t.map(a=>{var b=Array.isArray(a.value)?a.value[0]:null;return r?{x:a.x,y:null!=b&&null!=a.y?j.scale(b):null,payload:a.payload}:{x:null!=b?i.scale(b):null,y:a.y,payload:a.payload}}):r?j.scale(q):i.scale(q),{points:t,baseLine:b,isRange:s}}({layout:a,xAxis:b,yAxis:c,xAxisTicks:d,yAxisTicks:e,dataStartIndex:m,areaSettings:i,stackedData:f,displayedData:k,chartBaseValue:j,bandSize:h})}}),ac=a.i(25392),ad=a.i(72474),ae=a.i(92430),af=a.i(77368),ag=a.i(62320),ah=a.i(87293),ai=a.i(3041),aj=a.i(57313),ak=a.i(46780),al=a.i(77025),am=a.i(72853),an=a.i(76342),ao=a.i(10576),ap=a.i(7038),aq=a.i(96268),ar=a.i(31080),as=a.i(95272),at=["id"],au=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function av(){return(av=Object.assign.bind()).apply(null,arguments)}function aw(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(({}).hasOwnProperty.call(a,d)){if(-1!==b.indexOf(d))continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],-1===b.indexOf(c)&&({}).propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ax(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function ay(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?ax(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):ax(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function az(a,b){return a&&"none"!==a?a:b}var aA=E.memo(a=>{var{dataKey:b,data:c,stroke:d,strokeWidth:e,fill:f,name:g,hide:h,unit:i,tooltipType:j}=a,k={dataDefinedOnItem:c,positions:void 0,settings:{stroke:d,strokeWidth:e,fill:f,dataKey:b,nameKey:void 0,name:(0,M.getTooltipNameProp)(g,b),hide:h,type:j,color:az(d,f),unit:i}};return E.createElement(P.SetTooltipEntrySettings,{tooltipEntrySettings:k})});function aB(a){var{clipPathId:b,points:c,props:d}=a,{needClip:e,dot:f,dataKey:g}=d,h=(0,am.svgPropertiesNoEvents)(d);return E.createElement(J.Dots,{points:c,dot:f,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:g,baseProps:h,needClip:e,clipPathId:b})}function aC(a){var{showLabels:b,children:c,points:d}=a,e=d.map(a=>{var b,c,d={x:null!=(b=a.x)?b:0,y:null!=(c=a.y)?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ay(ay({},d),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return E.createElement(I.CartesianLabelListContextProvider,{value:b?e:void 0},c)}function aD(a){var{points:b,baseLine:c,needClip:d,clipPathId:e,props:f}=a,{layout:g,type:h,stroke:i,connectNulls:j,isRange:k}=f,{id:l}=f,m=aw(f,at),n=(0,am.svgPropertiesNoEvents)(m),o=(0,ap.svgPropertiesAndEvents)(m);return E.createElement(E.Fragment,null,(null==b?void 0:b.length)>1&&E.createElement(H.Layer,{clipPath:d?"url(#clipPath-".concat(e,")"):void 0},E.createElement(G.Curve,av({},o,{id:l,points:b,connectNulls:j,type:h,baseLine:c,layout:g,stroke:"none",className:"recharts-area-area"})),"none"!==i&&E.createElement(G.Curve,av({},n,{className:"recharts-area-curve",layout:g,type:h,connectNulls:j,fill:"none",points:b})),"none"!==i&&k&&E.createElement(G.Curve,av({},n,{className:"recharts-area-curve",layout:g,type:h,connectNulls:j,fill:"none",points:c}))),E.createElement(aB,{points:b,props:m,clipPathId:e}))}function aE(a){var{alpha:b,baseLine:c,points:d,strokeWidth:e}=a,f=d[0].y,g=d[d.length-1].y;if(!(0,ai.isWellBehavedNumber)(f)||!(0,ai.isWellBehavedNumber)(g))return null;var h=b*Math.abs(f-g),i=Math.max(...d.map(a=>a.x||0));return((0,L.isNumber)(c)?i=Math.max(c,i):c&&Array.isArray(c)&&c.length&&(i=Math.max(...c.map(a=>a.x||0),i)),(0,L.isNumber)(i))?E.createElement("rect",{x:0,y:f<g?f:f-h,width:i+(e?parseInt("".concat(e),10):1),height:Math.floor(h)}):null}function aF(a){var{alpha:b,baseLine:c,points:d,strokeWidth:e}=a,f=d[0].x,g=d[d.length-1].x;if(!(0,ai.isWellBehavedNumber)(f)||!(0,ai.isWellBehavedNumber)(g))return null;var h=b*Math.abs(f-g),i=Math.max(...d.map(a=>a.y||0));return((0,L.isNumber)(c)?i=Math.max(c,i):c&&Array.isArray(c)&&c.length&&(i=Math.max(...c.map(a=>a.y||0),i)),(0,L.isNumber)(i))?E.createElement("rect",{x:f<g?f:f-h,y:0,width:h,height:Math.floor(i+(e?parseInt("".concat(e),10):1))}):null}function aG(a){var{alpha:b,layout:c,points:d,baseLine:e,strokeWidth:f}=a;return"vertical"===c?E.createElement(aE,{alpha:b,points:d,baseLine:e,strokeWidth:f}):E.createElement(aF,{alpha:b,points:d,baseLine:e,strokeWidth:f})}function aH(a){var{needClip:b,clipPathId:c,props:d,previousPointsRef:e,previousBaselineRef:f}=a,{points:g,baseLine:h,isAnimationActive:i,animationBegin:j,animationDuration:k,animationEasing:l,onAnimationStart:m,onAnimationEnd:n}=d,o=(0,E.useMemo)(()=>({points:g,baseLine:h}),[g,h]),p=(0,ag.useAnimationId)(o,"recharts-area-"),q=(0,T.useCartesianChartLayout)(),[r,s]=(0,E.useState)(!1),t=(0,E.useCallback)(()=>{"function"==typeof n&&n(),s(!1)},[n]),u=(0,E.useCallback)(()=>{"function"==typeof m&&m(),s(!0)},[m]);if(null==q)return null;var v=e.current,w=f.current;return E.createElement(aC,{showLabels:!r,points:g},d.children,E.createElement(an.JavascriptAnimate,{animationId:p,begin:j,duration:k,isActive:i,easing:l,onAnimationEnd:t,onAnimationStart:u,key:p},a=>{if(v){var j,k=v.length/g.length,l=1===a?g:g.map((b,c)=>{var d=Math.floor(c*k);if(v[d]){var e=v[d];return ay(ay({},b),{},{x:(0,L.interpolate)(e.x,b.x,a),y:(0,L.interpolate)(e.y,b.y,a)})}return b});return j=(0,L.isNumber)(h)?(0,L.interpolate)(w,h,a):(0,L.isNullish)(h)||(0,L.isNan)(h)?(0,L.interpolate)(w,0,a):h.map((b,c)=>{var d=Math.floor(c*k);if(Array.isArray(w)&&w[d]){var e=w[d];return ay(ay({},b),{},{x:(0,L.interpolate)(e.x,b.x,a),y:(0,L.interpolate)(e.y,b.y,a)})}return b}),a>0&&(e.current=l,f.current=j),E.createElement(aD,{points:l,baseLine:j,needClip:b,clipPathId:c,props:d})}return a>0&&(e.current=g,f.current=h),E.createElement(H.Layer,null,i&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(c)},E.createElement(aG,{alpha:a,points:g,baseLine:h,layout:q,strokeWidth:d.strokeWidth}))),E.createElement(H.Layer,{clipPath:"url(#animationClipPath-".concat(c,")")},E.createElement(aD,{points:g,baseLine:h,needClip:b,clipPathId:c,props:d})))}),E.createElement(I.LabelListFromLabelProp,{label:d.label}))}function aI(a){var{needClip:b,clipPathId:c,props:d}=a,e=(0,E.useRef)(null),f=(0,E.useRef)();return E.createElement(aH,{needClip:b,clipPathId:c,props:d,previousPointsRef:e,previousBaselineRef:f})}class aJ extends E.PureComponent{render(){var{hide:a,dot:b,points:c,className:d,top:e,left:f,needClip:g,xAxisId:h,yAxisId:i,width:j,height:k,id:l,baseLine:m,zIndex:n}=this.props;if(a)return null;var o=(0,F.clsx)("recharts-area",d),{r:p,strokeWidth:q}=(0,ao.getRadiusAndStrokeWidthFromDot)(b),r=(0,N.isClipDot)(b),s=2*p+q,t=g?"url(#clipPath-".concat(r?"":"dots-").concat(l,")"):void 0;return E.createElement(aq.ZIndexLayer,{zIndex:n},E.createElement(H.Layer,{className:o},g&&E.createElement("defs",null,E.createElement(Q.GraphicalItemClipPath,{clipPathId:l,xAxisId:h,yAxisId:i}),!r&&E.createElement("clipPath",{id:"clipPath-dots-".concat(l)},E.createElement("rect",{x:f-s/2,y:e-s/2,width:j+s,height:k+s}))),E.createElement(aI,{needClip:g,clipPathId:l,props:this.props})),E.createElement(O.ActivePoints,{points:c,mainColor:az(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:t}),this.props.isRange&&Array.isArray(m)&&E.createElement(O.ActivePoints,{points:m,mainColor:az(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:t}))}}var aK={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ar.DefaultZIndexes.area};function aL(a){var b,c=(0,ah.resolveDefaultProps)(a,aK),{activeDot:d,animationBegin:e,animationDuration:f,animationEasing:g,connectNulls:h,dot:i,fill:j,fillOpacity:k,hide:l,isAnimationActive:m,legendType:n,stroke:o,xAxisId:p,yAxisId:q}=c,r=aw(c,au),s=(0,T.useChartLayout)(),t=(0,ad.useChartName)(),{needClip:u}=(0,Q.useNeedsClip)(p,q),v=(0,ac.useIsPanorama)(),{points:w,isRange:x,baseLine:y}=null!=(b=(0,af.useAppSelector)(b=>ab(b,p,q,v,a.id)))?b:{},z=(0,aj.usePlotArea)();if("horizontal"!==s&&"vertical"!==s||null==z||"AreaChart"!==t&&"ComposedChart"!==t)return null;var{height:A,width:B,x:C,y:D}=z;return w&&w.length?E.createElement(aJ,av({},r,{activeDot:d,animationBegin:e,animationDuration:f,animationEasing:g,baseLine:y,connectNulls:h,dot:i,fill:j,fillOpacity:k,height:A,hide:l,layout:s,isAnimationActive:"auto"===m?!K.Global.isSsr:m,isRange:x,legendType:n,needClip:u,points:w,stroke:o,width:B,left:C,top:D,xAxisId:p,yAxisId:q})):null}var aM=E.memo(function(a){var b=(0,ah.resolveDefaultProps)(a,aK),c=(0,ac.useIsPanorama)();return E.createElement(ak.RegisterGraphicalItemId,{id:b.id,type:"area"},a=>E.createElement(E.Fragment,null,E.createElement(ae.SetLegendPayload,{legendPayload:(a=>{var{dataKey:b,name:c,stroke:d,fill:e,legendType:f,hide:g}=a;return[{inactive:g,dataKey:b,type:f,color:az(d,e),value:(0,M.getTooltipNameProp)(c,b),payload:a}]})(b)}),E.createElement(aA,{dataKey:b.dataKey,data:b.data,stroke:b.stroke,strokeWidth:b.strokeWidth,fill:b.fill,name:b.name,hide:b.hide,unit:b.unit,tooltipType:b.tooltipType}),E.createElement(al.SetCartesianGraphicalItem,{type:"area",id:a,data:b.data,dataKey:b.dataKey,xAxisId:b.xAxisId,yAxisId:b.yAxisId,zAxisId:0,stackId:(0,M.getNormalizedStackId)(b.stackId),hide:b.hide,barSize:void 0,baseValue:b.baseValue,isPanorama:c,connectNulls:b.connectNulls}),E.createElement(aL,av({},b,{id:a}))))},as.propsAreEqual);aM.displayName="Area";var aN=["axis"],aO=(0,c.forwardRef)((a,b)=>c.createElement(v.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aN,tooltipPayloadSearcher:u.arrayTooltipSearcher,categoricalChartProps:a,ref:b})),aP=a.i(67149);let aQ=[{id:"last7",label:"Last 7 Days"},{id:"last30",label:"Last 30 Days"},{id:"thisQuarter",label:"This Quarter"},{id:"lastQuarter",label:"Last Quarter"},{id:"ytd",label:"Year to Date"},{id:"lastYear",label:"Last Year"},{id:"custom",label:"Custom Range"}];function aR(a){let b=new Date,c=b.toISOString().split("T")[0];switch(a){case"last7":{let a=new Date(b);return a.setDate(b.getDate()-7),{startDate:a.toISOString().split("T")[0],endDate:c}}case"last30":{let a=new Date(b);return a.setDate(b.getDate()-30),{startDate:a.toISOString().split("T")[0],endDate:c}}case"thisQuarter":{let a=Math.floor(b.getMonth()/3);return{startDate:new Date(b.getFullYear(),3*a,1).toISOString().split("T")[0],endDate:c}}case"lastQuarter":{let a=(Math.floor(b.getMonth()/3)-1)*3,c=a<0?b.getFullYear()-1:b.getFullYear(),d=a<0?9:a,e=new Date(c,d,1),f=new Date(c,d+3,0);return{startDate:e.toISOString().split("T")[0],endDate:f.toISOString().split("T")[0]}}case"ytd":return{startDate:new Date(b.getFullYear(),0,1).toISOString().split("T")[0],endDate:c};case"lastYear":{let a=new Date(b.getFullYear()-1,0,1),c=new Date(b.getFullYear()-1,11,31);return{startDate:a.toISOString().split("T")[0],endDate:c.toISOString().split("T")[0]}}default:return{startDate:c,endDate:c}}}let aS={spend:{title:"Total Spend Analysis",description:"Detailed breakdown of advertising spend across all clients",icon:g.DollarSign,color:"blue",dataKey:"spend",format:a=>`$${a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,sortKey:"spend",compareKey:"revenue"},revenue:{title:"Revenue Analysis",description:"Revenue generated from advertising campaigns",icon:h.TrendingUp,color:"emerald",dataKey:"revenue",format:a=>`$${a.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`,sortKey:"revenue",compareKey:"spend"},roas:{title:"ROAS Analysis",description:"Return on Ad Spend performance by client",icon:i.Target,color:"purple",dataKey:"roas",format:a=>`${a.toFixed(2)}x`,sortKey:"roas",benchmark:{good:2,excellent:4}},conversions:{title:"Conversions Analysis",description:"Conversion performance and trends across campaigns",icon:j.MousePointerClick,color:"amber",dataKey:"conversions",format:a=>a.toLocaleString(),sortKey:"conversions"},ctr:{title:"Click-Through Rate Analysis",description:"CTR performance and engagement metrics",icon:k.Percent,color:"cyan",dataKey:"clicks",format:a=>`${a.toFixed(2)}%`,sortKey:"ctr",benchmark:{good:2,excellent:5}},cpc:{title:"Cost Per Click Analysis",description:"CPC efficiency across clients and campaigns",icon:g.DollarSign,color:"pink",dataKey:"spend",format:a=>`$${a.toFixed(2)}`,sortKey:"cpc"}},aT=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#84cc16","#f97316"];function aU(){let a=(0,d.useParams)(),g=(0,d.useRouter)(),h=a.metric,[i,j]=(0,c.useState)(null),[k,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[E,F]=(0,c.useState)("last30"),[G,H]=(0,c.useState)(()=>aR("last30")),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)([]),[O,P]=(0,c.useState)([]),[Q,R]=(0,c.useState)(!1),S=(0,c.useRef)(null),T=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=sessionStorage.getItem("dashboardFilters");if(a)try{let b=JSON.parse(a);b.datePreset&&F(b.datePreset),b.customDateRange&&H(b.customDateRange),b.selectedCustomers&&P(b.selectedCustomers)}catch(a){console.error("Failed to parse saved filters:",a)}},[]),(0,c.useEffect)(()=>{sessionStorage.setItem("dashboardFilters",JSON.stringify({datePreset:E,customDateRange:G,selectedCustomers:O}))},[E,G,O]),(0,c.useEffect)(()=>{function a(a){S.current&&!S.current.contains(a.target)&&J(!1),T.current&&!T.current.contains(a.target)&&R(!1)}return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]);let U=async()=>{try{let a="true"===localStorage.getItem("demo_mode");if(w(a),a){j({metrics:{totalSpend:41340,totalConversions:694,averageROAS:3.7,totalImpressions:285e4,totalClicks:48500,totalRevenue:152958,ctr:1.7,cpc:.85,convRate:1.43},performanceData:[{date:"10/15",spend:2800,revenue:8400,clicks:3200,conversions:45},{date:"10/17",spend:3200,revenue:9600,clicks:3800,conversions:52},{date:"10/19",spend:2900,revenue:10200,clicks:3400,conversions:58},{date:"10/21",spend:3100,revenue:11500,clicks:3600,conversions:61},{date:"10/23",spend:3400,revenue:12100,clicks:4e3,conversions:68},{date:"10/25",spend:3e3,revenue:11800,clicks:3500,conversions:64},{date:"10/27",spend:3500,revenue:12500,clicks:4100,conversions:72},{date:"10/29",spend:2800,revenue:10800,clicks:3300,conversions:55}],customerMetrics:[{customer_name:"Demo Client A",customer_id:"1",spend:15e3,revenue:6e4,conversions:250,clicks:12e3,impressions:4e5,ctr:3,cpc:1.25,convRate:2.08,roas:4},{customer_name:"Demo Client B",customer_id:"2",spend:12e3,revenue:42e3,conversions:180,clicks:1e4,impressions:35e4,ctr:2.86,cpc:1.2,convRate:1.8,roas:3.5},{customer_name:"Demo Client C",customer_id:"3",spend:8e3,revenue:28e3,conversions:120,clicks:8e3,impressions:28e4,ctr:2.86,cpc:1,convRate:1.5,roas:3.5}],availableCustomers:[]}),u(!1);return}let b=new URLSearchParams,c="custom"===E?G:aR(E);b.set("startDate",c.startDate),b.set("endDate",c.endDate),O.length>0&&b.set("customers",O.join(","));let d=await fetch(`/api/data?${b.toString()}`);if(d.ok){let a=await d.json();a.availableCustomers?.length>0&&N(a.availableCustomers),j({metrics:{totalSpend:a.metrics?.totalSpend||0,totalConversions:a.metrics?.totalConversions||0,averageROAS:a.metrics?.averageROAS||0,totalImpressions:a.metrics?.totalImpressions||0,totalClicks:a.metrics?.totalClicks||0,totalRevenue:a.metrics?.totalRevenue||0,ctr:a.metrics?.totalImpressions>0?a.metrics.totalClicks/a.metrics.totalImpressions*100:0,cpc:a.metrics?.totalClicks>0?a.metrics.totalSpend/a.metrics.totalClicks:0,convRate:a.metrics?.totalClicks>0?a.metrics.totalConversions/a.metrics.totalClicks*100:0},performanceData:a.performanceData||[],customerMetrics:a.customerMetrics||[],availableCustomers:a.availableCustomers||[]})}}catch(a){console.error("Failed to fetch data:",a)}finally{u(!1)}};(0,c.useEffect)(()=>{U()},[E,G,O]);let V=aS[h];if(!V)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,b.jsx)("p",{className:"text-xl text-gray-400",children:"Metric not found"}),(0,b.jsx)(e.default,{href:"/dashboard",className:"mt-4 text-purple-400 hover:text-purple-300",children:"← Back to Dashboard"})]});if(k)return(0,b.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})});if(!i)return(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,b.jsx)("p",{className:"text-xl text-gray-400",children:"No data available"}),(0,b.jsx)(e.default,{href:"/dashboard",className:"mt-4 text-purple-400 hover:text-purple-300",children:"← Back to Dashboard"})]});let{metrics:W,performanceData:X,customerMetrics:Y}=i,Z=V.icon,$=[...Y].sort((a,b)=>{let c=a[V.sortKey],d=b[V.sortKey];return"cpc"===V.sortKey?c-d:d-c}),_=a=>{switch(h){case"spend":return a.spend;case"revenue":return a.revenue;case"roas":return a.roas;case"conversions":return a.conversions;case"ctr":return a.ctr;case"cpc":return a.cpc;default:return 0}},aa=M.reduce((a,b)=>(a[b.platform]||(a[b.platform]=[]),a[b.platform].push(b),a),{}),ab={blue:"from-blue-500/20 to-blue-600/5 border-blue-500/20 text-blue-400",emerald:"from-emerald-500/20 to-emerald-600/5 border-emerald-500/20 text-emerald-400",purple:"from-purple-500/20 to-purple-600/5 border-purple-500/20 text-purple-400",amber:"from-amber-500/20 to-amber-600/5 border-amber-500/20 text-amber-400",cyan:"from-cyan-500/20 to-cyan-600/5 border-cyan-500/20 text-cyan-400",pink:"from-pink-500/20 to-pink-600/5 border-pink-500/20 text-pink-400"};return(0,b.jsxs)("div",{className:"space-y-6",children:[v&&(0,b.jsx)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-4 flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.Eye,{className:"w-5 h-5 text-emerald-400"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-emerald-400",children:"Demo Mode Active"}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Viewing sample data"})]})]})}),(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>g.push("/dashboard"),className:"p-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors",children:(0,b.jsx)(f.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:`p-3 rounded-xl bg-gradient-to-br ${ab[V.color]}`,children:(0,b.jsx)(Z,{className:"w-6 h-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:V.title}),(0,b.jsx)("p",{className:"text-gray-400 text-sm",children:V.description})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(q.ExportDropdown,{onExportPDF:()=>{let a="custom"===E?G:aR(E),b=(()=>{switch(h){case"spend":return`$${W.totalSpend.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;case"revenue":return`$${W.totalRevenue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}`;case"roas":return`${W.averageROAS.toFixed(2)}x`;case"conversions":return W.totalConversions.toLocaleString();case"ctr":return`${W.ctr.toFixed(2)}%`;case"cpc":return`$${W.cpc.toFixed(2)}`;default:return"0"}})(),c=(0,r.generateMetricPDF)(V.title,V.description,b,$,{start:a.startDate,end:a.endDate},V.sortKey);(0,r.downloadPDF)(c,`${h}-analysis-${a.startDate}-to-${a.endDate}`)},onExportExcel:()=>{let a="custom"===E?G:aR(E),b=s.utils.book_new(),c=[[`${V.title}`],[`Report Period: ${a.startDate} - ${a.endDate}`],[`Generated: ${new Date().toLocaleString()}`],[],["Summary Metrics"],["Metric","Value"],["Total Spend",W.totalSpend],["Total Revenue",W.totalRevenue],["ROAS",W.averageROAS],["Conversions",W.totalConversions],["CTR (%)",W.ctr],["CPC",W.cpc]],d=s.utils.aoa_to_sheet(c);s.utils.book_append_sheet(b,d,"Summary");let e=["Rank","Client",V.title,"Spend","Revenue","ROAS","Conversions","CTR (%)","CPC"],f=$.map((a,b)=>[b+1,a.customer_name,a[V.sortKey],a.spend,a.revenue,a.roas,a.conversions,a.ctr,a.cpc]),g=s.utils.aoa_to_sheet([e,...f]);s.utils.book_append_sheet(b,g,"Client Rankings");let i=new Blob([s.write(b,{bookType:"xlsx",type:"array"})],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});(0,t.saveAs)(i,`${h}-analysis-${a.startDate}-to-${a.endDate}.xlsx`)},disabled:0===$.length}),(0,b.jsxs)("div",{className:"relative",ref:S,children:[(0,b.jsxs)("button",{onClick:()=>J(!I),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm",children:[(0,b.jsx)(l.Calendar,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("span",{children:"custom"===E?`${G.startDate} - ${G.endDate}`:aQ.find(a=>a.id===E)?.label||"Last 30 Days"}),(0,b.jsx)(m.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),I&&(0,b.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-64 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50",children:[(0,b.jsx)("div",{className:"space-y-1 mb-3",children:aQ.map(a=>(0,b.jsx)("button",{onClick:()=>{var b;F(b=a.id),"custom"===b?L(!0):(L(!1),H(aR(b)),J(!1))},className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ${E===a.id?"bg-purple-600 text-white":"hover:bg-white/10 text-gray-300"}`,children:a.label},a.id))}),K&&(0,b.jsxs)("div",{className:"pt-3 border-t border-white/10 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:G.startDate,onChange:a=>H(b=>({...b,startDate:a.target.value})),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs text-gray-400 mb-1",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:G.endDate,onChange:a=>H(b=>({...b,endDate:a.target.value})),className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-sm"})]}),(0,b.jsx)("button",{onClick:()=>{J(!1)},className:"w-full py-2 rounded-lg bg-purple-600 hover:bg-purple-500 text-white text-sm font-medium",children:"Apply"})]})]})]}),!v&&M.length>0&&(0,b.jsxs)("div",{className:"relative",ref:T,children:[(0,b.jsxs)("button",{onClick:()=>R(!Q),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-sm",children:[(0,b.jsx)(n.Building2,{className:"w-4 h-4 text-gray-400"}),(0,b.jsx)("span",{children:(()=>{if(0===O.length)return"All Customers";if(1===O.length){let a=M.find(a=>a.id===O[0]);return a?.name||"1 Customer"}return`${O.length} Customers`})()}),(0,b.jsx)(m.ChevronDown,{className:"w-4 h-4 text-gray-400"})]}),Q&&(0,b.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-80 p-3 rounded-xl bg-gray-900 border border-white/10 shadow-xl z-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"Filter by Client"}),O.length>0&&(0,b.jsx)("button",{onClick:()=>P([]),className:"text-xs text-purple-400 hover:text-purple-300",children:"Clear"})]}),(0,b.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-2",children:Object.entries(aa).map(([a,c])=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs text-gray-500 font-medium uppercase tracking-wider mb-1 px-1",children:a}),c.map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 px-2 py-1.5 rounded hover:bg-white/5 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:O.includes(a.id),onChange:()=>{var b;return b=a.id,void P(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},className:"w-4 h-4 rounded border-white/20 bg-white/5 text-purple-600"}),(0,b.jsx)("span",{className:"text-sm truncate",children:a.name})]},a.id))]},a))})]})]})]})]}),(0,b.jsx)("div",{className:`p-6 rounded-xl bg-gradient-to-br ${ab[V.color]} border`,children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm opacity-80 mb-1",children:["Total ",V.title.replace(" Analysis","")]}),(0,b.jsx)("p",{className:"text-4xl font-bold",children:V.format((()=>{switch(h){case"spend":return W.totalSpend;case"revenue":return W.totalRevenue;case"roas":return W.averageROAS;case"conversions":return W.totalConversions;case"ctr":return W.ctr;case"cpc":return W.cpc;default:return 0}})())})]}),(0,b.jsx)(Z,{className:"w-12 h-12 opacity-50"})]})}),(0,b.jsxs)("div",{className:"p-6 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold mb-4",children:[V.title.replace(" Analysis","")," Over Time"]}),(0,b.jsx)(D.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aO,{data:X,children:[(0,b.jsx)("defs",{children:(0,b.jsxs)("linearGradient",{id:`gradient-${h}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:aT[0],stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:aT[0],stopOpacity:0})]})}),(0,b.jsx)(B.CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),(0,b.jsx)(z.XAxis,{dataKey:"date",stroke:"#9ca3af",fontSize:11}),(0,b.jsx)(A.YAxis,{stroke:"#9ca3af",fontSize:11,tickFormatter:a=>"spend"===h||"revenue"===h?`$${(a/1e3).toFixed(0)}k`:a.toLocaleString()}),(0,b.jsx)(C.Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},formatter:a=>[V.format(a),V.title.replace(" Analysis","")]}),(0,b.jsx)(aM,{type:"monotone",dataKey:V.dataKey,stroke:aT[0],strokeWidth:2,fill:`url(#gradient-${h})`})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"p-6 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)(o.Award,{className:"w-5 h-5 text-emerald-400"}),(0,b.jsx)("h3",{className:"font-semibold",children:"Top Performers"})]}),(0,b.jsx)("div",{className:"space-y-3",children:$.slice(0,5).map((a,c)=>(0,b.jsxs)(e.default,{href:`/dashboard/clients/${a.customer_id}`,className:"flex items-center justify-between p-3 rounded-lg bg-black/20 hover:bg-black/30 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("span",{className:`text-lg font-bold ${c<3?"text-emerald-400":"text-gray-400"}`,children:["#",c+1]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.customer_name}),(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:["$",a.spend.toLocaleString()," spend"]})]})]}),(0,b.jsx)("div",{className:"text-right",children:(0,b.jsx)("p",{className:"text-lg font-bold",children:V.format(_(a))})})]},a.customer_id))})]}),(0,b.jsxs)("div",{className:"p-6 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("h3",{className:"font-semibold mb-4",children:[V.title.replace(" Analysis","")," by Client"]}),(0,b.jsx)(D.ResponsiveContainer,{width:"100%",height:280,children:(0,b.jsxs)(x,{data:$.slice(0,8),layout:"vertical",children:[(0,b.jsx)(B.CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),(0,b.jsx)(z.XAxis,{type:"number",stroke:"#9ca3af",fontSize:11,tickFormatter:a=>"spend"===h||"revenue"===h?`$${(a/1e3).toFixed(0)}k`:a.toString()}),(0,b.jsx)(A.YAxis,{type:"category",dataKey:"customer_name",stroke:"#9ca3af",fontSize:10,width:100,tick:{width:90}}),(0,b.jsx)(C.Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},formatter:a=>[V.format(a),V.title.replace(" Analysis","")]}),(0,b.jsx)(y.Bar,{dataKey:V.sortKey,radius:[0,4,4,0],children:$.slice(0,8).map((a,c)=>(0,b.jsx)(aP.Cell,{fill:aT[c%aT.length]},c))})]})})]})]}),(0,b.jsxs)("div",{className:"p-6 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold",children:["All Clients - ",V.title.replace(" Analysis","")]}),(0,b.jsxs)("span",{className:"text-sm text-gray-400",children:[$.length," clients"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-left text-xs text-gray-400 border-b border-white/10",children:[(0,b.jsx)("th",{className:"pb-3 pr-4",children:"Rank"}),(0,b.jsx)("th",{className:"pb-3 pr-4",children:"Client"}),(0,b.jsx)("th",{className:"pb-3 px-4 text-right",children:V.title.replace(" Analysis","")}),(0,b.jsx)("th",{className:"pb-3 px-4 text-right",children:"Spend"}),(0,b.jsx)("th",{className:"pb-3 px-4 text-right",children:"Revenue"}),(0,b.jsx)("th",{className:"pb-3 px-4 text-right",children:"ROAS"}),(0,b.jsx)("th",{className:"pb-3 px-4 text-right",children:"Conversions"}),(0,b.jsx)("th",{className:"pb-3 pl-4 text-right",children:"CTR"})]})}),(0,b.jsx)("tbody",{children:$.map((a,c)=>(0,b.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,b.jsx)("td",{className:"py-3 pr-4",children:(0,b.jsxs)("span",{className:`font-bold ${c<3?"text-emerald-400":"text-gray-500"}`,children:["#",c+1]})}),(0,b.jsx)("td",{className:"py-3 pr-4",children:(0,b.jsx)(e.default,{href:`/dashboard/clients/${a.customer_id}`,className:"font-medium hover:text-purple-400 transition-colors",children:a.customer_name})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right font-mono text-sm font-bold",children:V.format(_(a))}),(0,b.jsxs)("td",{className:"py-3 px-4 text-right font-mono text-sm",children:["$",a.spend.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,b.jsxs)("td",{className:"py-3 px-4 text-right font-mono text-sm",children:["$",a.revenue.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsxs)("span",{className:`font-mono text-sm ${a.roas>=3?"text-emerald-400":a.roas>=2?"text-amber-400":"text-red-400"}`,children:[a.roas.toFixed(1),"x"]})}),(0,b.jsx)("td",{className:"py-3 px-4 text-right font-mono text-sm",children:a.conversions.toLocaleString()}),(0,b.jsxs)("td",{className:"py-3 pl-4 text-right font-mono text-sm",children:[a.ctr.toFixed(2),"%"]})]},a.customer_id))})]})})]}),V.benchmark&&(0,b.jsxs)("div",{className:"p-6 rounded-xl bg-white/5 border border-white/10",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Performance Benchmarks"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-red-500/10 border border-red-500/20",children:[(0,b.jsx)("p",{className:"text-sm text-red-400 mb-1",children:"Below Average"}),(0,b.jsxs)("p",{className:"text-xl font-bold",children:[$.filter(a=>_(a)<V.benchmark.good).length," clients"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["< ",V.format(V.benchmark.good)]})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[(0,b.jsx)("p",{className:"text-sm text-amber-400 mb-1",children:"Good"}),(0,b.jsxs)("p",{className:"text-xl font-bold",children:[$.filter(a=>_(a)>=V.benchmark.good&&_(a)<V.benchmark.excellent).length," clients"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[V.format(V.benchmark.good)," - ",V.format(V.benchmark.excellent)]})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[(0,b.jsx)("p",{className:"text-sm text-emerald-400 mb-1",children:"Excellent"}),(0,b.jsxs)("p",{className:"text-xl font-bold",children:[$.filter(a=>_(a)>=V.benchmark.excellent).length," clients"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["≥ ",V.format(V.benchmark.excellent)]})]})]})]})]})}a.s(["default",()=>aU],16833)}];

//# sourceMappingURL=app_dashboard_metrics_%5Bmetric%5D_page_tsx_da8cf7a2._.js.map