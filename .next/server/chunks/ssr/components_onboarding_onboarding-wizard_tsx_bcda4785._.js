module.exports=[1817,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(69240),f=a.i(3130),g=a.i(40695),h=a.i(5522),i=a.i(17171),j=a.i(11989),j=j;let k=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var l=a.i(33441),m=a.i(52495);function n({userId:a,userEmail:n}){let[o,p]=(0,c.useState)(1),[q,r]=(0,c.useState)(!1);(0,d.useRouter)();let s=(0,e.createClient)(),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(!1),V=async()=>{r(!0);try{let{data:b}=await s.from("profiles").select("tenant_id").eq("id",a).single(),c=b?.tenant_id;if(!c){let{data:a,error:b}=await s.from("tenants").insert({name:v||"My Organization",slug:v?.toLowerCase().replace(/\s+/g,"-")||"my-org"}).select().single();if(b)throw b;c=a.id}let{error:d,data:e}=await s.from("profiles").update({full_name:t,organization:v,phone:x,tenant_id:c,onboarding_completed:!0,updated_at:new Date().toISOString()}).eq("id",a).select();if(d)throw console.error("Profile update error:",d),d;if(!e||0===e.length)throw Error("Failed to update profile");if(!H&&F&&await s.from("ad_accounts").insert({tenant_id:c,platform:"google_ads",account_id:F,account_name:"Google Ads Account",status:"active",metadata:{client_id:z,client_secret:B,developer_token:D}}),!N&&J&&L){let{error:a}=await s.from("ad_accounts").upsert({tenant_id:c,platform:"meta_ads",account_id:J,account_name:"Meta Ads Account",status:"pending",metadata:{app_id:J,app_secret:L}},{onConflict:"tenant_id,platform,account_id"});if(a)throw console.error("Meta Ads save error:",a),Error("Failed to save Meta Ads credentials. Please double-check your App ID and Secret.")}if(!T&&P&&R){let{error:a}=await s.from("ad_accounts").upsert({tenant_id:c,platform:"linkedin_ads",account_id:P,account_name:"LinkedIn Ads Account",status:"pending",metadata:{client_id:P,client_secret:R}},{onConflict:"tenant_id,platform,account_id"});if(a)throw console.error("LinkedIn Ads save error:",a),Error("Failed to save LinkedIn Ads credentials. Please double-check your Client ID and Secret.")}await new Promise(a=>setTimeout(a,500)),window.location.href="/dashboard"}catch(a){console.error("Onboarding error:",a),alert("Error completing onboarding: "+a.message),r(!1)}};return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:(0,b.jsxs)(f.Card,{className:"w-full max-w-2xl",children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Welcome to Marketing Analytics! ðŸŽ‰"}),(0,b.jsxs)(f.CardDescription,{children:["Let's get you set up in just a few steps (Step ",o," of ",4,")"]}),(0,b.jsx)("div",{className:"flex space-x-2 mt-4",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:`h-2 flex-1 rounded ${c+1<=o?"bg-blue-600":"bg-gray-200"}`},c))})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-6",children:[1===o&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Tell us about yourself"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"full-name",children:"Full Name *"}),(0,b.jsx)(h.Input,{id:"full-name",placeholder:"John Doe",value:t,onChange:a=>u(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(h.Input,{id:"email",value:n,disabled:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"organization",children:"Organization Name *"}),(0,b.jsx)(h.Input,{id:"organization",placeholder:"Acme Marketing Agency",value:v,onChange:a=>w(a.target.value),required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"phone",children:"Phone (Optional)"}),(0,b.jsx)(h.Input,{id:"phone",type:"tel",placeholder:"+1 (555) 123-4567",value:x,onChange:a=>y(a.target.value)})]})]}),2===o&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Google Ads Connection"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Connect your Google Ads account to track campaigns and get AI insights"})]}),(0,b.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("h4",{className:"font-medium text-sm flex items-center",children:[(0,b.jsx)(m.ExternalLink,{className:"w-4 h-4 mr-2"}),"Need help getting credentials?"]}),(0,b.jsx)("a",{href:"/setup/google-ads",target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs",children:"View Full Guide"})})]}),(0,b.jsxs)("ol",{className:"text-xs space-y-1 text-gray-700 dark:text-gray-300 list-decimal list-inside",children:[(0,b.jsxs)("li",{children:["Create Google Ads Manager Account (MCC) - ",(0,b.jsx)("strong",{children:"required!"})]}),(0,b.jsx)("li",{children:"Enable Google Ads API in Cloud Console"}),(0,b.jsx)("li",{children:"Create OAuth 2.0 credentials"}),(0,b.jsx)("li",{children:"Request Developer Token from API Center"}),(0,b.jsx)("li",{children:"Find Customer ID in your account (top right)"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2 italic",children:"âš ï¸ Standard accounts cannot get developer tokens - MCC required"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"google-client-id",children:"OAuth Client ID"}),(0,b.jsx)(h.Input,{id:"google-client-id",placeholder:"123456789-abc.apps.googleusercontent.com",value:z,onChange:a=>A(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"google-client-secret",children:"OAuth Client Secret"}),(0,b.jsx)(h.Input,{id:"google-client-secret",type:"password",placeholder:"GOCSPX-...",value:B,onChange:a=>C(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"google-developer-token",children:"Developer Token"}),(0,b.jsx)(h.Input,{id:"google-developer-token",type:"password",placeholder:"Your Google Ads Developer Token",value:D,onChange:a=>E(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"google-customer-id",children:"Customer ID"}),(0,b.jsx)(h.Input,{id:"google-customer-id",placeholder:"123-456-7890",value:F,onChange:a=>G(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"skip-google",checked:H,onChange:a=>I(a.target.checked),className:"rounded"}),(0,b.jsx)("label",{htmlFor:"skip-google",className:"text-sm text-gray-600 dark:text-gray-400",children:"I'll set this up later"})]})]}),3===o&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Meta Ads Connection"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Connect Facebook & Instagram Ads to your dashboard"})]}),(0,b.jsxs)("div",{className:"bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("h4",{className:"font-medium text-sm flex items-center",children:[(0,b.jsx)(m.ExternalLink,{className:"w-4 h-4 mr-2"}),"Need help getting credentials?"]}),(0,b.jsx)("a",{href:"/setup/meta-ads",target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs",children:"View Full Guide"})})]}),(0,b.jsxs)("ol",{className:"text-xs space-y-1 text-gray-700 dark:text-gray-300 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"Create Business-type app at Meta for Developers"}),(0,b.jsx)("li",{children:"Add Marketing API product to your app"}),(0,b.jsx)("li",{children:"Copy App ID and App Secret from Settings â†’ Basic"}),(0,b.jsx)("li",{children:"Request Advanced Access (1-2 weeks approval)"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2 italic",children:"ðŸ’¡ OAuth will auto-fetch your ad account - no manual token needed!"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"meta-app-id",children:"App ID"}),(0,b.jsx)(h.Input,{id:"meta-app-id",placeholder:"1234567890123456",value:J,onChange:a=>K(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"meta-app-secret",children:"App Secret"}),(0,b.jsx)(h.Input,{id:"meta-app-secret",type:"password",placeholder:"Your Meta App Secret",value:L,onChange:a=>M(a.target.value)})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"After completing onboarding, you'll be redirected to finish the Meta OAuth connection so we can fetch your ad accounts securely."})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"skip-meta",checked:N,onChange:a=>O(a.target.checked),className:"rounded"}),(0,b.jsx)("label",{htmlFor:"skip-meta",className:"text-sm text-gray-600 dark:text-gray-400",children:"I'll set this up later"})]})]}),4===o&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"LinkedIn Ads Connection"}),(0,b.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Connect your LinkedIn Ads account for B2B campaign tracking"})]}),(0,b.jsxs)("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("h4",{className:"font-medium text-sm flex items-center",children:[(0,b.jsx)(m.ExternalLink,{className:"w-4 h-4 mr-2"}),"Need help getting credentials?"]}),(0,b.jsx)("a",{href:"/setup/linkedin-ads",target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(g.Button,{variant:"outline",size:"sm",className:"text-xs",children:"View Full Guide"})})]}),(0,b.jsxs)("ol",{className:"text-xs space-y-1 text-gray-700 dark:text-gray-300 list-decimal list-inside",children:[(0,b.jsx)("li",{children:"Create app at LinkedIn Developers"}),(0,b.jsx)("li",{children:"Associate with verified Company Page"}),(0,b.jsx)("li",{children:"Request Marketing Developer Platform access"}),(0,b.jsx)("li",{children:"Wait for approval (weeks to months)"}),(0,b.jsx)("li",{children:"Copy Client ID and Secret from Auth tab"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2 italic",children:"âš ï¸ Longest approval process - apply early! OAuth auto-fetches account."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"linkedin-client-id",children:"Client ID"}),(0,b.jsx)(h.Input,{id:"linkedin-client-id",placeholder:"Your LinkedIn App Client ID",value:P,onChange:a=>Q(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"linkedin-client-secret",children:"Client Secret"}),(0,b.jsx)(h.Input,{id:"linkedin-client-secret",type:"password",placeholder:"Your LinkedIn App Client Secret",value:R,onChange:a=>S(a.target.value)})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Once onboarding is complete we'll walk you through the LinkedIn OAuth flow to securely pull campaigns with live tokens."})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"skip-linkedin",checked:T,onChange:a=>U(a.target.checked),className:"rounded"}),(0,b.jsx)("label",{htmlFor:"skip-linkedin",className:"text-sm text-gray-600 dark:text-gray-400",children:"I'll set this up later"})]})]}),(0,b.jsxs)("div",{className:"flex justify-between pt-4 border-t",children:[(0,b.jsxs)(g.Button,{variant:"outline",onClick:()=>{o>1&&p(o-1)},disabled:1===o,children:[(0,b.jsx)(k,{className:"w-4 h-4 mr-2"}),"Back"]}),o<4?(0,b.jsxs)(g.Button,{onClick:()=>{o<4&&p(o+1)},disabled:1===o&&(!t||!v),children:["Next",(0,b.jsx)(j.default,{className:"w-4 h-4 ml-2"})]}):(0,b.jsxs)(g.Button,{onClick:V,disabled:q,children:[(0,b.jsx)(l.Check,{className:"w-4 h-4 mr-2"}),q?"Completing...":"Complete Setup"]})]})]})]})})}a.s(["OnboardingWizard",()=>n],1817)}];

//# sourceMappingURL=components_onboarding_onboarding-wizard_tsx_bcda4785._.js.map